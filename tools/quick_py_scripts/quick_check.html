player createDiaryRecord ["Features",[format [localize "STR_antistasi_journal_entry_header_Features_17"],format [localize "STR_antistasi_journal_entry_text_Features_17", breachingExplosivesAPC call <b>A3A_fnc_createBreachChargeText</b>, "<br></br><br></br>", breachingExplosivesTank call <b>A3A_fnc_createBreachChargeText</b>]]];<br>-----------------------------------------------------<br>[2,"Init SQF started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Singleplayer detected: Deleting units for other players.", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Init finished",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_this call <b>A3A_fnc_initClient</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initServer</b>;<br>-----------------------------------------------------<br>[2, "Opening Singleplayer Parameter Dialog", "initServer.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createDialog_setParams</b>;<br>-----------------------------------------------------<br>[2, "Proceeding to initServer", "initServer.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initServer</b>;<br>-----------------------------------------------------<br>_nul = [_oldUnit] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>if (_owner != _oldUnit) exitWith {["Remote AI", "Died while remote controlling AI"] call <b>A3A_fnc_customHint</b>; selectPlayer _owner; disableUserInput false; deleteVehicle _newUnit};<br>-----------------------------------------------------<br>_nul = [0,-1,getPos _oldUnit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>//if (!hasACEMedical) then {[_newUnit] call <b>A3A_fnc_initRevive</b>};<br>-----------------------------------------------------<br>[_newUnit, true] remoteExec ["<b>A3A_fnc_theBossTransfer</b>", 2];<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_punishment_FF_addEH</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;		// will flip/capture if already initialized<br>-----------------------------------------------------<br>if (_markersX findIf {_pos inArea _x} != -1) then {["Static Deployed", "Static weapon has been deployed for use in a nearby zone, and will be used by garrison militia if you leave it here the next time the zone spawns"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_bag1] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[_bag2] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_reinitY</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>if (hasACE) then {[] call <b>A3A_fnc_ACEpvpReDress</b>};<br>-----------------------------------------------------<br>[3, format ["Executing on: %1", clientOwner], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Invalid bomb type", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (typeOf _plane == vehSDKPlane) then {_countX = round (_countX / 2); [3, "Rebel Airstrike", _filename] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[3, format ["Dropping %1 bombs of type %2 at %3 (near %4)", _countX, _typeX, getPos _plane,text nearestLocation [getPos _plane, "NameCity"]], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_pos] remoteExec  ["<b>A3A_fnc_napalm</b>"];<br>-----------------------------------------------------<br>[3, format ["Bombs dropped: %1", _debugCounter], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[_veh] call <b>A3A_fnc_entriesLand</b>;<br>-----------------------------------------------------<br>_wp5 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>//[_veh] call <b>A3A_fnc_entriesLand</b>;<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>[getPosASL _enemy,side _x,"Normal",_super] remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];<br>-----------------------------------------------------<br>[getPosASL _enemy,side _x,_attackType,_super] remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];<br>-----------------------------------------------------<br>if (([primaryWeapon _x] call BIS_fnc_baseWeapon) in allMachineGuns) then {[_x,_enemy] call A3A_fnc_suppressingFire} else {[_x,_x,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (([primaryWeapon _x] call BIS_fnc_baseWeapon) in allMachineGuns) then {[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>} else {[_x,_x,_enemy] spawn A3A_fnc_chargeWithSmoke};<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>[_x,_x,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>[_x,_enemy] spawn <b>A3A_fnc_useFlares</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_useFlares</b>;<br>-----------------------------------------------------<br>if (random 1 < 0.5) then {if (count units _groupX > 0) then {_x allowFleeing (1 -(_x skill "courage") + (({!([_x] call <b>A3A_fnc_canFight</b>)} count units _groupX)/(count units _groupX)))}};<br>-----------------------------------------------------<br>// usage: Activate via radio trigger, on act: ["control", Occupants] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>private _runwayTakeoff = [_markerX] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>[_plane, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _planeCrew;<br>-----------------------------------------------------<br>_wp1 setWaypointStatements ["true", format ["if !(local this) exitWith {}; [this, '%1'] spawn <b>A3A_fnc_airbomb</b>", _typeX]];<br>-----------------------------------------------------<br>[_groupPlane] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _attackingSide] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_size = [_mrkDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_groupVeh] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>if (count hcSelected player == 0) exitWith {["Artillery Support", "You must select an artillery group"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_hasArtillery) exitWith {["Artillery Support", "You must select an artillery group or it is a Mobile Mortar and it's moving"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_areAlive) exitWith {["Artillery Support", "All elements in this Batery cannot fire or are disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_hasAmmunition < 2) and (!_areReady)) exitWith {["Artillery Support", "The Battery has no ammo to fire. Reload it on HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_areReady) exitWith {["Artillery Support", "Selected Battery is busy right now"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeAmmunition == "not_supported") exitWith {["Artillery Support", "Your current modset doesent support this strike type"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Artillery Support", "Select the position on map where to perform the Artillery strike"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (count _artyArrayDef1 == 0) exitWith {["Artillery Support", "The position you marked is out of bounds for that Battery"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Artillery Support", "Select the position to finish the barrage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[theBoss,"sideChat",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat",_textX]remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat","Splash. Out"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat","Splash. Out"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < 81) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if (((isNull _medicX) or (_unit getVariable ["incapacitated",false])) and !([_unit] call <b>A3A_fnc_fatalWound</b>)) then<br>-----------------------------------------------------<br>if !([_x] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if (isNull(_unit getVariable ["helped",objNull])) then {[_unit,_medicX] spawn <b>A3A_fnc_help</b>};<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX)) then<br>-----------------------------------------------------<br>if (!([_unit] call <b>A3A_fnc_canFight</b>) or !([_nearX] call <b>A3A_fnc_canFight</b>)) exitWith {};<br>-----------------------------------------------------<br>_unit call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_objectivesX = _groupX call <b>A3A_fnc_enemyList</b>;<br>-----------------------------------------------------<br>_result = _x call <b>A3A_fnc_typeOfSoldier</b>;<br>-----------------------------------------------------<br>//_mortarsX spawn <b>A3A_fnc_mortarDrill</b>;<br>-----------------------------------------------------<br>_mortarsX spawn <b>A3A_fnc_staticMGDrill</b>;//no olvides borrar la otra funciÃ³n si esto funciona<br>-----------------------------------------------------<br>_mgs spawn <b>A3A_fnc_staticMGDrill</b>;<br>-----------------------------------------------------<br>_movable = _movable select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_baseOfFire = _baseOfFire select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_flankers = _flankers select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_objectivesX = _groupX call <b>A3A_fnc_enemyList</b>;<br>-----------------------------------------------------<br>_nearX = _groupX call <b>A3A_fnc_nearEnemy</b>;<br>-----------------------------------------------------<br>_soldiers = ((units _groupX) select {[_x] call <b>A3A_fnc_canFight</b>}) - [_groupX getVariable ["mortarX",objNull]];<br>-----------------------------------------------------<br>if (_allNearFriends findIf {(_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan") or (_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticGunner")} == -1) then<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Air",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>//_nuevataskX = ["Hide",_soldiers - (_soldiers select {(_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan") or (_x getVariable ["typeOfSoldier",""] == "StaticGunner")})];<br>-----------------------------------------------------<br>if (_allNearFriends findIf {_x call <b>A3A_fnc_typeOfSoldier</b> == "ATMan"} == -1) then<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _tanksX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _tanksX,4] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Tank",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Normal",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>[_x,_nearX] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>if (([_LeaderX] call <b>A3A_fnc_canFight</b>) and ((typeOf _LeaderX) in squadLeaders)) then {[_LeaderX,_nearX] call A3A_fnc_useFlares}<br>-----------------------------------------------------<br>if (([_LeaderX] call A3A_fnc_canFight) and ((typeOf _LeaderX) in squadLeaders)) then {[_LeaderX,_nearX] call <b>A3A_fnc_useFlares</b>}<br>-----------------------------------------------------<br>[_x,_nearX] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>[_x,_x,_nearX] spawn <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if ([getPosASL _nearX] call <b>A3A_fnc_isBuildingPosition</b>) then<br>-----------------------------------------------------<br>if ((_x call <b>A3A_fnc_typeOfSoldier</b> == "Engineer") and {_x != leader _x} and {!(_x getVariable ["maneuvering",true])} and {_x distance _nearX < 50}) exitWith {_engineerX = _x};<br>-----------------------------------------------------<br>[_engineerX,_nearX,_building] spawn <b>A3A_fnc_destroyBuilding</b>;<br>-----------------------------------------------------<br>[[_flankers,_nearX] call BIS_fnc_nearestPosition,_nearX,_building] spawn <b>A3A_fnc_assaultBuilding</b>;<br>-----------------------------------------------------<br>[_flankers,_nearX] spawn <b>A3A_fnc_doFlank</b>;<br>-----------------------------------------------------<br>_movable spawn <b>A3A_fnc_hideInBuilding</b>;<br>-----------------------------------------------------<br>if (_groupX getVariable ["taskX","Patrol"] == "Hide") then {_groupX call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_autoRearm</b>; sleep 1} forEach (_movable select {!(_x getVariable ["maneuvering",false])});<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["AI Auto Heal", "You must be leader of your group to enable Auto Heal"] call <b>A3A_fnc_customHint</b>; autoHeal = false};<br>-----------------------------------------------------<br>if ({alive _x} count _units == {isPlayer _x} count _units) exitWith {["AI Auto Heal", "Auto Heal requires at least one AI soldier in your group"] call <b>A3A_fnc_customHint</b>; autoHeal = false};<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>while {_continuar and ([_unit] call <b>A3A_fnc_canFight</b>) and (_unit getVariable "rearming") and (alive _truckX) and (_bigTimeout > time)} do<br>-----------------------------------------------------<br>waitUntil {sleep 1; !([_unit] call <b>A3A_fnc_canFight</b>) or (isNull _target) or (_unit distance _target < 3) or (_timeOut < time) or (unitReady _unit)};<br>-----------------------------------------------------<br>_unit addBackpack ((backpack _target) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>waitUntil {sleep 1; !([_unit] call <b>A3A_fnc_canFight</b>) or (!alive _truckX) or (_unit distance _truckX < 8) or (_timeOut < time)};<br>-----------------------------------------------------<br>if ((alive _truckX) and ([_unit] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>_unit addBackPackGlobal ((backpack _selectedContainer) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>if (!haveRadio && {_unit call <b>A3A_fnc_getRadio</b> == ""}) then {<br>-----------------------------------------------------<br>if ((_selectedBody call <b>A3A_fnc_getRadio</b> != "") && (_unit distance _selectedBody < _maxDistance)) then {<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>private _radio = _selectedContainer call <b>A3A_fnc_getRadio</b>;<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>private _targetFAKs = if ([_unit] call <b>A3A_fnc_isMedic</b>) then {10} else {1};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>_unit addBackPackGlobal ((backpack _selectedContainer) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {false};<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_modAggroOcc,_modAggroInv] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (_modHR) then { [1,0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2] };<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>_muzzle = [_unit] call <b>A3A_fnc_returnMuzzle</b>;<br>-----------------------------------------------------<br>if (fleeing _unit) then {[_unit,_enemy] call <b>A3A_fnc_suppressingFire</b>};<br>-----------------------------------------------------<br>if !([_engineerX] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>if !([_engineerX] call <b>A3A_fnc_canFight</b>) exitWith<br>-----------------------------------------------------<br>_engineerX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (_engineerX != leader _engineerX) then {_engineerX doMove (getPos (leader _engineerX))} else {_engineerX call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>_engineerX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (!([_nearX] call <b>A3A_fnc_canFight</b>) or !([_unit] call <b>A3A_fnc_canFight</b>)) exitWith {};<br>-----------------------------------------------------<br>waitUntil {sleep 5; !([_nearX] call <b>A3A_fnc_canFight</b>) or (time > _timeOut)};<br>-----------------------------------------------------<br>private _objectivesX = (_LeaderX nearTargets  500) select {((_x select 2) in _enemySides) and ([_x select 4] call <b>A3A_fnc_canFight</b>)};<br>-----------------------------------------------------<br>[_veh] call <b>A3A_fnc_smokeCoverAuto</b>;<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>} forEach ([20,0,position _dog,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (_unit call <b>A3A_fnc_getRadio</b> != "") then<br>-----------------------------------------------------<br>if (hasInterface) then {if (player == _unit) then {["Medical", format ["%1 is on the way to help you",name _medicX]] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_smoked = [_medicX,_unit,_enemy] call <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (!alive _unit) or (_medicX distance _unit <= 3) or (_timeOut < time) or (_unit != vehicle _unit) or (_medicX != vehicle _medicX) or (_medicX != _unit getVariable ["helped",objNull]) or !(isNull attachedTo _unit) or (_medicX getVariable ["cancelRevive",false])) exitWith {};<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX distance _unit > 3) and (_medicX == _unit getVariable ["helped",objNull]) and !(_unit getVariable ["carryX",false]) and (allUnits findIf {((side _x == Occupants) or (side _x == Invaders)) and (_x distance2D _unit < 50)} == -1)) then {_medicX setPos position _unit};<br>-----------------------------------------------------<br>if ((_unit distance _medicX <= 3) and (alive _unit) and ([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX == vehicle _medicX) and (_medicX == _unit getVariable ["helped",objNull]) and (isNull attachedTo _unit) and !(_medicX getVariable ["cancelRevive",false])) then<br>-----------------------------------------------------<br>_coverX = [_unit,_enemy] call <b>A3A_fnc_coverage</b>;<br>-----------------------------------------------------<br>{if (([_x] call <b>A3A_fnc_canFight</b>) and (_x distance _medicX < 50) and !(_x getVariable ["helping",false]) and (!isPlayer _x)) then {[_x,_enemy] call A3A_fnc_suppressingFire}} forEach units (group _medicX);<br>-----------------------------------------------------<br>{if (([_x] call A3A_fnc_canFight) and (_x distance _medicX < 50) and !(_x getVariable ["helping",false]) and (!isPlayer _x)) then {[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>}} forEach units (group _medicX);<br>-----------------------------------------------------<br>waitUntil {sleep 0.3; ((animationState _medicX) == "AmovPercMstpSlowWrflDnon_AcinPknlMwlkSlowWrflDb_2") or ((animationState _medicX) == "AmovPercMstpSnonWnonDnon_AcinPknlMwlkSnonWnonDb_2") or !([_medicX] call <b>A3A_fnc_canFight</b>) or (_timeOut < time)};<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>_dummy = [_dummyGrp, "C_man_polo_1_F", [0,0,20], [], 0, "FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (!alive _unit) or (_medicX distance _coverX <= 2) or (_timeOut < time) or (_medicX != vehicle _medicX) or (_medicX getVariable ["cancelRevive",false])) exitWith {};<br>-----------------------------------------------------<br>if ((alive _unit) and ([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX == vehicle _medicX) and !(_medicX getVariable ["cancelRevive",false])) then<br>-----------------------------------------------------<br>_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>;<br>-----------------------------------------------------<br>//if ([_medicX] call <b>A3A_fnc_canFight</b>) then {_medicX switchMove ""};<br>-----------------------------------------------------<br>//if (!_smoked) then {[_medicX,_unit] call <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>;<br>-----------------------------------------------------<br>//if (!_smoked) then {[_medicX,_unit] call <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (_unit getVariable ["incapacitated",false]) then {_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>} else {_medicX action ["HealSoldier",_unit]; _cured = true};<br>-----------------------------------------------------<br>[_medicX,_medicX] call <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_veh,_text] remoteExec  ["<b>A3A_fnc_vehicleMarkers</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["Small", _side] spawn <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>//_size = [_analyzed] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>_costs = (server getVariable (SDKExp select 0)) + ([vehSDKRepair] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[-1,-1*_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), getMarkerPos respawnTeamPlayer, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_FIAinit</b>;<br>-----------------------------------------------------<br>[_truckX,boxX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>_enemyX = _groupX call <b>A3A_fnc_nearEnemy</b>;<br>-----------------------------------------------------<br>_morty call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>[_mortarX, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if !(alive _mortarX) exitWith {_morty call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>[_mortarX, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_nul = [_pos] spawn <b>A3A_fnc_napalmDamage</b>;<br>-----------------------------------------------------<br>_nul = [_pos] spawn <b>A3A_fnc_napalmDamage</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>[_victim] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[1,_killer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[0,-2,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[20, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [20, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[-1,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[0.5, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [0.5, 45]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[-0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[typeOf _victim,_victimSide,_victimLocation,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_victimLocation,_victimSide] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2]<br>-----------------------------------------------------<br>[_victimGroup,_killer] spawn <b>A3A_fnc_AIreactOnKill</b>;<br>-----------------------------------------------------<br>if (vehicle _x == _x) then {[_x] spawn A3A_fnc_autoRearm} else {[_x,vehicle _x] spawn <b>A3A_fnc_autoLoot</b>};<br>-----------------------------------------------------<br>if (vehicle _x == _x) then {[_x] spawn <b>A3A_fnc_autoRearm</b>} else {[_x,vehicle _x] spawn A3A_fnc_autoLoot};<br>-----------------------------------------------------<br>if (count hcSelected player != 1) exitWith {["Static Auto Target", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNull _static) exitWith {["Static Auto Target", "Selected squad is not a mounted static type"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((typeOf _static == SDKMortar) and (isMultiPlayer)) exitWith {["Static Auto Target", "Static Auto Target is not available for Mortar Squads in Multiplayer"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Static Auto Target", format ["Mounted Static Squad %1 set to Auto Target Mode OFF", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Static Auto Target", format ["Mounted Static Squad %1 set to Auto Target Mode ON", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ((time > _gunner getVariable ["timeToBuild",0]) or !([_gunner] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ([_gunner] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_veh, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_backpack = _backpack call <b>A3A_fnc_basicBackpack</b>;<br>-----------------------------------------------------<br>_nul = [-2,0,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [1,0,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_markerX,_sideX] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2];<br>-----------------------------------------------------<br>[3,format["Cleanup called for unit:%1",_unit],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup called for boxx:%1",_boxX],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_boxX] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[_unit,"captureX"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>//_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>if (damage _unit >= 0.6) then {[_unit,_unit,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>_coverX = [_unit,_enemy] call <b>A3A_fnc_coverage</b>;<br>-----------------------------------------------------<br>_enemiesX = [distanceSPWN,0,_positionX,_sideX] call <b>A3A_fnc_distanceUnits</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>_backpcks pushBack (_x call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>//	{if (_x distance boxX < 10) then {[petros,"hint","Ammobox Loaded", "Cargo"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach (call A3A_fnc_playableUnits);<br>-----------------------------------------------------<br>//	{if (_x distance boxX < 10) then {[petros,"hint","Ammobox Loaded", "Cargo"] remoteExec ["A3A_fnc_commsMP",_x]}} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>_updated = [] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>[petros,"income",_updated] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"hint","Truck Loaded", "Cargo"] remoteExec ["<b>A3A_fnc_commsMP</b>",driver _destinationX];<br>-----------------------------------------------------<br>private _categories = _item call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>_item call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[_weaponMagazine] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_checkRadiosUnlocked</b>;<br>-----------------------------------------------------<br>[_nvToUnlock] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>categoryOverrides = false call <b>A3A_fnc_createNamespace</b>;<br>-----------------------------------------------------<br>_allConfigs = _allConfigs select {!(_x call <b>A3A_fnc_getModOfConfigClass</b> in disabledMods)};<br>-----------------------------------------------------<br>private _item = [_nameX] call <b>A3A_fnc_itemType</b>;<br>-----------------------------------------------------<br>private _categories = _nameX call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>if (count _this == 0) then {["Cargo", format ["Closest vehicle (%1) is empty", _vehName]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Cargo", format ["Transferred cargo from %1 to arsenal", _vehName]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_truckX,boxX,true] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>[_truckX,boxX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>private _itemType = [_className] call <b>A3A_fnc_itemType</b>;<br>-----------------------------------------------------<br>private _launcherInfo = [_className] call <b>A3A_fnc_launcherInfo</b>;<br>-----------------------------------------------------<br>private _itemMod = (_configClass call <b>A3A_fnc_getModOfConfigClass</b>);<br>-----------------------------------------------------<br>private _itemIsVanilla = [_itemMod] call <b>A3A_fnc_isModNameVanilla</b>;<br>-----------------------------------------------------<br>[4, "Ammo Truck Detected: Doubling Types", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _playerCount = if(!isNil "spoofedPlayerCount") then {spoofedPlayerCount} else {count (call <b>A3A_fnc_playableUnits</b>)};<br>-----------------------------------------------------<br>[3, format ["Function check for: %1", _choice], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Item already unlocked, rolling again."], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected Weapon Category: %1", _category], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Generating Weapons", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Weapons Left in Loot List Or Pick Random Failed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Adding %1 weapons of type %2", _amount, _loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 magazines of %2 for %3", _magAmount, _magazine, _loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Generating Items", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Breakdown: %1, %2, %3", lootItem, _unlocks, itemCargo _crate], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Items available: %1", _available], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Items Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Ammo Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Explosives Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Attachment Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Backpacks Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Helmets Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Vests Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Device Bags Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_fireableLauncherName, true] call <b>A3A_fnc_launcherInfo</b>;<br>-----------------------------------------------------<br>[driver _truckX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX];<br>-----------------------------------------------------<br>if ((_boxX == boxX) and (player!=theBoss)) exitWith {["Cargo", "Only the Commander can transfer this ammobox content to any truck"] call A3A_fnc_customHint; [driver _truckX,"truckX"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX]};<br>-----------------------------------------------------<br>if ((_boxX == boxX) and (player!=theBoss)) exitWith {["Cargo", "Only the Commander can transfer this ammobox content to any truck"] call <b>A3A_fnc_customHint</b>; [driver _truckX,"truckX"] remoteExec ["A3A_fnc_flagaction",driver _truckX]};<br>-----------------------------------------------------<br>_backpcks pushBack (_x call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>["Cargo", "Closest Ammobox is empty"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo", format ["Truck loading. <br/><br/>Time remaining: %1 secs", _countX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_boxX,_truckX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>["Cargo", "Transfer cancelled due to movement of Truck or Player"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_proceed) then {[driver _truckX,"truckX"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX]};<br>-----------------------------------------------------<br>private _categories = _className call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>[_vehicle, ["Breach Vehicle", <b>A3A_fnc_startBreachVehicle</b>,nil,4,false,true,"","(isPlayer _this) && (_this == vehicle _this)",5]] remoteExec ["addAction", 0, _vehicle];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3600, Occupants] call <b>A3A_fnc_timingCA</b>;<br>-----------------------------------------------------<br>[Occupants] spawn <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>[3600, Invaders] call <b>A3A_fnc_timingCA</b>;<br>-----------------------------------------------------<br>[Invaders] spawn <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>if (count hcArray == 0) exitWith {[petros,"hint","No Headless Client Detected"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]};<br>-----------------------------------------------------<br>[petros, "hint", _textX, "AILoad Information"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0];<br>-----------------------------------------------------<br>[getPos petros] call <b>A3A_fnc_relocateHQObjects</b>;<br>-----------------------------------------------------<br>[Petros,"mission"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>_notificationText = format ["%1 aggression level reduced to %2<br/>", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1 aggression level increased to %2<br/>", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1%2 aggression level reduced to %3", _notificationText, nameInvaders, [aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1%2 aggression level increased to %3", _notificationText, nameInvaders, [aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[petros, "income", _notificationText] remoteExec ["<b>A3A_fnc_commsMP</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>if (_typeX == "hint") then {[_titleX, format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeX == "hintS") then {[_titleX, format ["%1",_textX], true] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeX == "intelError") then {[_titleX, format ["Download error:<br/>%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Countdown", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_typeX == "delete") exitWith {["Create Outpost", "Deprecated option. Use Remove Garrison from HQ instead"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_groupX = [getMarkerPos respawnTeamPlayer, teamPlayer, _formatX] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_FIAinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>["outpostsFIA",["We are sending a team to establish a Watchpost/Roadblock. Use HC to send the team to their destination","Post \ Roadblock Deploy",_mrk],_positionTel,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [-5,5,_positionTel] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["outpostsFIA",["We are sending a team to establish a Watchpost/Roadblock. Use HC to send the team to their destination","Post \ Roadblock Deploy",_mrk],_positionTel,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"outpostsFIA"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>petros = [_groupPetros, typePetros, _position, [], 10, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[Petros,"mission"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]]<br>-----------------------------------------------------<br>[Petros,"buildHQ"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]]<br>-----------------------------------------------------<br>call <b>A3A_fnc_initPetros</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_markerX,false] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>if (({if (_x distance2D _positionMRK < distanceSPWN) exitWith {1}} count _greenfor > 0) or ({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN2)) exitWith {1}} count _blufor > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createAICities"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if (_x distance2D _positionMRK < distanceSPWN) exitWith {1}} count _greenfor > 0) or ({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN2)) exitWith {1}} count _blufor > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createAICities</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createCIV"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createCIV</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"A3A_fnc_createAIcontrols"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"<b>A3A_fnc_createAIcontrols</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"A3A_fnc_createAIAirplane"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"<b>A3A_fnc_createAIAirplane</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"A3A_fnc_createAIResources"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"<b>A3A_fnc_createAIResources</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"A3A_fnc_createAIOutposts"] call <b>A3A_fnc_scheduler</b>};};};};<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"<b>A3A_fnc_createAIOutposts</b>"] call A3A_fnc_scheduler};};};};<br>-----------------------------------------------------<br>//[_markerX] remoteExec ["<b>A3A_fnc_createAICities</b>",HCGarrisons];<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createCIV"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createCIV</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"A3A_fnc_createFIAOutposts2"] call <b>A3A_fnc_scheduler</b>} else {if (not(_markerX in controlsX)) then {[[_markerX],"A3A_fnc_createSDKGarrisons"] call <b>A3A_fnc_scheduler</b>}};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"<b>A3A_fnc_createFIAOutposts2</b>"] call A3A_fnc_scheduler} else {if (not(_markerX in controlsX)) then {[[_markerX],"A3A_fnc_createSDKGarrisons"] call A3A_fnc_scheduler}};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"A3A_fnc_createFIAOutposts2"] call A3A_fnc_scheduler} else {if (not(_markerX in controlsX)) then {[[_markerX],"<b>A3A_fnc_createSDKGarrisons</b>"] call A3A_fnc_scheduler}};<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"A3A_fnc_createAIcontrols"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"<b>A3A_fnc_createAIcontrols</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"A3A_fnc_createAIAirplane"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"<b>A3A_fnc_createAIAirplane</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"A3A_fnc_createAIResources"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"<b>A3A_fnc_createAIResources</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"A3A_fnc_createAIOutposts"] call <b>A3A_fnc_scheduler</b>};};};};<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"<b>A3A_fnc_createAIOutposts</b>"] call A3A_fnc_scheduler};};};};<br>-----------------------------------------------------<br>//example: _result = [distanceSPWN,0,posHQ,Invaders] call <b>A3A_fnc_distanceUnits</b>: devuelve un array con todas las que estÃ©n a menos de distanceSPWN<br>-----------------------------------------------------<br>//example: _result = [distanceSPWN,1,posHQ,teamPlayer] call <b>A3A_fnc_distanceUnits</b>: devuelve un boolean si hay una que estÃ© a menos de distanceSPWN<br>-----------------------------------------------------<br>["PvP Information", "PvP players are only allowed to use their own or other PvP player vehicles"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_revealToPlayer</b>",teamPlayer];<br>-----------------------------------------------------<br>_airportsAAF = (airportsX + outposts) select {(spawner getVariable _x == 2) and (dateToNumber date > server getVariable _x) and ([_x,_markerX] call <b>A3A_fnc_isTheSameIsland</b>) and (!(_x in forcedSpawn)) and (sidesX getVariable [_x,sideUnknown] == _sideX) and !(_x in blackListDest) and (getMarkerPos _x distance _pos > distanceSPWN)};<br>-----------------------------------------------------<br>_actionX = _flag addAction ["<t>Take the Flag<t> <img image='\A3\ui_f\data\igui\cfg\actions\takeflag_ca.paa' size='1.8' shadow=2 />", <b>A3A_fnc_mrkWIN</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>petros addAction ["Mission Request", {CreateDialog "mission_menu";},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and ([_this] call <b>A3A_fnc_isMember</b>) and (petros == leader group petros)",4];<br>-----------------------------------------------------<br>petros addAction ["HQ Management", <b>A3A_fnc_dialogHQ</b>,nil,0,false,true,"","(_this == theBoss) and (petros == leader group petros)", 4];<br>-----------------------------------------------------<br>petros addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"];<br>-----------------------------------------------------<br>actionX = _flag addAction ["<t>Transfer Ammobox to Truck<t> <img image='\A3\ui_f\data\igui\cfg\actions\unloadVehicle_ca.paa' size='1.8' shadow=2 />", <b>A3A_fnc_transfer</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])"]<br>-----------------------------------------------------<br>//case "heal": {if (player != _flag) then {_flag addAction [format ["Revive %1",name _flag], { _this spawn <b>A3A_fnc_actionRevive</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])"]}};<br>-----------------------------------------------------<br>if ([_flag] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1 </t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_reviveMedic_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1 </t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_revive_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>if ([_flag] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1</t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_reviveMedic_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,false,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1</t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_revive_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,false,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>//_flag addAction [format ["Revive %1",name _flag], { _this spawn <b>A3A_fnc_actionRevive</b>; },nil,0,false,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)"];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Carry %1</t> <img image='\A3\ui_f\data\igui\cfg\actions\take_ca.paa' size='1.6' shadow=2 />",name _flag], <b>A3A_fnc_carry</b>,nil,5,true,false,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (isNull attachedTo _target) and !(_this getVariable [""helping"",false]);",4];<br>-----------------------------------------------------<br>_flag addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"]<br>-----------------------------------------------------<br>_flag addAction ["<t>Liberate</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", <b>A3A_fnc_liberaterefugee</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["<t>Liberate POW</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", <b>A3A_fnc_liberatePOW</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["<t>Release POW</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", { _this spawn <b>A3A_fnc_captureX</b>; },false,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Recruit", { _this spawn <b>A3A_fnc_captureX</b>; },true,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Interrogate", <b>A3A_fnc_interrogate</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Build HQ here", <b>A3A_fnc_buildHQ</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Steal Static", <b>A3A_fnc_stealStatic</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b>;},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4]<br>-----------------------------------------------------<br>fireX addAction ["Rest for 8 Hours", <b>A3A_fnc_skiptime</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>fireX addAction ["Clear Nearby Forest", <b>A3A_fnc_clearForest</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>fireX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Search for Intel", <b>A3A_fnc_searchIntelOnLeader</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>_flag addAction ["Take Intel", <b>A3A_fnc_searchIntelOnDocument</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>_flag addAction ["Download Intel", <b>A3A_fnc_searchIntelOnLaptop</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>[petros,"hint","Deleting Garbage. Please wait", "Garbage Cleaner"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Cleaning garbage...", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,"hint","Garbage deleted", "Garbage Cleaner"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Garbage clean completed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_siteX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[1, format ["Bad level recieved, cannot generate string, was %1", _level], "calculateAggression", true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Now searching for attack vehicle pool for %1 with filter %2", _side, _filter], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Found vehicle array with no defined vehicles!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(([_x, _filter] call _fn_checkElementAgainstFilter) && {[_x] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>if(([_x select 0, _filter] call _fn_checkElementAgainstFilter) && {[_x select 0] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Now searching for QRF vehicle pool for %1 with filter %2", _side, _filter], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Found vehicle array with no defined vehicles!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(([_x, _filter] call _fn_checkElementAgainstFilter) && {[_x] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>if(([_x select 0, _filter] call _fn_checkElementAgainstFilter) && {[_x select 0] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Heal And Repair", "The repair box has been used in the last 30 seconds! Please wait for a bit."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Heal And Repair", "Nearby units have been healed, refreshed, and can go undercover again.<br/><br/> Nearby vehicles have been repaired, rearmed, and are no longer reported."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initPetros started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[petros,true] call <b>A3A_fnc_punishment_FF_addEH</b>;<br>-----------------------------------------------------<br>if (!isNull _injurer) then {[petros,side _injurer] spawn <b>A3A_fnc_unconscious</b>} else {[petros,sideUnknown] spawn <b>A3A_fnc_unconscious</b>};<br>-----------------------------------------------------<br>[-1*(round(_hrT*0.9)),-1*(round(_resourcesFIAT*0.9))] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_placementSelection</b>",theBoss];<br>-----------------------------------------------------<br>(call <b>A3A_fnc_playableUnits</b>)<br>-----------------------------------------------------<br>apply {[([_x] call <b>A3A_fnc_numericRank</b>) select 0, _x]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_placementSelection</b>", _playersWithRank select 0 select 1];<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>[2,"initPetros completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_artySupport</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've taken out your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've inserted your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_textX = format ["%1",[_siteX,false] call <b>A3A_fnc_location</b>];<br>-----------------------------------------------------<br>_city = [_city,false] call <b>A3A_fnc_location</b>;<br>-----------------------------------------------------<br>, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Changing side of %1 to %2", _markerX, _winner], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>//[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[3, format ["Side changed for %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_markerX,_looser,"",_super] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>//	[[_markerX],"A3A_fnc_autoGarrison"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>//	[[_markerX],"<b>A3A_fnc_autoGarrison</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[_soldiers,_winner,_markerX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>_request pushBack ([_preference select _i, _winner] call <b>A3A_fnc_createGarrisonLine</b>);<br>-----------------------------------------------------<br>[_markerX, [_looser, _winner]] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>[3, format ["Garrison set for %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = [_markerX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[0,10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_markerX,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10,-10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Notification and points done for marker change at %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{_nul = [_markerX,_x] spawn <b>A3A_fnc_deleteControls</b>} forEach controlsX;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[_x, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>//[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[_flagX,"SDKFlag"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>//[_flagX,"unit"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>//[_flagX,"vehicle"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>//[_flagX,"garage"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>if (_markerX in seaports) then {[_flagX,"seaport"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX]};<br>-----------------------------------------------------<br>[_prestigeOccupants,_prestigeInvaders] spawn <b>A3A_fnc_prestige</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1; ((spawner getVariable _markerX == 2)) or ({((side group _x) in [_looser,_other]) and (_x getVariable ["spawner",false]) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits > 3*({(side _x == teamPlayer) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>[_markerX,teamPlayer] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2];<br>-----------------------------------------------------<br>[_x, _winner, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_prestigeOccupants,_prestigeInvaders] spawn <b>A3A_fnc_prestige</b>;<br>-----------------------------------------------------<br>if ((random 10 < ((tierWar + difficultyCoef)/4)) and !(["DEF_HQ"] call BIS_fnc_taskExists) and (isPlayer theBoss)) then {[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if ((random 10 < ((tierWar + difficultyCoef)/4)) and !(["DEF_HQ"] call BIS_fnc_taskExists) and (isPlayer theBoss)) then {[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>{[_winner,_x] spawn <b>A3A_fnc_markerChange</b>; sleep 5} forEach _closeX;<br>-----------------------------------------------------<br>{[_winner,_x] spawn <b>A3A_fnc_markerChange</b>; sleep 5} forEach _closeX;<br>-----------------------------------------------------<br>[3, format ["Finished marker change at %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Move HQ", "Only our Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((count weaponCargo boxX >0) or (count magazineCargo boxX >0) or (count itemCargo boxX >0) or (count backpackCargo boxX >0)) exitWith {["Move HQ", "You must first empty your Ammobox in order to move the HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(isNull attachedTo petros) exitWith {["Move HQ", "Put Petros down before you move the HQ!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[petros,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0];<br>-----------------------------------------------------<br>[respawnTeamPlayer, 0, teamPlayer] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 0, civilian] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>["Garrison", "HQ Garrison will stay here and hold the enemy"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = ["Synd_HQ"] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if (typeOf _x == staticCrewTeamPlayer) then {_costs = _costs - ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>if (_x == staticCrewTeamPlayer) then {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>[_hr,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Garrison", format ["Garrison removed<br/><br/>Recovered Money: %1 â‚¬<br/>Recovered HR: %2",_costs,_hr]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>petros addAction ["Build HQ here", <b>A3A_fnc_buildHQ</b>,nil,0,false,true];<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if ((!isNull _playerX) and (captive _playerX)) exitWith {["Capture", "You cannot Capture the Flag while Undercover"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_markerX in airportsX) and (tierWar < 3)) exitWith {["Capture", "You cannot capture Airports until you reach War Level 3"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Capture", "This flag pole is locked, try again in 30 seconds!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2, format ["Flag capture at %1 initiated by %2", _markerX, str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (((side _x == Occupants) or (side _x == Invaders)) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)) then<br>-----------------------------------------------------<br>if ((count _revealX) > 2*({([_x,_markerX] call <b>A3A_fnc_canConquer</b>) and (side _x == teamPlayer)} count allUnits)) exitWith<br>-----------------------------------------------------<br>[3, format ["Markers left to be conquered: %1 ", _revealX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Flag capture by %1 abandoned due to outnumbering", str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Capture", "The enemy still outnumber us, check the map and clear the rest of the area"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[5,_x] remoteExec ["<b>A3A_fnc_playerScoreAdd</b>",_x];<br>-----------------------------------------------------<br>} forEach ([_size,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[2, format ["Flag capture by %1 rewarded", str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[teamPlayer,_markerX] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel while enemies are nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel if your vehicles don't have a driver or your vehicles immobile"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "Click on the zone you want to travel to"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ((sidesX getVariable [_base,sideUnknown] == teamPlayer) or (_base in _mrkENY)) exitWith {["Fast Travel", "You cannot Fast Travel to an enemy controlled zone"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if ((!(_base in airportsX)) and (!(_base in seaports)) and (!(_base in outposts)) and (_base != _mrkRespawn)) exitWith {["Fast Travel", "You can only Fast Travel to Airbases, Outposts and Seaports"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding area"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>["Fast Travel", "You must click near a marker you control"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[petros,"hint","A Headless Client has been disconnected. This will cause malfunctions. Head back to HQ for saving ASAP and ask and Admin for a restart", "Headless Client"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[2, format ["Player disconnected with id %1 and unit %2 on side %3", _uid, _unit, (side _unit)], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player unit %1, original unit %2, boss %3", _unit, _realUnit, theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (group petros == group _realUnit) then { [] spawn <b>A3A_fnc_buildHQ</b> };<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>[_uid, _realUnit, false] call <b>A3A_fnc_savePlayer</b>;<br>-----------------------------------------------------<br>if (["outpostsFIA"] call BIS_fnc_taskExists) exitWith {["Outposts/Roadblocks", "We can only deploy / delete one Observation Post or Roadblock at a time."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Radio Required", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Radio-man Required", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Radio Required", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Radio-man Required", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if (_typeX != "delete") then {["Outposts/Roadblocks", "Click on the position you wish to build the Observation Post or Roadblock. <br/><br/> Remember: to build Roadblocks you must click exactly on a road map section"] call <b>A3A_fnc_customHint</b>;} else {["Outposts/Roadblocks", "Click on the Observation Post or Roadblock to delete."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == "delete") and (count outpostsFIA < 1)) exitWith {["Outposts/Roadblocks", "No Posts or Roadblocks deployed to delete"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == "delete") and ({(alive _x) and (!captive _x) and ((side _x == Occupants) or (side _x == Invaders)) and (_x distance _positionTel < 500)} count allUnits > 0)) exitWith {["Outposts/Roadblocks", "You cannot delete a Post while enemies are near it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>) + (server getVariable staticCrewTeamPlayer);<br>-----------------------------------------------------<br>if (_positionTel distance _pos >10) exitWith {["Outposts/Roadblocks", "No post nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (((_resourcesFIA < _costs) or (_hrFIA < _hr)) and (_typeX!= "delete")) exitWith {["Outposts/Roadblocks", format ["You lack of resources to build this Outpost or Roadblock <br/><br/> %1 HR and %2 â‚¬ needed",_hr,_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-_hr,-_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[_typeX,_positionTel] remoteExec ["<b>A3A_fnc_createOutpostsFIA</b>", 2];<br>-----------------------------------------------------<br>[2,"New session selected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["HQ Position", "Place selected is very close to enemy zones.<br/><br/> Please select another position"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["HQ Position", "Selected position cannot be in water"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_positionIsInvalid) then {["HQ Position", "There are enemies in the surroundings of that area, please select another."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_positionClicked] remoteExec ["<b>A3A_fnc_createPetros</b>", 2];<br>-----------------------------------------------------<br>[_positionClicked] call <b>A3A_fnc_relocateHQObjects</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>//[-10,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>//[-10,10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>//[-10,0,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[-5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>//[0,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[_city,_powered] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>//[-10,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_siteX,_powered] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>[1, "Minute parameter is 0, assuming 1", "prestige"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _possibleStartBases = airportsX select {([_x,false] call <b>A3A_fnc_airportCanAttack</b>) && (sidesX getVariable [_x,sideUnknown] != teamPlayer)};<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(_distance < distanceForLandAttack && {[_startAirport, _target] call <b>A3A_fnc_isTheSameIsland</b>}) then<br>-----------------------------------------------------<br>[3, format ["%1 is surrounded by us, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Logging available targets for attack", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_availableTargets, "Available targets"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[3, format ["T: %1, A: %2", _target, _baseArray], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[3, format ["%1 has only minimal friendly location around it, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 has only minimal garrison, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Logging final target values for attack", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_availableTargets, "Target values"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[3, "Found four targets to attack, these are:", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_attackList, "Target params"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[[_x select 2, _x select 0, "", false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_x select 2, _x select 0, "", false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>//[sidesX getVariable (_x select 0), (_x select 2)] call <b>A3A_fnc_markerChange</b>;<br>-----------------------------------------------------<br>[3, format ["Main target is %1, easy target is %2", _mainTarget, _easyTarget], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Main target not set, selecting easy target", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Easy target not set, selecting main target", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Selected target is %1!", _finalTarget], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[sidesX getVariable _attackOrigin, _attackTarget] call <b>A3A_fnc_markerChange</b>;<br>-----------------------------------------------------<br>[_attackTarget, _attackOrigin, _waves] spawn <b>A3A_fnc_wavedCA</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_attackTarget, _attackOrigin] spawn <b>A3A_fnc_invaderPunish</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < 5000) exitWith {["Rebuild Assets", "You do not have enough money to rebuild any Asset. You need 5.000 â‚¬"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Rebuild Assets", "Click on the zone you want to rebuild."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (getMarkerPos _siteX distance _positionTel > 50) exitWith {["Rebuild Assets", "You must click near a map marker"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((not(_siteX in _destroyedSites)) and (!(_siteX in outposts))) exitWith {["Rebuild Assets", "You cannot rebuild that"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Rebuild Assets", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_nameX = [_siteX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["Rebuild Assets", format ["%1 Rebuilt"]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[0,10,_positionTel] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[10, 30], [10, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>["Rebuild Assets", "Radio Tower rebuilt"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_antennaDead] remoteExec ["<b>A3A_fnc_rebuildRadioTower</b>", 2];<br>-----------------------------------------------------<br>[0,-5000] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>if (!isServer) exitWith { [1, "Server-only function miscalled", _file] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>if !(_antenna in antennasDead) exitWith { [1, "Attempted to rebuild invalid radio tower", _file] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[2, format["Repairing Antenna %1", str _antenna], _file] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_antenna] call <b>A3A_fnc_repairRuinedBuilding</b>;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,true] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,false] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 1, teamPlayer] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 1, civilian] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>if (!isServer) exitWith { [1, "Server-only function miscalled", "fn_repairRuinedBuilding"] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[petros,"income",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if ([player] call <b>A3A_fnc_hasRadio</b>) then<br>-----------------------------------------------------<br>[2,format ["Scheduled function: %1, Function params: %2",_function,_params],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Sell Vehicle", "You are not looking to any vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh distance getMarkerPos respawnTeamPlayer > 50) exitWith {["Sell Vehicle", "Vehicle must be closer than 50 meters to the flag"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({isPlayer _x} count crew _veh > 0) exitWith {["Sell Vehicle", "In order to sell, vehicle must be empty."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Sell Vehicle", "You are not owner of this vehicle and you cannot sell it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = round (([_typeX] call <b>A3A_fnc_vehiclePrice</b>)/2)<br>-----------------------------------------------------<br>if (_costs == 0) exitWith {["Sell Vehicle", "The vehicle you are looking is not suitable in our marketplace"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[0,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[_veh,true] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["Sell Vehicle", "Vehicle Sold"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[3, format ["Splitting the crew of %1, type of %2", _vehicle, typeOf _vehicle], __FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Crew is %1", str _crew], __FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(!isPlayer _caller) exitWith {["Breach Vehicle", "Only players are currently able to breach vehicles!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Breach Vehicle", "You have to be an engineer to breach a vehicle!"] call <b>A3A_fnc_customHint</b>;;<br>-----------------------------------------------------<br>["Breach Vehicle", "Why would you want to breach a destroyed vehicle?"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "There is no living crew left, no need for breaching!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You cannot breach a vehicle which is controlled by the rebels!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You carry no explosives. You will need some to breach vehicles!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You don't have the right explosives, check the briefing notes to see what you need!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>{([_caller] call <b>A3A_fnc_canFight</b>) &&<br>-----------------------------------------------------<br>{!([_caller] call <b>A3A_fnc_canFight</b>) ||<br>-----------------------------------------------------<br>["Breach Vehicle", "Breaching cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_vehicle call <b>A3A_fnc_addActionBreachVehicle</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "Breaching in 10 seconds."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_x] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _x];		// execute local to crewman<br>-----------------------------------------------------<br>[_vehicle, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "HR: %1 | %9 Money: %2 â‚¬ | Airstrikes: %5 | %7 Aggr: %3 | %8 Aggr: %4 | War Level: %6 | Undercover Mode: %10", server getVariable "hr", server getVariable "resourcesFIA",[aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,floor bombRuns,tierWar,nameOccupants,nameInvaders,nameTeamPlayer,_ucovertxt];<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Commander: %3 | Rank: %2 | HR: %1 | Your Money: %4 â‚¬ | %8 Aggr: %5 | %9 Aggr: %6 | War Level: %7 | Undercover Mode: %10", server getVariable "hr", rank _player, _nameC, _player getVariable "moneyX",[aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,tierWar,nameOccupants,nameInvaders,_ucovertxt];<br>-----------------------------------------------------<br>if ([_player] call <b>A3A_fnc_isMember</b>) then<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Rank: %5 | HR: %1 | Your Money: %6 â‚¬ | %11 Money: %2 â‚¬ | Airstrikes: %7 | %9 Aggr: %3 | %10 Aggr: %4 | War Level: %8 | Undercover Mode: %12", server getVariable "hr", server getVariable "resourcesFIA", [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,rank _player, _player getVariable "moneyX",floor bombRuns,tierWar,nameOccupants,nameInvaders,nameTeamPlayer,_ucovertxt];<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Rank: %1 | Your Money: %2 â‚¬ | %3 Money: %4 â‚¬ | %5 Aggr: %6 | %7 Aggr: %8 | War Level: %9 | Undercover Mode: %10",rank _player,_player getVariable "moneyX",nameTeamPlayer,server getVariable "resourcesFIA", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>, nameInvaders,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,tierWar,_ucovertxt];<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Unlock Vehicle", "You are not looking at a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _veh) exitWith {["Unlock Vehicle", "You cannot unlock destroyed"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "Man") exitWith {["Unlock Vehicle", "Are you kidding?"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(_veh isKindOf "AllVehicles")) exitWith {["Unlock Vehicle", "The vehicle you are looking at cannot be used"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNil "_ownerX") exitWith {["Unlock Vehicle", "The vehicle you are looking at is already unlocked"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_ownerX != getPlayerUID player) exitWith {["Unlock Vehicle", "You cannot unlock vehicles which you do not own"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Unlock Vehicle", "Vehicle Unlocked"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ({((_x getVariable ["spawner",false]) and ((side group _x) in [_enemy1,_enemy2])) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits > 3*({([_x,_markerX] call <b>A3A_fnc_canConquer</b>) and (_x getVariable ["markerX",""] == _markerX)} count allUnits)) then<br>-----------------------------------------------------<br>if ({(_x getVariable ["spawner",false]) and (side group _x == _enemy1) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits <= {(_x getVariable ["spawner",false]) and (side group _x == _enemy2) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits) then {_winner = _enemy2};<br>-----------------------------------------------------<br>[_winner,_markerX] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_convoyDebug</b>;<br>-----------------------------------------------------<br>if(isMultiplayer && {!isServer} && {!(call BIS_fnc_admin > 0)}) exitWith {["Convoy Debug", "Only server admins can execute the convoy debug!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_isSimulated = [_units, _currentRoadBlock] call <b>A3A_fnc_roadblockFight</b>;<br>-----------------------------------------------------<br>[_convoyID, _units, _currentPos, _remainingRoute, _markerArray, _convoySide, _convoyType, _maxSpeed, _isAir] call <b>A3A_fnc_spawnConvoy</b>;<br>-----------------------------------------------------<br>[_currentRoadBlock, _convoySide, teamPlayer, false] remoteExec ["<b>A3A_fnc_underAttack</b>",2]<br>-----------------------------------------------------<br>if([distanceSPWN, 1, _currentPos, teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then<br>-----------------------------------------------------<br>[_convoyID, _units, _currentPos, _remainingRoute, _markerArray, _convoySide, _convoyType, _maxSpeed, _isAir] call <b>A3A_fnc_spawnConvoy</b>;<br>-----------------------------------------------------<br>[_convoyID, (_route select 0), (_route select (_pointsCount - 1)), _units, _convoySide, _convoyType] spawn <b>A3A_fnc_onConvoyArrival</b>;<br>-----------------------------------------------------<br>if ([_nearestMarker,false] call <b>A3A_fnc_fogCheck</b> < 0.3) exitWith<br>-----------------------------------------------------<br>_threatEvalLand = [_destinationPos, _side] call <b>A3A_fnc_landThreatEval</b>;<br>-----------------------------------------------------<br>_airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (getMarkerPos _x distance2D _destinationPos < distanceForAirAttack)};<br>-----------------------------------------------------<br>_outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_destinationPos, getMarkerPos _x] call <b>A3A_fnc_isTheSameIsland</b>) and (getMarkerPos _x distance _destinationPos < distanceForLandAttack)  and ([_x,true] call A3A_fnc_airportCanAttack)}} else {[]};<br>-----------------------------------------------------<br>_outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_destinationPos, getMarkerPos _x] call A3A_fnc_isTheSameIsland) and (getMarkerPos _x distance _destinationPos < distanceForLandAttack)  and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)}} else {[]};<br>-----------------------------------------------------<br>{([_originPos, _destinationPos] call <b>A3A_fnc_isTheSameIsland</b>)}}<br>-----------------------------------------------------<br>if (_origin in outposts) then {[_origin, 10] call <b>A3A_fnc_addTimeForIdle</b>} else {[_origin, 5] call <b>A3A_fnc_addTimeForIdle</b>};<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>[_origin, 10] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_veh = [_vehPool, _side, true] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>_possibleBases = _canReinf select {[_x, _destination] call <b>A3A_fnc_shouldReinforce</b>};<br>-----------------------------------------------------<br>_units = [_selectedBase, _destination] call <b>A3A_fnc_selectReinfUnits</b>;<br>-----------------------------------------------------<br>_countUnits = [_units, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>//[_units, "Reinf units"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[_target, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>_airport = [_destination, _side] call <b>A3A_fnc_findAirportForAirstrike</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_canFight</b>}}<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_origin = [_destination] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_destination, []]))/2) >= [_destinationX] call <b>A3A_fnc_garrisonSize</b>) then<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_destinationX, []]))/2) >= [_destinationX] call <b>A3A_fnc_garrisonSize</b>) then<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_destination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameOrigin = [_origin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_origin, 30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_crew = [_typeVehLead, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>if ([_destination] call <b>A3A_fnc_isFrontline</b>) then<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehObj,_side] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_crew = [_typeVehObj, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>[_convoyID, _units, _originPos, _destinationPos, [_origin, if(_isMarker) then {_destination} else {""}], _type, _side] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>_route = [_origin, _destination] call <b>A3A_fnc_findPath</b>;<br>-----------------------------------------------------<br>[_convoyID, _route, _markerArray, _velocity, _units, _convoySide, _convoyType, (!_hasLand)] spawn <b>A3A_fnc_convoyMovement</b>;<br>-----------------------------------------------------<br>[2, format ["Despawning convoy %1", _convoyID], "fn_despawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_convoyID, _convoyData, _convoyPos, _target, _markerArray, _convoyType, _convoySide] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>[_convoyID, _backRoute, _speed, _units, _sideConvoy, "return"] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>[_marker, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true", "[group this] spawn <b>A3A_fnc_groupDespawner</b>;"];<br>-----------------------------------------------------<br>[_vehicle, _cargoGroup, _target, getMarkerPos (_markerArray select 0), _vehicleGroup, true] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_vehicle, _cargoGroup, _target, (_markerArray select 0), true] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true","[group this] spawn <b>A3A_fnc_groupDespawner</b>;"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>; [group this] spawn A3A_fnc_groupDespawner"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn A3A_fnc_attackDrillAI; [group this] spawn <b>A3A_fnc_groupDespawner</b>"];<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true","[group this] spawn A3A_fnc_groupDespawner; (group this) spawn <b>A3A_fnc_attackDrillAI</b>;"];<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true","[group this] spawn <b>A3A_fnc_groupDespawner</b>; (group this) spawn A3A_fnc_attackDrillAI;"];<br>-----------------------------------------------------<br>[5, -5, (getMarkerPos _roadblockMarker)] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>while{!([_selectedVehicle] call <b>A3A_fnc_vehAvailable</b>)} do<br>-----------------------------------------------------<br>_crew = [_selectedVehicle, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_typeGroup = [_selectedVehicle,_side] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>[2, format ["Spawning in convoy %1", _convoyID], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_units, "Convoy Units"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>private _lineData = [_units select _i, _convoySide, _pos, _dir] call <b>A3A_fnc_spawnConvoyLine</b>;<br>-----------------------------------------------------<br>[3, "Convoy line has no vehicle, unhandled", "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format["Vehicle FSM result %1, rem units %2", _result, count _createdUnits], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([distanceSPWN*1.2, 1, getPos _veh, teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then { _despawn = false };<br>-----------------------------------------------------<br>[2, format ["%1 Convoy [%2]: Terminated", _convoyType, _convoyID], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_convoyID, _createdUnits, _convoyPos, _targetPos, _markerArray, _convoyType, _convoySide] call <b>A3A_fnc_despawnConvoy</b>;<br>-----------------------------------------------------<br>//    _vehicleObj = [_vehicleType, _pos, 10, 3, true] call <b>A3A_fnc_safeVehicleSpawn</b>;<br>-----------------------------------------------------<br>[_vehicleObj, _side] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>private _unit = [_vehicleGroup, _x, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_unit = [_cargoGroup, _x, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>{[distanceForLandAttack,1,_this,teamPlayer] call <b>A3A_fnc_distanceUnits</b>};<br>-----------------------------------------------------<br>if ((_base in seaports) and ([vehNATOBoat] call <b>A3A_fnc_vehAvailable</b>)) then<br>-----------------------------------------------------<br>if ((_base in seaports) and ([vehCSATBoat] call <b>A3A_fnc_vehAvailable</b>)) then<br>-----------------------------------------------------<br>_arrayDestinations = [_arrayDestinations,_posBase] call <b>A3A_fnc_patrolDestinations</b>;<br>-----------------------------------------------------<br>_posbase = position ([_posbase] call <b>A3A_fnc_findNearestGoodRoad</b>);<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh,"Patrol"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_groupX = [_posbase, _sideX, groupsNATOSentry] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] joinSilent _groupVeh; [_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX = [_posbase, _sideX, groupsCSATSentry] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] joinSilent _groupVeh; [_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_road = [_posDestination] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 60; (_veh distance _posDestination < _distanceX) or ({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers == 0) or (!canMove _veh)};<br>-----------------------------------------------------<br>_arrayDestinations = [_arrayDestinations,position _veh] call <b>A3A_fnc_patrolDestinations</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;		// this one did care about enemies. Not sure why.<br>-----------------------------------------------------<br>if ([distanceSPWN/2,1,getMarkerPos _markerX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>[_veh, _side] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>_veh call <b>A3A_fnc_addActionBreachVehicle</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"]; _veh = _this select 0; if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false]; [_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["HandleDamage",{private ["_veh"]; _veh = _this select 0; if (!canFire _veh) then {[_veh] call <b>A3A_fnc_smokeCoverAuto</b>; _veh removeEventHandler ["HandleDamage",_thisEventHandler]};if (((_this select 1) find "wheel" != -1) and (_this select 4=="") and (!isPlayer driver (_veh))) then {0;} else {(_this select 2);}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"];  _veh = _this select 0; if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false];[_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["HandleDamage",{private ["_veh"]; _veh = _this select 0; if (!canFire _veh) then {[_veh] call <b>A3A_fnc_smokeCoverAuto</b>;  _veh removeEventHandler ["HandleDamage",_thisEventHandler]}}];<br>-----------------------------------------------------<br>["General", "Only Humans can pilot an air vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"];_veh = _this select 0; if ((isTouchingGround _veh) and (isEngineOn _veh)) then {if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false]; [_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}}];<br>-----------------------------------------------------<br>if (activeGREF and ((_typeX == staticATteamPlayer) or (_typeX == staticAAteamPlayer))) then {[_veh,"moveS"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh]} else {[_veh,"steal"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh]};<br>-----------------------------------------------------<br>[_veh,"steal"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh];<br>-----------------------------------------------------<br>[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if ([_LeaderX] call A3A_fnc_isMember) then {[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if ([_LeaderX] call A3A_fnc_isMember) then {[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if ([_LeaderX] call <b>A3A_fnc_isMember</b>) then {[[],"A3A_fnc_attackHQ"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_bases = airportsX select {(getMarkerPos _x distance _mortarX < distanceForAirAttack) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (sidesX getVariable [_x,sideUnknown] != teamPlayer)};<br>-----------------------------------------------------<br>[[getPosASL _mortarX,_sideX,"Normal",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[getPosASL _mortarX,_sideX,"Normal",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[3, format ["%1 switching side from %2 to rebels", typeof _veh, _oldside], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[1, format ["GetOut handler weird input: %1, %2, %3", _veh, _role, _unit], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 destroyed by %2", typeof _veh, _killerSide], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, _killerSide, false] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_cleanserVeh</b>;<br>-----------------------------------------------------<br>_civ = [_groupX, _unit, _posHouse, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>_nul = [-1,-1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10,_killer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[10 * _multiplier, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-5 * _multiplier, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_cleanserVeh</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["Killed",{[_this select 0] spawn <b>A3A_fnc_postmortem</b>}];<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_VEHdespawner</b>;<br>-----------------------------------------------------<br>[3, format ["%1 is null on spawn", typeof _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 destroyed on spawn", typeof _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_max = if (_frontierX && {[_typeVehX] call <b>A3A_fnc_vehAvailable</b>}) then {2} else {1};<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "CAN_COLLIDE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_ret = [_markerX,_size,_sideX,_frontierX] call <b>A3A_fnc_milBuildings</b>;<br>-----------------------------------------------------<br>{[_x, _sideX] call <b>A3A_fnc_AIVEHinit</b>} forEach (_ret select 1);<br>-----------------------------------------------------<br>[_markerX, _large] spawn <b>A3A_fnc_placeIntel</b>;<br>-----------------------------------------------------<br>private _runwaySpawnLocation = [_markerX] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_vehPool = ([vehNATOPlane, vehNATOPlaneAA] select {[_x] call <b>A3A_fnc_vehAvailable</b>})<br>-----------------------------------------------------<br>_vehPool = ([vehCSATPlane, vehCSATPlaneAA] select {[_x] call <b>A3A_fnc_vehAvailable</b>})<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_typeVehX = if (_sideX == Occupants) then {selectRandom (vehNATOAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})} else {selectRandom (vehCSATAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})};<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_ammoBox] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>_arrayVehAAF = if (_sideX == Occupants) then {vehNATOAttack select {[_x] call <b>A3A_fnc_vehAvailable</b>}} else {vehCSATAttack select {[_x] call <b>A3A_fnc_vehAvailable</b>}};<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = if (_i == 0) then {[_positionX,_sideX, (_array select _i),true,false] call <b>A3A_fnc_spawnGroup</b>} else {[_positionX,_sideX, (_array select _i),false,true] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_num = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_groupX = _params call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _grp;} forEach _groups;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinitBases</b>; _soldiers pushBack _x} forEach units _grp;} forEach _groups;<br>-----------------------------------------------------<br>waitUntil {sleep 1;((spawner getVariable _markerX == 2)) or ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0)};<br>-----------------------------------------------------<br>if (({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0) and (_esAAF)) then<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if ((random 10 > (tierWar + difficultyCoef)) and (!([_markerX] call <b>A3A_fnc_isFrontline</b>))) then<br>-----------------------------------------------------<br>if ((random 10 > (tierWar + difficultyCoef)) and (!([_markerX] call <b>A3A_fnc_isFrontline</b>))) then<br>-----------------------------------------------------<br>_unit = [_groupE, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupE, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{ [_x, _sideX] call <b>A3A_fnc_AIVEHinit</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup, true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog,_groupX] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX, _sideX, _typeGroup, true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_soldiers pushBack _x; [_x,"", false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _cfg] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>while {(spawner getVariable _markerX != 2) and ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers > 0)} do<br>-----------------------------------------------------<br>waitUntil {sleep 1;((spawner getVariable _markerX == 2))  or ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0)};<br>-----------------------------------------------------<br>_nul = [-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [0,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>if (_winner == teamPlayer) then {[[_positionX,_sideX,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_winner == teamPlayer) then {[[_positionX,_sideX,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_ret = [_markerX,_size,_sideX,_frontierX] call <b>A3A_fnc_milBuildings</b>;<br>-----------------------------------------------------<br>{ [_x, _sideX] call <b>A3A_fnc_AIVEHinit</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>[_markerX, _large] spawn <b>A3A_fnc_placeIntel</b>;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_ammoBox] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>if ([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 	_groupX = [_positionX, _sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>// 		_nul = [_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 		_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>// 		{_soldiers pushBack _x; [_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_nul = [_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], _dir, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_x,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 	_groupX = [_positionX, _sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>// 		_nul = [_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 		_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>// 		{_soldiers pushBack _x; [_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>_civ = [_groupX, "C_man_w_worker_F", _positionX, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>_nameX = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_x,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_isFrontline = [_marker] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>[_flag,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flag];<br>-----------------------------------------------------<br>[_box] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_box] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_marker, _patrolMarker, _flag, _box] call <b>A3A_fnc_cycleSpawn</b>;<br>-----------------------------------------------------<br>[1, format ["Roads not found for marker %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_area = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if ((count (nearestObjects [_p1, ["Car", "Truck"], 5]) == 0) and !([50,1,_road,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) then<br>-----------------------------------------------------<br>[_veh, civilian] spawn <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh, civilian] spawn <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_civ = [_groupX, "C_journalist_F", _pos, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> > 0.2) then<br>-----------------------------------------------------<br>private _patrolCities = [_markerX] call <b>A3A_fnc_citiesToCivPatrol</b>;<br>-----------------------------------------------------<br>_civ = [_groupP, _typeCiv, _p1, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>else { [_x] spawn <b>A3A_fnc_VEHdespawner</b> };<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groupsPatrol;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehPatrol;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX, teamPlayer, _garrison,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>//_unit = [_groupX, staticCrewTeamPlayer, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] spawn <b>A3A_fnc_FIAinitBases</b>; if (typeOf _x == staticCrewTeamPlayer) then {_x moveInGunner _veh}} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX = [_positionX, teamPlayer, _formatX] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] spawn <b>A3A_fnc_FIAinitBases</b>;} forEach units _groupX;<br>-----------------------------------------------------<br>_nul = [5,-5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[2, format ["Spawning CA. Target:%1, Source:%2, Side:%3, Count:%4, Land:%5, Type:%6", _target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_source,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[_source,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _spawnPoint = [_posOrigin] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["Air"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if ([_aaType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_aaType, 30] };<br>-----------------------------------------------------<br>if ([_tankType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_tankType, 30] };<br>-----------------------------------------------------<br>_road = [_posDest] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_landPos = [_posDest,_pos,false,_landPosBlacklist] call <b>A3A_fnc_findSafeRoadToUnload</b>;<br>-----------------------------------------------------<br>[_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_source,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>//_Vwp0 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>//_Vwp0 setWaypointStatements ["true", "[vehicle this] call <b>A3A_fnc_smokeCoverAuto</b>"];<br>-----------------------------------------------------<br>[_veh,"APC"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_source,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>//_Vwp0 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,"Inf Truck."] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_source,_posDest,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh,"Tank"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[3, format ["QRF vehicle %1 sent with %2 soldiers", typeof _veh, count crew _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "QRF reached maximum unit limit", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Land QRF performed on %1, type %2, veh count %3, troop count %4", _target,_typeOfAttack,count _vehiclesX,count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_source,20] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["LandVehicle"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if ([_vehType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_vehType, 30] };<br>-----------------------------------------------------<br>if ([_vehType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_vehType, 30] };<br>-----------------------------------------------------<br>_size = [_source] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>//{_x assignAsCargo _veh;_x moveInCargo _veh; [_x] call <b>A3A_fnc_NATOinit</b>;_soldiers pushBack _x;_x setVariable ["originX",_source]} forEach units _groupX;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_target,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true", "(vehicle this) land 'GET OUT';[vehicle this] call <b>A3A_fnc_smokeCoverAuto</b>"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_target,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[3, format ["QRF vehicle %1 sent with %2 soldiers", typeof _veh, count crew _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "QRF reached maximum unit limit", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Air QRF performed on %1, type %2, veh count %3, troop count %4", _target,_typeOfAttack,count _vehiclesX,count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers) <= 0.25 * (count _soldiers);<br>-----------------------------------------------------<br>_size = [_target] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 5; (call _fnc_lowStrength) or (time > _timeX) or (sidesX getVariable [_target,sideUnknown] == _sideX) or (({[_x,_target] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_target] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>if  ((({[_x,_target] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_target] call <b>A3A_fnc_canConquer</b>)} count allUnits)) and (not(sidesX getVariable [_target,sideUnknown] == _sideX))) then<br>-----------------------------------------------------<br>[_sideX,_target] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>[3, format ["QRF from %1 to retake %2 has outnumbered the enemy, changing marker!", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["QRF from %1 to retake %2 has failed as the marker is not changed!", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_typeOfAttack != "Air") then {waitUntil {sleep 5; (_timeX < time) or (call _fnc_lowStrength) or (!([distanceSPWN1,1,_posDest,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) and !([distanceSPWN1,1,_posDest,_sideEnemy] call <b>A3A_fnc_distanceUnits</b>))}}<br>-----------------------------------------------------<br>[3, format ["QRF from %1 on position %2 defeated", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["QRF from %1 on position %2 despawned", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["QRF on %1 finished", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>[_target, "remove"] remoteExecCall ["<b>A3A_fnc_updateCAMark</b>", 2];<br>-----------------------------------------------------<br>[_veh,"SDKFlag"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_veh];<br>-----------------------------------------------------<br>[_veh,"seaport"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh];<br>-----------------------------------------------------<br>private _civ = [_groupCiv, "C_man_w_worker_F", _positionX, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>private _nameX = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>private _unit = [_groupMortars, staticCrewTeamPlayer, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>private _pos = [_positionX] call <b>A3A_fnc_mortarPos</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupMortars, (_garrison select _index), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupStatics, (_garrison select _index), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>private _unit = [_groupX, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>_garCount = [_garrison, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_patrolSize = [_patrolMarker] call <b>A3A_fnc_calculateMarkerArea</b>;<br>-----------------------------------------------------<br>[_garrison, "Garrison"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _vehicle, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>//_spawnParameter = [_marker, NATOCrew] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unitX = [_groupX, _x, (_spawnParameter select 0), [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _unitX, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>_unitX = [_groupSoldier, _x, (_spawnParameter select 0), [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _unitX, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>if ((!([distanceSPWN, 1, _x, teamPlayer] call <b>A3A_fnc_distanceUnits</b>))) then<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_initRevive</b>;<br>-----------------------------------------------------<br>[_unit, 2] call <b>A3A_fnc_equipRebel</b>;			// 2 = garrison unit<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,-0.25,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[typeOf _victim,teamPlayer,_markerX,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>//[_spawns, "Spawnpoints"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_spawns, "Spawn places"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>if (_sideX == teamPlayer) then {[_markerX] call <b>A3A_fnc_mrkUpdate</b>};<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,_eny1] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,_eny2] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>_nameDestination = [_attackDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nul = [_attackOrigin,_attackDestination,Invaders] spawn <b>A3A_fnc_artillery</b>;<br>-----------------------------------------------------<br>_typeAirVehicle = if (_i != 3) then {selectRandom (vehCSATAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})} else {selectRandom (_invaderAirTransport select {[_x] call <b>A3A_fnc_vehAvailable</b>})};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, Invaders] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeAirVehicle,Invaders] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin, Invaders, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] call <b>A3A_fnc_NATOinit</b>; _x setVariable ["originX",_attackOrigin]} forEach units _groupX;<br>-----------------------------------------------------<br>//[_veh,"CSAT Air Transport"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_attackDestination,_attackOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[[_posDestination,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[[_posDestination,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_size = [_attackDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_civ = [_groupCivil, _typeUnit,_pos, [],0,"NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>if ([vehCSATPlane] call <b>A3A_fnc_vehAvailable</b>) then {<br>-----------------------------------------------------<br>_nul = [_attackDestination,Invaders,_bombType] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>["invaderPunish",[format ["%2 is attacking innocent civilians in %1! Defend the city at all costs",_nameDestination,nameInvaders],format ["%1 Punishment",nameInvaders],_attackDestination],getMarkerPos _attackDestination,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[-15,15,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} else {[-5,15,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]};<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[-10, 90], [40, 150]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{[-10,10,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_posDestination,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_posDestination,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[15,0,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} else {[15,0,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]};<br>-----------------------------------------------------<br>{[10,0,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>["invaderPunish",[format ["%2 is attacking innocent civilians in %1! Defend the city at all costs",_nameDestination,nameInvaders],format ["%1 Punishment",nameInvaders],_attackDestination],getMarkerPos _attackDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-20,-20,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{[-10,-10,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>[_attackDestination] call <b>A3A_fnc_destroyCity</b>;<br>-----------------------------------------------------<br>_nul = [0,"invaderPunish"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[7200, Invaders] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>private _spawnParameter = [_markerX, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>private _unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_size = [_nearX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if !([_pos] call <b>A3A_fnc_isBuildingPosition</b>) then {_exit = true};<br>-----------------------------------------------------<br>[1, format ["Bad init parameter: %1", _this], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_unit addEventHandler ["HandleDamage", <b>A3A_fnc_handleDamageAAF</b>];<br>-----------------------------------------------------<br>_unit addEventHandler ["killed", <b>A3A_fnc_occupantInvaderUnitKilledEH</b>];<br>-----------------------------------------------------<br>[_unit, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _unit];<br>-----------------------------------------------------<br>_unit unlinkItem (_unit call <b>A3A_fnc_getRadio</b>);<br>-----------------------------------------------------<br>_this remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];			// fudge until the other calls are fixed up<br>-----------------------------------------------------<br>//	[1, "Server-only function miscalled", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["QRF requested. Target:%1, Source:%2, Type:%3, IsSuper:%4",_target,_source,_typeOfAttack,_super], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([_target, false] call <b>A3A_fnc_fogCheck</b> < 0.3) exitWith {<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled due to heavy fog",_target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled due to other CA in vicinity",_target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([_plane] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>private _friendlies = if (_sideX == Occupants) then {allUnits select {(_x distance _posDest < 200) and (alive _x) and ((side (group _x) == _sideX) or (side (group _x) == civilian))}} else {allUnits select {(_x distance _posDest < 100) and ([_x] call <b>A3A_fnc_canFight</b>) and (side (group _x) == _sideX)}};<br>-----------------------------------------------------<br>[_posDest, "add"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>[_posDest, _sideX, _bombType] spawn <b>A3A_fnc_airstrike</b>;			// should be scheduled<br>-----------------------------------------------------<br>[2, format ["PatrolCA airstrike of type %1 sent to %2", _bombType, _posDest], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_posDest, "remove"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled because maximum unit count reached", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _threatEvalLand = [_posDest,_sideX] call <b>A3A_fnc_landThreatEval</b>;<br>-----------------------------------------------------<br>private _airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (getMarkerPos _x distance2D _posDest < distanceForAirAttack)};<br>-----------------------------------------------------<br>private _outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_posDest,getMarkerPos _x] call <b>A3A_fnc_isTheSameIsland</b>) and (getMarkerPos _x distance _posDest < distanceForLandAttack)  and ([_x,true] call A3A_fnc_airportCanAttack)}} else {[]};<br>-----------------------------------------------------<br>private _outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_posDest,getMarkerPos _x] call A3A_fnc_isTheSameIsland) and (getMarkerPos _x distance _posDest < distanceForLandAttack)  and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)}} else {[]};<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled because no usable bases in vicinity", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _landAttack = if ((_posOrigin distance _posDest < distanceForLandAttack) and ([_posDest,_posOrigin] call <b>A3A_fnc_isTheSameIsland</b>) and (_threatEvalLand <= 15)) then {true} else {false};<br>-----------------------------------------------------<br>[3, format ["With %1 aggression, sending %2 vehicles", _aggro, _vehicleCount], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_target, "add"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>private _nameDest = [_target] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[[_target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], "A3A_fnc_createQRF"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], "<b>A3A_fnc_createQRF</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[2, format ["Spawning PatrolReinf. Dest:%1, Orig:%2, Size:%3, Side: %4",_mrkDestination,_mrkOrigin,_numberX,_sideX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["PatrolReinf vehicle %1 selected", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_groupX = [_pos,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh,"Inf Truck."] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,_posDestination,_groupX] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>_Vwp0 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_Vwp0 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_size = [_mrkOrigin] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_posOrigin,_groupVeh,true] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_mrkOrigin,true] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_numGarr = [_airportX] call <b>A3A_fnc_garrisonSize</b>;<br>-----------------------------------------------------<br>if (_sideX == Occupants) then {[selectRandom groupsNATOSquad,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]} else {[selectRandom groupsCSATSquad,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]};<br>-----------------------------------------------------<br>if (_sideX == Occupants) then {[selectRandom groupsNATOmid,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]} else {[selectRandom groupsCSATmid,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]};<br>-----------------------------------------------------<br>_numGarr = [_x] call <b>A3A_fnc_garrisonSize</b>;<br>-----------------------------------------------------<br>[_typeGroup,_sideX,_siteX,2] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>//[_siteX, "Reinforce", _sideX, [(_numberX == 4)]] remoteExec ["<b>A3A_fnc_createAIAction</b>", 2];<br>-----------------------------------------------------<br>[[_siteX,_airportX,_numberX,_sideX],"A3A_fnc_patrolReinf"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_siteX,_airportX,_numberX,_sideX],"<b>A3A_fnc_patrolReinf</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>if ((count _reinfPlaces == 0) and (AAFpatrols <= 3)) then {[] spawn <b>A3A_fnc_AAFroadPatrol</b>};<br>-----------------------------------------------------<br>[_target, "Reinforce", _side, [_canReinf]] remoteExec ["<b>A3A_fnc_createAIAction</b>", 2];<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_replenishGarrison</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 10;{([_x] call <b>A3A_fnc_canFight</b>) and (vehicle _x == _x)} count _soldiers == {[_x] call <b>A3A_fnc_canFight</b>} count _soldiers};<br>-----------------------------------------------------<br>if ({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers == 0) exitWith {};<br>-----------------------------------------------------<br>_soldiers = _soldiers select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>if ((_x distance _soldierX < (distanceSPWN/2)) and {[_x] call <b>A3A_fnc_canFight</b>} and {side group _x in _eny} and {vehicle _x == _x}) then<br>-----------------------------------------------------<br>_willCollide = [_vehicle, _spawnPosition] call <b>A3A_fnc_vehicleWillCollideAtPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, (_typesX select _i), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[1, "Server-only function miscalled", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 CA mark for marker %2", _operation, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 CA mark for position %2", _operation, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,Occupants] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,Invaders] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>[3, format ["%1 of %2 %3 by %4", _type, _side, _act, _sideEnemy], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_type call <b>A3A_fnc_removeVehFromPool</b>;<br>-----------------------------------------------------<br>[-_value/3, _value/3, position _veh] remoteExec ["<b>A3A_fnc_citySupportChange</b>", 2];<br>-----------------------------------------------------<br>[[_value, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>", 2];<br>-----------------------------------------------------<br>[[0, 0], [_value, 45]] remoteExec ["<b>A3A_fnc_prestige</b>", 2];<br>-----------------------------------------------------<br>[0, -1, _pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>", 2];<br>-----------------------------------------------------<br>if !(_veh isKindOf "StaticWeapon") then { [_veh] spawn <b>A3A_fnc_VEHdespawner</b> };<br>-----------------------------------------------------<br>_size = [_mrkDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_mrkDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameOrigin = [_mrkOrigin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameDest = [_mrkDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[3, format ["Land vehicle pool: %1", _vehPoolLand], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Air transport pool: %1", _vehPoolAirTransport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Air support pool: %1", _vehPoolAirSupport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Wave will contain %1 vehicles", _nVeh], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_outposts = outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and (getMarkerPos _x distance _posDestination < distanceForLandAttack)  and ([_x,false] call <b>A3A_fnc_airportCanAttack</b>)};<br>-----------------------------------------------------<br>//[_outpost,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_spawnPoint = [_posOriginLand] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_road = [_posDestination] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of land vehicles", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_landPos = [_posDestination,_pos,false,_landPosBlacklist] call <b>A3A_fnc_findSafeRoadToUnload</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_grupo = [_posOrigin,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>//_Vwp0 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,"APC"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>//_Vwp0 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,"Inf Truck."] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_posDestination,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh,"Tank"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[2, format ["Ground wave reached maximum units count after %1 vehicles", _countX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_vehPool = _vehPool select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Boat"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>if !(_spawnedSquad) then {_grupo = [_posOrigin,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;_spawnedSquad = true} else {_grupo = [_posOrigin,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_Vwp2 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>//[_veh,"APC"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_Vwp setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>//[_veh,"Boat"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_vehPool = _vehPool select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>_size = [_mrkOrigin] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>private _runwayTakeoff = [_mrkOrigin] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning %1 new support aircraft", _countNewSupport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of air supports", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[_uav,"UAV"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_uav,_mrkDestination,_sideX] spawn <b>A3A_fnc_VANTinfo</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach (crew _uav);<br>-----------------------------------------------------<br>[_uav, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of air transports", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_grupo = [_posGround,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh,_grupo,_mrkDestination,_mrkOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true", "(vehicle this) land 'GET OUT';[vehicle this] call <b>A3A_fnc_smokeCoverAuto</b>"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,_grupo,_posDestination,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_grupo,_mrkDestination,_mrkOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[2, format ["Air wave reached maximum units count after %1 vehicles", _countX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Spawn performed: %1 air vehicles inc. %2 supports, %3 land vehicles, %4 soldiers", _nVehAir, _countNewSupport, _nVehLand, count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>;<br>-----------------------------------------------------<br>if (([_plane] call <b>A3A_fnc_vehAvailable</b>) and (not(_mrkDestination in citiesX)) and _firstWave) then<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,"HE"] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,selectRandom _bombOptions] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>if !(_posOriginLand isEqualTo []) then {[_posOriginLand,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>} else {[_mrkOrigin,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>};<br>-----------------------------------------------------<br>if (([_plane] call <b>A3A_fnc_vehAvailable</b>) and (_firstWave)) then<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,"HE"] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>_nul = [_posDestination,_sideX,selectRandom _bombOptions] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>if !([true] call <b>A3A_fnc_FIAradio</b>) then {sleep 100};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"CREATED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_mrkDestination,sideUnknown] != teamPlayer) then {_soldiers spawn <b>A3A_fnc_remoteBattle</b>};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants) or (({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants) or (({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))};<br>-----------------------------------------------------<br>if  ((({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits)) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants)) then<br>-----------------------------------------------------<br>if ((!(sidesX getVariable [_mrkDestination,sideUnknown] == Occupants)) and !(_mrkDestination in citiesX)) then {[Occupants,_mrkDestination] remoteExec ["<b>A3A_fnc_markerChange</b>",2]};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"SUCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,-100,_mrkDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["%1 joined %2",[_mrkDestination, false] call <b>A3A_fnc_location</b>,nameOccupants]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[-10, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (_waves <= 0) then {[_mrkDestination,_mrkOrigin] call <b>A3A_fnc_minefieldAAF</b>};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders) or (({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders) or (({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))};<br>-----------------------------------------------------<br>//diag_log format ["1:%1,2:%2,3:%3,4:%4",(({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax),(time > _timeX),(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders),(({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))];<br>-----------------------------------------------------<br>//diag_log format ["1:%1,2:%2,3:%3,4:%4",(({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax),(time > _timeX),(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders),(({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))];<br>-----------------------------------------------------<br>if  ((({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits)) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders))  then<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders)) then {[Invaders,_mrkDestination] remoteExec ["<b>A3A_fnc_markerChange</b>",2]};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (_waves <= 0) then {[_mrkDestination,_mrkOrigin] call <b>A3A_fnc_minefieldAAF</b>};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_posDestination,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_posDestination,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [0,"rebelAttack"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"rebelAttackPVP"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[3600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>if (!([_mrkOrigin, "airport"] call <b>A3A_fnc_isTheSameIsland</b>)) then {<br>-----------------------------------------------------<br>[teamPlayer] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[civilian] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[Occupants] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[Invaders] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKBike] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKLightUnarmed] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[SDKMortar] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civCar] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civTruck] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civHeli] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civBoat] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Clean Forest", "Only Commanders can order to clean the forest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Clean Forest", "You've cleared the surroundings of trees and bushes"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["W A R N I N G", "READ THIS!!!<br/><br/><br/>Antistasi does NOT support vanilla save. Do not expect 100% of functionalities if you Save and Exit and after you come back with Resume option. Both on SP and MP.<br/><br/><br/>Antistasi has an in built save system, GTA alike, which is the system you have to use in order to have full functionalities.<br/><br/>To Save: Go to the Map Board, select ""Game Options"" and hit on ""Persistent Save"" button.<br/><br/>To load: RESTART the game and click YES on this window"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Load Save", "Choose a difficulty level"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["ItemRadio"] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Load Save", "Choose a Game Mode"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["W A R N I N G", "READ THIS!!!<br/><br/><br/>Antistasi does NOT support vanilla save. Do not expect 100% of functionalities if you Save and Exit and after you come back with Resume option. Both on SP and MP.<br/><br/><br/>Antistasi has an in built save system, GTA alike, which is the system you have to use in order to have full functionalities.<br/><br/>To Save: Go to the Map Board, select ""Game Options"" and hit on ""Persistent Save"" button.<br/><br/>To load: RESTART the game and click YES on this window"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_loadPreviousSession</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_credits</b>;<br>-----------------------------------------------------<br>if (_typeVehX in vehFIA) then {_costs = round (([_typeVehX] call <b>A3A_fnc_vehiclePrice</b>)/2); _textX = "Fia Vehicle."};<br>-----------------------------------------------------<br>if !((vehicle player getVariable "SA_Tow_Ropes") isEqualTo objNull) exitWith {["Fast Travel", "You cannot Fast Travel with your Tow Rope out or a Vehicle attached"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (count hcSelected player > 1) exitWith {["Fast Travel", "You can select one group only to Fast Travel"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (({isPlayer _x} count units _groupX > 1) and (_esHC)) exitWith {["Fast Travel", "You cannot Fast Travel groups commanded by players"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["Fast Travel", "You cannot Fast Travel while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (!isNil "_punishmentoffenceTotal" && {_punishmentoffenceTotal >= 1}) exitWith {["Fast Travel", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>//_distanceX = 500 - (([_boss,false] call <b>A3A_fnc_fogCheck</b>) * 450);<br>-----------------------------------------------------<br>{if ([_x,_distanceX] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {_checkX = true}} forEach units _groupX;<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel with enemies near the group"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel if you don't have a driver in all your vehicles or your vehicles are damaged and cannot move or your group is in a boat"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "Click on the zone you want to travel"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_checkForPlayer and ((_base != "SYND_HQ") and !(_base in airportsX))) exitWith {["Fast Travel", "Player groups are only allowed to Fast Travel to HQ or Airbases"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((sidesX getVariable [_base,sideUnknown] == Occupants) or (sidesX getVariable [_base,sideUnknown] == Invaders)) exitWith {["Fast Travel", "You cannot Fast Travel to an enemy controlled zone"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if ([getMarkerPos _base,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding"] call A3A_fnc_customHint; openMap [false,false]};<br>-----------------------------------------------------<br>if ([getMarkerPos _base,500] call A3A_fnc_enemyNearCheck) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if (!_esHC) then {disableUserInput true; cutText [format ["Fast traveling, travel time: %1s , please wait", _distanceX],"BLACK",1]; sleep 1;} else {hcShowBar false;hcShowBar true;["Fast Travel", format ["Moving group %1 to destination",groupID _groupX]] call <b>A3A_fnc_customHint</b>; sleep _distanceX;};<br>-----------------------------------------------------<br>{if ((vehicle _x) in _vehicles) exitWith {_checkForPlayer = true}} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (_checkForPlayer and ((_base != "SYND_HQ") and !(_base in airportsX))) exitWith {["Fast Travel", format ["%1 Fast Travel has been cancelled because some player has boarded their vehicle and the destination is not HQ or an Airbase",groupID _groupX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_esHC) then {disableUserInput false;cutText ["You arrived to destination","BLACK IN",1]} else {["Fast Travel", format ["Group %1 arrived to destination",groupID _groupX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "You must click near marker under your control"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_loadPlayer</b>", 2];<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_resetPlayer</b>", 2];<br>-----------------------------------------------------<br>if (["Mines"] call BIS_fnc_taskExists) exitWith {["Minefields", "We can only deploy one minefield at a time."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Minefields", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Minefields", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Minefields", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Minefields", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = (2*(server getVariable (SDKExp select 0))) + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if ((server getVariable "resourcesFIA" < _costs) or (server getVariable "hr" < _hr)) exitWith {["Minefields", format ["Not enough resources to recruit a mine deploying team (%1 â‚¬ and %2 HR needed)",_costs,_hr]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Minefields", "Explosive Specialists is available on your High Command bar.<br/><br/>Send him anywhere on the map and he will deactivate and load in his truck any mine he may find.<br/><br/>Returning back to HQ will unload the mines he stored in his vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[[],"A3A_fnc_mineSweep"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[],"<b>A3A_fnc_mineSweep</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if (_quantity < 5) exitWith {["Minefields", "You need at least 5 mines of this type to build a Minefield"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Minefields", "Click on the position you wish to build the minefield."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[[_typeX,_positionTel,_quantity],"A3A_fnc_buildMinefield"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_typeX,_positionTel,_quantity],"<b>A3A_fnc_buildMinefield</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Move HQ", "Only Player Commander is allowed to move HQ assets"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!(isNull attachedTo _thingX)) exitWith {["Move HQ", "The asset you want to move is being moved by another player"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (vehicle _playerX != _playerX) exitWith {["Move HQ", "You cannot move HQ assets while in a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({!(isNull _x)} count (attachedObjects _playerX) != 0) exitWith {["Move HQ", "You have other things attached, you cannot move this"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if (_playerX distance2D _positionX > _size) exitWith {["Move HQ", "This asset needs to be closer to it relative zone center to be able to be moved"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_thingX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"];<br>-----------------------------------------------------<br>waitUntil {sleep 1; (_playerX != attachedTo _thingX) or (vehicle _playerX != _playerX) or (_playerX distance2D _positionX > (_size-3)) or !([_playerX] call <b>A3A_fnc_canFight</b>) or (!isPlayer _playerX)};<br>-----------------------------------------------------<br>if (vehicle _playerX != _playerX) exitWith {["Move HQ", "You cannot move HQ assets while in a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if  (_playerX distance2D _positionX > _size) exitWith {["Move HQ", "This asset cannot be moved more far away for its zone center"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[] remoteExecCall ["<b>A3A_fnc_saveLoop</b>", 2];<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_savePlayer</b>", 2];<br>-----------------------------------------------------<br>if (player!= theBoss) exitWith {["Skip Time / Rest", "Only the Commander can order to rest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([500,1,_x,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then {_presente = true};<br>-----------------------------------------------------<br>if (_presente) exitWith {["Skip Time / Rest", "You cannot rest while enemies are near our units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["rebelAttack"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while the enemy is counterattacking"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["invaderPunish"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while citizens are under attack"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["DEF_HQ"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while your HQ is under attack"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Skip Time / Rest", "All players must be in a 100m radius from HQ to be able to rest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Squad Options", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Squad Options", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Squad Options", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Squad Options", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Squad Recruit", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Squad Recruit", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Squad Recruit", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Squad Recruit", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKAT] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>) + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[player, _vehicleType, _amount] call <b>A3A_fnc_addToPersonalGarage</b>;<br>-----------------------------------------------------<br>private _isValidLocationArray = [vehPlace_callbackTarget, CALLBACK_VEH_IS_VALID_LOCATION, [_pos, _dir, _vehicleType]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _canPlaceArray = [vehPlace_callbackTarget, CALLBACK_CAN_PLACE_VEH , [_pos, _dir, _vehicleType]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _garageVeh = [vehPlace_callbackTarget, CALLBACK_VEH_CUSTOM_CREATE_VEHICLE, [_vehicleType, _pos, _dir]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACED_SUCCESSFULLY, [_garageVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehPlacementCleanup</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Garage", "Unable to open garage, you are already placing something"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && (not([player] call <b>A3A_fnc_isMember</b>))) exitWith {["Garage", "You cannot access the Garage as you are guest in this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && (not([player] call A3A_fnc_isMember))) exitWith {["Garage", "You cannot access the Garage as you are guest in this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && !allowMembersFactionGarageAccess && player != theBoss) exitWith {["Garage", "Member access to the faction garage is disabled. You must be the commander."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable "owner") exitWith {["Garage", "You cannot access the Garage while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garage", "You cannot manage the Garage with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["Garage", "You cannot manage the Garage with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>} forEach (if (garage_mode == GARAGE_FACTION) then {vehInGarage} else {[] call <b>A3A_fnc_getPersonalGarageLocal</b>});<br>-----------------------------------------------------<br>if !(player inArea garage_nearestMarker) exitWith {["Garage", "You need to be close to one of your garrisons to be able to retrieve a vehicle from your garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_type] call <b>A3A_fnc_vehPlacementChangeVehicle</b>;<br>-----------------------------------------------------<br>[_type] call <b>A3A_fnc_vehPlacementChangeVehicle</b>;<br>-----------------------------------------------------<br>["Garage", format ["%1 is accessing the garage right now. Please try again later. If this is broken, ask the player to log out.", garageLocked select 0]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_initialType, "GARAGE", _extraMessage] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>if (side player != teamPlayer) exitWith {["Garage", "Only rebels can add vehicles to the garage."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_isMember</b>)) exitWith {["Garage", "Only server members have the garage feature enabled"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_isMember)) exitWith {["Garage", "Only server members have the garage feature enabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Garage", "You are not looking at a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _veh) exitWith {["Garage", "You cannot add destroyed vehicles to your garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_closeX isEqualTo []) exitWith {["Garage", format ["You and the vehicle need to be in a %1 garrison surrounding in order to garage a it",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({alive _x} count (crew vehicle _veh) > 0) exitWith {["Garage", "In order to store a vehicle, its crew must disembark."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "Man") exitWith {["Garage", "Are you kidding?"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(_veh isKindOf "AllVehicles") exitWith {["Garage", "The vehicle you are looking cannot be stored in our Garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_units findIf {_unit = _x; _players = allPlayers select {(side _x isEqualTo teamPlayer) && (player distance _x < 300)}; _players findIf {_x in (_unit targets [true, 300])} != -1} != -1) exitWith {["Garage", "You can't garage vehicles while enemies are engageing you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_units findIf{player distance _x < 100} != -1) exitWith {["Garage", "You can't garage vehicles while enemies are near you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (player distance _veh > 25) exitWith {["Garage", "You can't garage vehicles that are more than 25m away from you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_pool and (count vehInGarage >= (tierWar *5))) exitWith {["Garage", "You cannot garage more vehicles at your current War Level"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!((count _personalGarage < personalGarageMax) or (personalGarageMax isEqualTo 0)) and !_pool) exitWith {["Garage", "Personal garage is full, you can't add more vehicles to it"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Garage", "You are not owner of this vehicle therefore you cannot garage it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Garage", format ["You cannot garage an air vehicle while you are not near an Aiport which belongs to %1. Place your HQ near an airbase flag in order to be able to garage it",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_veh,true] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["Garage", format ["Vehicle added to %1 Garage",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_typeVehX] call <b>A3A_fnc_addToPersonalGarageLocal</b>;<br>-----------------------------------------------------<br>["Garage", "Vehicle added to Personal Garage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_getPersonalGarage</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACEMENT_CANCELLED, []] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehPlacementCleanup</b>;<br>-----------------------------------------------------<br>[player, _garage] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Garage", "Unable to place vehicle, already placing a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_vehicleType] call <b>A3A_fnc_displayVehiclePlacementMessage</b>;<br>-----------------------------------------------------<br>["Garage", "Hover your mouse to the desired position. If it's safe and suitable, you will see the vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_attemptPlaceVehicle</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>[_typeX] call <b>A3A_fnc_displayVehiclePlacementMessage</b>;<br>-----------------------------------------------------<br>private _shouldCancelArray = [vehPlace_callbackTarget, CALLBACK_SHOULD_CANCEL_PLACEMENT, [vehPlace_previewVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>["Garage", (_shouldCancelArray select 1)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _isValidLocationArray = [vehPlace_callbackTarget, CALLBACK_VEH_IS_VALID_LOCATION, [_placementPos, getDir vehPlace_previewVeh, typeOf vehPlace_previewVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith<br>-----------------------------------------------------<br>[_garageVeh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>} forEach ([] call <b>A3A_fnc_getPersonalGarageLocal</b>);<br>-----------------------------------------------------<br>[_newArr] call <b>A3A_fnc_setPersonalGarageLocal</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith<br>-----------------------------------------------------<br>[_purchasedVeh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[0,(-1 * vehiclePurchase_cost)] spawn <b>A3A_fnc_resourcesFIA</b>;<br>-----------------------------------------------------<br>_nul = [0,(-1 * vehiclePurchase_cost)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]<br>-----------------------------------------------------<br>[-1 * vehiclePurchase_cost] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>["Construction", "Construction cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] spawn <b>A3A_fnc_buildCreateVehicleCallback</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACEMENT_CLEANUP, []] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>private _garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>private _requested = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_reinforcements = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>//[_reinforcements, "Reinf"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[_garrison, "Garrison"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_countGarrison = count ([_marker] call <b>A3A_fnc_getGarrison</b>);<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_line = [_preferred select _i, _side] call <b>A3A_fnc_createGarrisonLine</b>;<br>-----------------------------------------------------<br>[_garrison, format ["%1_garrison", _marker]] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_vehicle = [_vehicleType, _side] call <b>A3A_fnc_selectVehicleType</b>;<br>-----------------------------------------------------<br>_crew = [_vehicle, _crewMember] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_cargoGroup = [_vehicle, _data select 2, _side] call <b>A3A_fnc_selectGroupType</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>_neededReinf = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_garrisonCount = [_garrison, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_reinfCount = [_neededReinf, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_ratio = ["_marker"] call <b>A3A_fnc_getGarrisonRatio</b>;<br>-----------------------------------------------------<br>private _units = [_marker, _marker, false, true] call <b>A3A_fnc_selectReinfUnits</b>;<br>-----------------------------------------------------<br>[_marker, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>private _reinf = +([_target] call <b>A3A_fnc_getRequested</b>);<br>-----------------------------------------------------<br>private _maxRequested = [_reinf, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>[4, format ["Gathered data for unit selection, available are %1, %3 cargo units needed", _maxUnitSend, _maxCargoSpaceNeeded], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Reinforcments requested from %1 for: %2", _target, _reinf], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Tried to delete reinf vehicle, but couldn't find it after selection, vehicle was %1!", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "_neededCargoSpace is 0, something went really wrong!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["No reinf vehicle found, selecting not needed transport vehicle, needs space for %1 passengers", _neededCargoSpace], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected %1 as an air transport vehicle", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected %1 as an ground or air transport vehicle", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _crew = [_currentSelected, _crewMember] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>[3, format ["Units selected, Vehicle is %1, crew is %2, cargo is %3", _currentSelected, _crew, _cargo], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["SelectVehicleType: Selecting vehicle now, preferred is %1, side is %2", _preference, _side], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["No result for %1, assuming bad parameter!", _preference], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["SelectVehicleType: Preselection done, possible vehicles are %1", str _possibleVehicles], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Checking if %1 should reinforce %2", _base, _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(!_isAirport && {(getMarkerPos _base) distance2D (getMarkerPos _target) > distanceForLandAttack || {!([_base, _target] call <b>A3A_fnc_isTheSameIsland</b>)}}) exitWith {false};<br>-----------------------------------------------------<br>_targetReinforcements = [_target] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_reinfCount = [_targetReinforcements, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>if(![_garData select 0, _preData select 0] call <b>A3A_fnc_checkVehicleType</b>) then<br>-----------------------------------------------------<br>_garData set [0, [_preData select 0, _side] call <b>A3A_fnc_selectVehicleType</b>];<br>-----------------------------------------------------<br>_garData set [1, [_garData select 0, _crew] call <b>A3A_fnc_getVehicleCrew</b>];<br>-----------------------------------------------------<br>_garData set [2, [_garData select 0, _preData select 2, _side] call <b>A3A_fnc_selectGroupType</b>];<br>-----------------------------------------------------<br>_line = [_preferred select _i, _side] call <b>A3A_fnc_createGarrisonLine</b>;<br>-----------------------------------------------------<br>[_marker, _line, -1, true] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Airport_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Outpost_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference, "City_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Other_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>private _ratio = [_marker] call <b>A3A_fnc_getGarrisonRatio</b>;<br>-----------------------------------------------------<br>["City Information", format ["%7<br/><br/>Total pop: %1<br/>%6 Support: %2<br/>%5 Support: %3 <br/><br/>Murdered Pop: %4<br/><br/>Click on the zone",_pop, _popFIA, _popAAF, _popCSAT,nameOccupants,nameTeamPlayer,worldName]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 HQ%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,nameTeamPlayer];<br>-----------------------------------------------------<br>_power = [_siteX] call <b>A3A_fnc_getSideRadioTowerInfluence</b>;<br>-----------------------------------------------------<br>_textX = format ["%1<br/><br/>Pop %2<br/>%6 Support: %3 %5<br/>%7 Support: %4 %5",[_siteX,false] call <b>A3A_fnc_location</b>,_numCiv,_prestigeOPFOR,_prestigeBLUFOR,"%",nameOccupants,nameTeamPlayer];<br>-----------------------------------------------------<br>if (sidesX getVariable [_siteX,sideUnknown] == teamPlayer) then {_textX = format ["%1<br/>%2",_textX,[_siteX] call <b>A3A_fnc_garrisonInfo</b>]};<br>-----------------------------------------------------<br>_busy = [_siteX,true] call <b>A3A_fnc_airportCanAttack</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 Airport%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Resources%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Factory%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_busy = [_siteX,true] call <b>A3A_fnc_airportCanAttack</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 Grand Outpost%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Seaport%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Roadblock%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>["City Information", _textX] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initACEUnconsciousHandler started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//		[3, format ["Unit type %1, side %2, realside %3, captive %4 knocked out", typeof _unit, side _unit, _realSide, str (captive _unit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>//	[3, format ["Unit type %1, side %2, realside %3, captive %4 waking up", typeof _unit, side _unit, _realSide, str (captive _unit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _unit];		// execute where unit is local<br>-----------------------------------------------------<br>if (side _x != civilian && _x != _unit && _dist < _minDist && {[_x] call <b>A3A_fnc_canFight</b>}) then {<br>-----------------------------------------------------<br>//	[3, format ["Nearest unit side = %1", str (side _nearestUnit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _unit];<br>-----------------------------------------------------<br>[2,"initACEUnconsciousHandler completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initClient started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_installSchrodingersBuildingFix</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initFuncs</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVar</b>;<br>-----------------------------------------------------<br>[2,format ["Headless client version: %1",localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_loadNavGrid</b>;<br>-----------------------------------------------------<br>[clientOwner] remoteExec ["<b>A3A_fnc_addHC</b>",2];<br>-----------------------------------------------------<br>[2,format ["MP client version: %1",localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Waiting for server...",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Server loaded!",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,format ["JIP client: %1",_isJIP],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_ambientCivs</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_playerMarkers</b>;<br>-----------------------------------------------------<br>[player] spawn <b>A3A_fnc_initRevive</b>;		// with ACE medical, only used for helmet popping & TK checks<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_tags</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_pvpCheck</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>if (hasACE) then {[] call <b>A3A_fnc_ACEpvpReDress</b>};<br>-----------------------------------------------------<br>player addEventHandler ["GetInMan", {_this call <b>A3A_fnc_ejectPvPPlayerIfInvalidVehicle</b>}];<br>-----------------------------------------------------<br>player addEventHandler ["SeatSwitchedMan", {[_this select 0, assignedVehicleRole (_this select 0) select 0, _this select 2] call <b>A3A_fnc_ejectPvPPlayerIfInvalidVehicle</b>}];<br>-----------------------------------------------------<br>["Ear Plugs", "You've taken out your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've inserted your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;		// will flip/capture if already initialized<br>-----------------------------------------------------<br>if (_markersX findIf {_pos inArea _x} != -1) then {["Static Deployed", "Static weapon has been deployed for use in a nearby zone, and will be used by garrison militia if you leave it here the next time the zone spawns"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_bag1] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[_bag2] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) then {<br>-----------------------------------------------------<br>["Warning", "You cannot board other player vehicle if you are not in the same group"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_goUndercover</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initUndercover</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) then {<br>-----------------------------------------------------<br>["General Info", "You are not in the member's list, but as you are Server Admin, you have been added. Welcome!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_nonMembers = {(side group _x == teamPlayer) and !([_x] call A3A_fnc_isMember)} count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>_nonMembers = {(side group _x == teamPlayer) and !([_x] call <b>A3A_fnc_isMember</b>)} count (call A3A_fnc_playableUnits);<br>-----------------------------------------------------<br>["General Info", "Welcome Guest<br/><br/>You have joined this server as guest"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_assignBossIfNone</b>", 2];<br>-----------------------------------------------------<br>[2,"Joining In Progress (JIP)",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Not Joining in Progress (JIP)",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_modBlacklist</b>;<br>-----------------------------------------------------<br>gameMenu = (findDisplay 46) displayAddEventHandler ["KeyDown",<b>A3A_fnc_keys</b>];<br>-----------------------------------------------------<br>[1, "ACE non-public functions have changed, rebel group join/leave actions will not be removed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>boxX addAction ["Transfer Vehicle cargo to Ammobox", {[] spawn <b>A3A_fnc_empty</b>;}, 4];<br>-----------------------------------------------------<br>boxX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Heal, Repair and Rearm", <b>A3A_fnc_healAndRepair</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Vehicle Arsenal", <b>JN_fnc_arsenal_handleAction</b>, [], 0, true, false, "", "alive _target && vehicle _this != _this", 10];<br>-----------------------------------------------------<br>vehicleBox addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b> },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Purchase Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Purchase Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>[fireX, "fireX"] call <b>A3A_fnc_flagaction</b>;<br>-----------------------------------------------------<br>mapX addAction ["Game Options", {["Game Options", format ["Antistasi - %2<br/><br/>Version: %1<br/><br/>Difficulty: %3<br/>Unlock Weapon Number: %4<br/>Limited Fast Travel: %5",antistasiVersion,worldName,if (skillMult == 2) then {"Normal"} else {if (skillMult == 1) then {"Easy"} else {"Hard"}},minWeaps,if (limitedFT) then {"Yes"} else {"No"}]] call <b>A3A_fnc_customHint</b>; nul=CreateDialog "game_options";},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>mapX addAction ["Map Info", <b>A3A_fnc_cityinfo</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>mapX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>if (isMultiplayer) then {mapX addAction ["AI Load Info", { [] remoteExec ["<b>A3A_fnc_AILoadInfo</b>",2];},nil,0,false,true,"","((_this == theBoss) || (serverCommandAvailable ""#logout""))"]};<br>-----------------------------------------------------<br>[petros,"remove"] call <b>A3A_fnc_flagaction</b>;		// in case we already created them in initserver<br>-----------------------------------------------------<br>[petros,"mission"] call <b>A3A_fnc_flagaction</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (isNil "playerPlacingHQ" || {!(playerPlacingHQ in (call <b>A3A_fnc_playableUnits</b>))}) then {<br>-----------------------------------------------------<br>call <b>A3A_fnc_placementSelection</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_createDialog_shouldLoadPersonalSave</b>;<br>-----------------------------------------------------<br>private _loadout = [getPlayerUID player, "loadoutPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[2,"initClient completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_singlePlayerBlackScreenWarning</b>;<br>-----------------------------------------------------<br>[2,"initFuncs started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initFuncs completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"InitGarrisons started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>_garrNum = ([_marker] call <b>A3A_fnc_garrisonSize</b>) / 8;<br>-----------------------------------------------------<br>[airportsX, "Airport", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[resourcesX, "Other", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[factories, "Other", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[outposts, "Outpost", [1,1,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[seaports, "Other", [1,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[citiesX, "City", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[2,"InitGarrisons completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Compiling mission path",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Mission path is valid",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Dedicated server detected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Server init started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Setting Singleplayer Params", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>loadLastSave = if (isNil "loadLastSave") then {[1, "No loadLastSave setting", _fileName] call <b>A3A_fnc_log</b>; true} else {loadLastSave};<br>-----------------------------------------------------<br>gameMode = if (isNil "gameMode") then {[1, "No gameMode setting", _fileName] call <b>A3A_fnc_log</b>; 1} else {gameMode};<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_crateLootParams</b>;<br>-----------------------------------------------------<br>if (loadLastSave && !isNil {["membersX"] call <b>A3A_fnc_returnSavedStat</b>}) exitWith {<br>-----------------------------------------------------<br>[2, "Loading last campaign, ID " + campaignID, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (loadLastSave && !isNil {["membersX"] call <b>A3A_fnc_returnSavedStat</b>}) exitWith {<br>-----------------------------------------------------<br>[2, "Loading campaign from saved list, ID " + campaignID, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Creating new campaign with ID " + campaignID, _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = call <b>A3A_fnc_initVar</b>;<br>-----------------------------------------------------<br>[2,format ["%1 server version: %2", ["SP","MP"] select isMultiplayer, localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initFuncs</b>;<br>-----------------------------------------------------<br>if (hasACEMedical) then { call <b>A3A_fnc_initACEUnconsciousHandler</b> };<br>-----------------------------------------------------<br>call <b>A3A_fnc_loadNavGrid</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initZones</b>;<br>-----------------------------------------------------<br>waitUntil {count (call <b>A3A_fnc_playableUnits</b>) > 0};<br>-----------------------------------------------------<br>waitUntil {({(isPlayer _x) and (!isNull _x) and (_x == _x)} count allUnits) == (count (call <b>A3A_fnc_playableUnits</b>))};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_modBlacklist</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initGarrisons</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_loadServer</b>;<br>-----------------------------------------------------<br>[petros,"hint","Membership is enabled but members list is empty. Current players will be added to the member list", "Membership"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[2,"Previous data loaded",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Membership enabled, adding current players to list",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_isMember</b>) and (side _x == teamPlayer)) exitWith {<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_isMember</b>) and (side _x == teamPlayer)) exitWith {theBoss = _x};<br>-----------------------------------------------------<br>[2,"New session selected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNil "commanderX" || {isNull commanderX}) then {commanderX = (call <b>A3A_fnc_playableUnits</b>) select 0};<br>-----------------------------------------------------<br>[theBoss,"CORPORAL"] remoteExec ["<b>A3A_fnc_ranksMP</b>"];<br>-----------------------------------------------------<br>[2,"Accepting players",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_x call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[2,"Initial arsenal unlocks completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>[petros,"hint","Server load finished", "Server Information"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>addMissionEventHandler ["HandleDisconnect",{_this call <b>A3A_fnc_onPlayerDisconnect</b>;false}];<br>-----------------------------------------------------<br>addMissionEventHandler ["PlayerDisconnected",{_this call <b>A3A_fnc_onHeadlessClientDisconnect</b>;false}];<br>-----------------------------------------------------<br>[2,"Setting serverInitDone as true",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Waiting for HQ placement", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "HQ Placed, continuing init", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>distanceXs = [] spawn <b>A3A_fnc_distance</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_resourcecheck</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_aggressionUpdateLoop</b>;<br>-----------------------------------------------------<br>private _lastPlayerCount = count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>private _playerCount = count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>[] remoteExecCall ["<b>A3A_fnc_saveLoop</b>", 2];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_spawnDebuggingLoop</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_logPerformance</b>;<br>-----------------------------------------------------<br>[2,"initServer completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVar started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarCommon</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarServer</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarClient</b>;<br>-----------------------------------------------------<br>["Server Information", "Variables Init Completed"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initVar completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarClient started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarClient completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarCommon started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting initial variables",_fileName] call <b>A3A_fnc_log</b>;													//Sets a log level for feedback, 1=Errors, 2=Information, 3=DEBUG<br>-----------------------------------------------------<br>[2,"Generating sides",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Declaring item categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Starting mod detection",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[2, "IFA Detected", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "IFA detected, but it is no longer supported, please remove this mod", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating building arrays",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Compiling sounds and animations",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating unit identities",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Checking mission path",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _getMissionPath = [] spawn <b>A3A_fnc_initGetMissionPath</b>;<br>-----------------------------------------------------<br>["ERROR", "Stuck on compiling missionPath, re-launch the mission."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[1,"Stuck on compiling missionPath, re-launch the mission.",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Server Information", "Done compiling missionPath"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"Done compiling missionPath",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting map configuration",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarCommon completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarServer started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initialising general server variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>DECLARE_SERVER_VAR(disabledMods, call <b>A3A_fnc_initDisabledMods</b>);<br>-----------------------------------------------------<br>DECLARE_SERVER_VAR(difficultyCoef, if !(isMultiplayer) then {0} else {floor ((({side group _x == teamPlayer} count (call <b>A3A_fnc_playableUnits</b>)) - ({side group _x != teamPlayer} count (call <b>A3A_fnc_playableUnits</b>))) / 5)});<br>-----------------------------------------------------<br>[2,"Setting server only variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initialising item categories",__FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting mod configs",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initializing TFAR settings","initVar.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating civilians",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Reading templates",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Sanity-checking templates",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNil "_var") exitWith { [1, "Missing template var " + _varName, _filename] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>if !(_x isEqualType "") exitWith { [1, "Bad template var " + _varName, _filename] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[1, format ["Missing classnames: %1", _missingVars], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Miscased classnames: %1", _badCaseVars], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating civilian vehicles lists",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_configClass call <b>A3A_fnc_getModOfConfigClass</b> in disabledMods) then {false} else {true};<br>-----------------------------------------------------<br>[2,"Identifying unit types",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initializing hardcoded categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_categoryOverrides</b>;<br>-----------------------------------------------------<br>[2,"Scanning config entries for items",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[A3A_fnc_equipmentIsValidForCurrentModset] call <b>A3A_fnc_configSort</b>;<br>-----------------------------------------------------<br>[<b>A3A_fnc_equipmentIsValidForCurrentModset</b>] call A3A_fnc_configSort;<br>-----------------------------------------------------<br>[2,"Categorizing vehicle classes",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehicleSort</b>;<br>-----------------------------------------------------<br>[2,"Categorizing equipment classes",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_equipmentSort</b>;<br>-----------------------------------------------------<br>[2,"Sorting grouped class categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_itemSort</b>;<br>-----------------------------------------------------<br>[2,"Building loot lists",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_loot</b>;<br>-----------------------------------------------------<br>[2,"Identifying vehicle types",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_aceModCompat</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_rhsModCompat</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_ifaModCompat</b>;<br>-----------------------------------------------------<br>[2,"Creating pricelist",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initialising Garrison Variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initPreference</b>;<br>-----------------------------------------------------<br>[2,"Initialising Reinforcement Variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Sending server variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarServer completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initZones started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_prepareMarkerArrays</b>;<br>-----------------------------------------------------<br>[2, format ["No roads found for marker %1, generating...", _nameX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Bad population count data for %1", _nameX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x, false] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>blackListDest = (markersX - controlsX - ["Synd_HQ"] - citiesX) select {!((position ([getMarkerPos _x] call <b>A3A_fnc_findNearestGoodRoad</b>)) inArea _x)};<br>-----------------------------------------------------<br>[petros, "hint","Zones Init Completed"] remoteExec ["<b>A3A_fnc_commsMP</b>", -2]<br>-----------------------------------------------------<br>[2,"initZones completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 0.5; (visibleMap or visibleGPS) and ([player] call <b>A3A_fnc_hasRadio</b>)};<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>//[_placementMarker, "Placements"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_x select 0, _x select 1] spawn <b>A3A_fnc_initSpawnPlaces</b>;<br>-----------------------------------------------------<br>gameMenu = (findDisplay 46) displayAddEventHandler ["KeyDown",<b>A3A_fnc_keys</b>];<br>-----------------------------------------------------<br>if (count _this == 0) then {["Server Information", "Reinitialised:<br/><br/>Special Keys<br/><br/>Statistics Report"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_radioTowerSide = [_city] call <b>A3A_fnc_getSideRadioTowerInfluence</b>;<br>-----------------------------------------------------<br>case teamPlayer: {[-1,_suppBoost,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>case Occupants: {[1,-1,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>case Invaders: {[-1,-1,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>["TaskSucceeded", ["", format ["%1 joined %2",[_city, false] call <b>A3A_fnc_location</b>,nameTeamPlayer]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{_nul = [_city,_x] spawn <b>A3A_fnc_deleteControls</b>} forEach controlsX;<br>-----------------------------------------------------<br>_base = [_city] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[[_city,_base],"A3A_fnc_convoy"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_city,_base],"<b>A3A_fnc_convoy</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["%1 joined %2",[_city, false] call <b>A3A_fnc_location</b>,nameOccupants]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[-10, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_FIAradio</b>;<br>-----------------------------------------------------<br>_updated = [] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>[petros,"taxRep",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"taxRep",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_economicsAI</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_promotePlayer</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>difficultyCoef = floor ((({side group _x == teamPlayer} count (call <b>A3A_fnc_playableUnits</b>)) - ({side group _x != teamPlayer} count (call <b>A3A_fnc_playableUnits</b>))) / 5);<br>-----------------------------------------------------<br>if ((!bigAttackInProgress) and (random 100 < 50)) then {[] call <b>A3A_fnc_missionRequestAUTO</b>};<br>-----------------------------------------------------<br>//[[],"A3A_fnc_reinforcementsAI"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>//[[],"<b>A3A_fnc_reinforcementsAI</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_reinforcementsAI</b>;<br>-----------------------------------------------------<br>[[_potential select 0,_potential select 1],"A3A_fnc_REP_Antenna"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_potential select 0,_potential select 1],"<b>A3A_fnc_REP_Antenna</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>_nameX = [_x] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>if([_vehicle] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Large intel on %1 is selected as trap, spawning explosives", _marker], _fileName, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_intel, "Intel_Large"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _intel];<br>-----------------------------------------------------<br>[_intel, "Intel_Medium"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_intel];<br>-----------------------------------------------------<br>["Intel", "Intel documents taken"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _intelText = ["Medium", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[5,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[petros,"hint","The screen says:<br/><br/>Prepare to die!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x];<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([200, 0, _intel, teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[[_marker, _side, _attackType, _isLargeAttack],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_marker, _side, _attackType, _isLargeAttack],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>private _playerList = [20, 0, _intel, teamPlayer] call <b>A3A_fnc_distanceUnits</b>;<br>-----------------------------------------------------<br>if({[_x] call <b>A3A_fnc_canFight</b>} count _playerList == 0) exitWith<br>-----------------------------------------------------<br>[petros,"hint","No one in range of the intel, reseting download!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([300, 0, _intel, Invaders] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([300, 0, _intel, Occupants] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[petros,"intelError", _errorText] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>[petros,"hintS", format ["Download at %1%2",((round ((_pointSum/_neededPoints) * 10000))/ 100), "%"], "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>private _intelText = ["Large", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[petros,"hint","You managed to download the intel!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x];<br>-----------------------------------------------------<br>[10,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[5, theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_intel, "Intel_Large"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _intel];<br>-----------------------------------------------------<br>([_caller] call <b>A3A_fnc_canFight</b>) &&                        //Caller is still able to fight<br>-----------------------------------------------------<br>([_caller] call <b>A3A_fnc_canFight</b>) &&                //Can fight<br>-----------------------------------------------------<br>["Intel", "Search cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_squadLeader, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_squadLeader];<br>-----------------------------------------------------<br>["Intel", "Search completed, intel found!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _intelText = ["Small", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[5,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_caller,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>["Intel", "Search completed, but you found nothing!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_squadLeader, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_squadLeader];<br>-----------------------------------------------------<br>[1, "No intel type given!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "No side given!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_CAR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_AIR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_HELI] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_ARMOR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>[_newWeapon] remoteExec ["<b>A3A_fnc_unlockEquipment</b>", 2];<br>-----------------------------------------------------<br>[0, _money] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_official = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_pilot = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_pilot = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_nul = [_x,""] call <b>A3A_fnc_NATOinit</b>; _x allowFleeing 0} forEach units _grp;<br>-----------------------------------------------------<br>["AS",[format ["A %4 officer is inspecting %1. Go there and kill him before %2:%3.",_nameDest,numberToDate [2035,_dateLimitNum] select 3,numberToDate [2035,_dateLimitNum] select 4,_naming],"Kill the Officer",_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,600] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[2400, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[0,300] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[1800, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["Officer killed at %1",[_nameDest, false] call <b>A3A_fnc_location</b>]]] remoteExec ["BIS_fnc_showNotification",_sideX];<br>-----------------------------------------------------<br>["AS",[format ["A %4 officer is inspecting %1. Go there and kill him before %2:%3.",_nameDest,numberToDate [2035,_dateLimitNum] select 3,numberToDate [2035,_dateLimitNum] select 4,_naming],"Kill the Officer",_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,-60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[-600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,-30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["AS",[format ["We have spotted a %3 SpecOp team patrolling around an %1. Ambush them and we will have one less problem. Do this before %2. Be careful, they are tough boys.",_nameDest,_displayTime],"SpecOps",_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["AS",[format ["We have spotted a %3 SpecOp team patrolling around an %1. Ambush them and we will have one less problem. Do this before %2. Be careful, they are tough boys.",_nameDest,_displayTime,_naming],"SpecOps",_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,400] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[0,200] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[0, 0], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_radiusX = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_traitor = [_groupTraitor, NATOOfficer2, _posTraitor, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_sol1 = [_groupTraitor, NATOBodyG, _posSol1, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_sol2 = [_groupTraitor, NATOBodyG, _posSol2, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_nul = [_x,""] call <b>A3A_fnc_NATOinit</b>; _x allowFleeing 0} forEach units _groupTraitor;<br>-----------------------------------------------------<br>[_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX,Occupants, NATOSquad] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>waitUntil {sleep 1; (traitorIntel) || {(dateToNumber date > _dateLimitNum) or {(not alive _traitor) or {({_traitor knowsAbout _x > 1.4} count ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0)}}}};<br>-----------------------------------------------------<br>if ({_traitor knowsAbout _x > 1.4} count ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) then<br>-----------------------------------------------------<br>["AS",[format ["A traitor has scheduled a meeting with %3 in %1. Kill him before he provides enough intel to give us trouble. Do this before %2. We don't where exactly this meeting will happen. You will recognise the building by the nearby Offroad and %3 presence.",_nameDest,_displayTime,nameOccupants],"Kill the Traitor",_markerX],_traitor,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["AS1",[format ["We arranged a meeting in %1 with a %3 contact who may have vital information about their Headquarters position. Protect him until %2.",_nameDest,_displayTime,nameTeamPlayer],"Protect Contact",_markerX],getPos _houseX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>{[petros,"hint","Someone found some intel on the traitors family, he will not cause any problems any more!"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([500,0,_traitor,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{[petros,"hint","Someone found some intel on the traitors family, he will not cause any problems any more!"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[_traitor] call <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>[_traitor, "remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_traitor];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[15 * _factor, 120], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,300 * _factor] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[10 * _factor,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([_radiusX,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[5 * _factor,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["AS",[format ["A traitor has scheduled a meeting with %3 in %1. Kill him before he provides enough intel to give us trouble. Do this before %2. We don't where exactly this meeting will happen. You will recognise the building by the nearby Offroad and %3 presence.",_nameDest,_displayTime,nameOccupants],"Kill the Traitor",_markerX],_traitor,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["AS1",[format ["We arranged a meeting in %1 with a %3 contact who may have vital information about their Headquarters position. Protect him until %2.",_nameDest,_displayTime,nameTeamPlayer],"Protect Contact",_markerX],getPos _houseX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (_difficultX) then {[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>} else {[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>};<br>-----------------------------------------------------<br>[-1*(round(_hrT/3)),-1*(round(_resourcesFIAT/3))] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[Occupants],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[Occupants],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [10,"AS1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>[_groupTraitor] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_typesVeh = _typesVeh select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _heliCrew;<br>-----------------------------------------------------<br>[_heli, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_heli,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin, _sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _heli; _x moveInCargo _heli; _soldiers pushBack _x; [_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>//[_heli,"Air Transport"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_heli,_groupX,_positionX,_posOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_heli,_groupX,_positionX,_posOrigin,_groupHeli] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers < {!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) or (_positionX distance getMarkerPos respawnTeamPlayer > 999) or (!alive petros)};<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill %1. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill Maru. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[_sideX],[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill %1. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[10, 60], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[5, 60], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,300] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[-5,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>_nul = [1200,"DEF_HQ"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"DEF_HQ1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>if (_mrkDest in outposts) then {if (((count (garrison getVariable [_mrkDest, []]))/2) >= [_mrkDest] call <b>A3A_fnc_garrisonSize</b>) then {_convoyTypes pushBack "Reinforcements"}};<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_mrkDest, []]))/2) >= [_mrkDest] call <b>A3A_fnc_garrisonSize</b>) then {_convoyTypes pushBack "Reinforcements"};<br>-----------------------------------------------------<br>private _displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>private _nameDest = [_mrkDest] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _nameOrigin = [_mrkOrigin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _spawnRoad = [getMarkerPos _mrkOrigin] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_posOrig = [[_posOrig] call <b>A3A_fnc_findNearestNavPoint</b>] call A3A_fnc_getNavPos;<br>-----------------------------------------------------<br>_posOrig = [[_posOrig] call A3A_fnc_findNearestNavPoint] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>private _route = [_posOrig, _posDest] call <b>A3A_fnc_findPath</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["Air"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if (side _group != civilian) then { [_x] call <b>A3A_fnc_NATOinit</b> };<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh, _markName] spawn <b>A3A_fnc_inmuneConvoy</b>;			// NOTE: should not be called unless moving within 60s<br>-----------------------------------------------------<br>private _typeGroup = [_typeVehEsc,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>private _unit = [_grpPOW, SDKUnarmed, _posOrigin, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"refugee"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>private _typeGroup = [_typeVehObj,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>[_adjustCA, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>", 2];<br>-----------------------------------------------------<br>[_adjustBoss, theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_aggroMod, _aggroTime], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>", 2]<br>-----------------------------------------------------<br>[[0, 0], [_aggroMod, _aggroTime]] remoteExec ["<b>A3A_fnc_prestige</b>", 2]<br>-----------------------------------------------------<br>[3, _eventText, "aggroEvent"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_vehObj,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_vehObj,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,5*_bonus,_posDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_vehObj,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_vehObj,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[_countX,_countX*300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_posOrigin] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{[_countX,_x] call <b>A3A_fnc_playerScoreAdd</b>} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[0,10*_bonus,_posOrigin] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[_typesX,_sideX,_mrkDest,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,5000*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,15*_bonus,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,-10*_bonus,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[15*_bonus,0,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["CONVOY",[_textX,_taskTitle,_mrkDest],_posDest,_taskState] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["CONVOY1",[format ["A convoy from %1 to %3, it's about to depart at %2. Protect it from any possible attack.",_nameOrigin,_displayTime,_nameDest],"Protect Convoy",_mrkDest],_posDest,_taskState1] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [600,"CONVOY"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"CONVOY1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groups;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["CON",[_textX,_taskName,_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1200, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["CON",[_textX,_taskName,_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,400] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[1200, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[0,200] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[600, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"CON"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>["DES",[format ["We need to destroy or take a Radio Tower in %1. This will interrupt %3 Propaganda Nework. Do it before %2.",_nameDest,_displayTime,nameOccupants],"Destroy Radio Tower",_mrkFinal],_positionX,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[-5, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[0, 0], [-5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>["DES",[format ["We need to destroy or take a Radio Tower in %1. This will interrupt %3 Propaganda Nework. Do it before %2.",_nameDest,_displayTime,nameOccupants],"Destroy Radio Tower",_mrkFinal],_positionX,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[15, 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [15, 90]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[600*_bonus, _side] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _positionX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameXbase = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Escort"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_groupX = [_positionX, _sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh; _x moveInCargo _veh; _soldiers pushBack _x; [_x] join _groupVeh; [_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>[_vehT] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_vehT,"Recover Truck"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrewT;<br>-----------------------------------------------------<br>["DES",[format ["We have downed air vehicle. It is a good chance to destroy it before it is recovered. Do it before a recovery team from the %1 reaches the place. MOVE QUICKLY",_nameXbase],"Destroy Air",_mrkFinal],_posCrashMrk,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [15, 90]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[15, 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[1800*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _heli < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["DES1",[format ["The rebels managed to shot down a helicopter. A recovery team departing from the %1 is inbound to recover it. Cover them while they perform the whole operation",_nameXbase],"Helicopter Down",_mrkFinal],_posCrash,"FAILED","Defend"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DES",[format ["We have downed air vehicle. It is a good chance to destroy it before it is recovered. Do it before a recovery team from the %1 reaches the place. MOVE QUICKLY",_nameXbase],"Destroy Air",_mrkFinal],_posCrashMrk,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DES1",[format ["The rebels managed to shot down a helicopter. A recovery team departing from the %1 is inbound to recover it. Cover them while they perform the whole operation",_nameXbase],"Helicopter Down",_mrkFinal],_posCrash,"SUCCEEDED","Defend"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-600*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"DES1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;(!([distanceSPWN,1,_x,teamPlayer] call <b>A3A_fnc_distanceUnits</b>))};<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeX, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,""] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;({leader _groupX knowsAbout _x > 1.4} count ([distanceSPWN,0,leader _groupX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) or (dateToNumber date > _dateLimitNum) or (not alive _veh) or ({(_x getVariable ["spawner",false]) and (side group _x == teamPlayer)} count crew _veh > 0)};<br>-----------------------------------------------------<br>if ({leader _groupX knowsAbout _x > 1.4} count ([distanceSPWN,0,leader _groupX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) then {_groupX addVehicle _veh;};<br>-----------------------------------------------------<br>["DES",[format ["We know an enemy armor (%3) is stationed in a %1. It is a good chance to steal or destroy it before it causes more damage. Do it before %2.",_nameDest,_displayTime,getText (configFile >> "CfgVehicles" >> (_typeVehX) >> "displayName")],"Steal or Destroy Armor",_markerX],_positionX,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>[1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["DES",[format ["We know an enemy armor (%3) is stationed in a %1. It is a good chance to steal or destroy it before it causes more damage. Do it before %2.",_nameDest,_displayTime,getText (configFile >> "CfgVehicles" >> (_typeVehX) >> "displayName")],"Steal or Destroy Armor",_markerX],_positionX,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-5*_bonus,-100*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[5*_bonus,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_road = [_positionX] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[_truckX] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_truckX, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_pos,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>_groupX1 = [_pos,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX1;<br>-----------------------------------------------------<br>[getPosASL _vehicle, _owningSide, "", false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"SUCCEEDED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _truckX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>[_groupX1] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_city] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>["Bank Mission", _textX] remoteExecCall ["<b>A3A_fnc_customHint</b>", _this select 2];<br>-----------------------------------------------------<br>[_truckX,"Mission Vehicle"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX = if (_difficultX) then {[_positionX,Occupants, groupsNATOSentry] call <b>A3A_fnc_spawnGroup</b>} else {[_positionX,Occupants, groupsNATOGen] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"FAILED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",true],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",true],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[10*_bonus,-20*_bonus,_markerX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>} forEach ([distanceSPWN,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (_truckX distance _positionX > 6) then {{[petros,"hint","Don't get the truck far from the bank or count will restart", "Bank Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([200,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)};<br>-----------------------------------------------------<br>if (_truckX distance _positionX > 6) then {{[petros,"hint","Don't get the truck far from the bank or count will restart", "Bank Mission"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([200,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)};<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"hint","Drive the Truck back to base to finish this mission", "Bank Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"hint","Drive the Truck back to base to finish this mission", "Bank Mission"] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"SUCCEEDED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,5000*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[20 * _bonus, 120], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _truckX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_truckX] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"FAILED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groups;<br>-----------------------------------------------------<br>[2, format ["Creating Salvage mission"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Salvage Mission Positions: %1, %2, %3", _mrk1Pos, _mrk2Pos, _mrk3Pos], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>private _nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_SalvageRope</b>", 0, true];<br>-----------------------------------------------------<br>[3, format ["Mission created, waiting for players to get near"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["players in spawning range, starting spawning"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_crateContents call <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[3, format ["Box spawned"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning patrol boat and crew"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>private _vehCrewGroup = [_positionX,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[3, format ["Waiting for salvage mission end"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["LOG",[ _text, _title,[_mrk1, _mrk2, _mrk3]],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[2, format ["Mission Failed"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["LOG",[ _text, _title,[_mrk1, _mrk2, _mrk3]],_positionX,"SUCCEEDED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _box < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[2, format ["Mission Succeeded"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[3, format ["set delete task timer"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_vehCrewGroup] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["Logistics Mission", _text] remoteExecCall ["<b>A3A_fnc_customHint</b>",_this select 2];	//This need a rework<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_truckX,"Supply Box"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"FAILED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[5*_bonus,-5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>} forEach ([300,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>while {(_countX > 0) and (_truckX distance _positionX < 40) and ({[_x] call A3A_fnc_canFight} count ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) == count ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0) and (dateToNumber date < _dateLimitNum) and (isNull attachedTo _truckX)} do<br>-----------------------------------------------------<br>while {(_countX > 0) and (_truckX distance _positionX < 40) and ({[_x] call <b>A3A_fnc_canFight</b>} count ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits) == count ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0) and (dateToNumber date < _dateLimitNum) and (isNull attachedTo _truckX)} do<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (((_truckX distance _positionX > 40) or (not([80,1,_truckX,teamPlayer] call A3A_fnc_distanceUnits)) or ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits != 0)) and (alive _truckX)) then {{[petros,"hint","Stay close to the crate, and clean all BLUFOR presence in the surroundings or count will restart", "Logistics Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([100,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)};<br>-----------------------------------------------------<br>if (((_truckX distance _positionX > 40) or (not([80,1,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) or ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits != 0)) and (alive _truckX)) then {{[petros,"hint","Stay close to the crate, and clean all BLUFOR presence in the surroundings or count will restart", "Logistics Mission"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([100,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)};<br>-----------------------------------------------------<br>waitUntil {sleep 1; ((_truckX distance _positionX < 40) and ([80,1,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0)) or (dateToNumber date > _dateLimitNum) or (isNull _truckX)};<br>-----------------------------------------------------<br>[petros,"hint","Supplies Delivered", "Logistics Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"SUCCEEDED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>{if (_x distance _positionX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[-1*(20-skillFIA),15*_bonus,_markerX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[-25, 90], [-10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"FAILED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[5*_bonus,-5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_emptybox] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>if ([_typeX] call BIS_fnc_taskExists) exitWith {if (!_silencio) then {[petros,"globalChat","I already gave you a mission of this type"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]}};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no assasination missions for you. Move our HQ closer to the enemy or finish some other assasination missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Assasination Missions require cities, Patrolled Jungles or Airports closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_AS_Official"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_AS_Traitor"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"<b>A3A_fnc_AS_Official</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_AS_Traitor"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_AS_Official"] remoteExec ["A3A_fnc_scheduler",2]} else {if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_AS_Traitor</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no Conquest missions for you. Move our HQ closer to the enemy or finish some other conquest missions in order to have better intel."] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Conquest Missions require roadblocks or outposts closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[[_siteX],"A3A_fnc_CON_Outpost"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_siteX],"<b>A3A_fnc_CON_Outpost</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[petros,"globalChat","I have no destroy missions for you. Move our HQ closer to the enemy or finish some other destroy missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Destroy Missions require Airbases or Radio Towers closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_DES_Heli"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}};<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"<b>A3A_fnc_DES_Heli</b>"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"<b>A3A_fnc_DES_Vehicle</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_DES_Heli"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"<b>A3A_fnc_DES_Vehicle</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in antennas) then {[[_siteX],"DES_antenna"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}<br>-----------------------------------------------------<br>if ([_pos,_posbase] call <b>A3A_fnc_isTheSameIsland</b>) then {_potentials pushBack _siteX};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no logistics missions for you. Move our HQ closer to the enemy or finish some other logistics missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Logistics Missions require Outposts, Cities or Banks closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_LOG_Supplies"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_LOG_Supplies</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in outposts) then {[[_siteX],"A3A_fnc_LOG_Ammo"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in outposts) then {[[_siteX],"<b>A3A_fnc_LOG_Ammo</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in banks) then {[[_siteX],"A3A_fnc_LOG_Bank"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in banks) then {[[_siteX],"<b>A3A_fnc_LOG_Bank</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in Seaports) then {[[_siteX],"A3A_fnc_LOG_Salvage"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in Seaports) then {[[_siteX],"<b>A3A_fnc_LOG_Salvage</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no rescue missions for you. Move our HQ closer to the enemy or finish some other rescue missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Rescue Missions require Cities or Airports closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_RES_Refugees"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_RES_Prisoners"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_RES_Refugees"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"<b>A3A_fnc_RES_Prisoners</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_RES_Refugees</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_RES_Prisoners"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_base = [_siteX] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[petros,"globalChat","I have no Convoy missions for you. Move our HQ closer to the enemy or finish some other missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Convoy Missions require Airports or Cities closer than 5Km from your HQ, and they must have an idle friendly base in their surroundings.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>_base = [_siteX] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[[_siteX,_base],"A3A_fnc_convoy"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_siteX,_base],"<b>A3A_fnc_convoy</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[petros,"globalChat","There is a big battle around, I don't think the enemy will send any convoy"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Convoy Missions require a calmed status around the island, and now it is not the proper time.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if ((count _potentials > 0) and (!_silencio)) then {[petros,"globalChat","I have a mission for you"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]};<br>-----------------------------------------------------<br>_nul = [_typeX,true] call <b>A3A_fnc_missionRequest</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_road = [getPos _antennaDead] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_nul = [_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, NATOCrew, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,""] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[15, 90], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1200, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[15, 90], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1200, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_antennaDead] remoteExec ["<b>A3A_fnc_rebuildRadioTower</b>", 2];<br>-----------------------------------------------------<br>_nul = [30,"REP"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_unit = [_grpPOW, SDKUnarmed, (_posHouse select _i), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"prisonerX"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>["RES",[format ["A group of POWs is awaiting for execution in %1. We must rescue them before %2. Bring them to HQ",_nameDest,_displayTime],"POW Rescue",_markerX],_positionX,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[format ["A group of POWs is awaiting for execution in %1. We must rescue them before %2. Bring them to HQ",_nameDest,_displayTime],"POW Rescue",_markerX],_positionX,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-(_countX * 1.5), 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"RES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_radiusX = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_unit = [_groupPOW, SDKUnarmed, _posHouse select _i, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"refugee"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>_airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == Invaders) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)};<br>-----------------------------------------------------<br>[[getPosASL _houseX,_airportX,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[getPosASL _houseX,_airportX,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>_nul = [_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [getPos _houseX,Occupants, NATOSquad] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_groupX = [getPos _houseX,Occupants,[policeOfficer,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt]] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX1 = [_houseX buildingExit 0, Occupants, groupsNATOGen] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[-10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>if (!isNull _groupX1) then { [_groupX1] spawn <b>A3A_fnc_groupDespawner</b> };<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_nul = [1200,"RES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[2,format ["Disabled DLC: %1",_disabledMods],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Not attempting to assign new boss - player %1 is the boss", theBoss],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _members = (call <b>A3A_fnc_playableUnits</b>) select { [_x] call A3A_fnc_isMember };<br>-----------------------------------------------------<br>private _members = (call A3A_fnc_playableUnits) select { [_x] call <b>A3A_fnc_isMember</b> };<br>-----------------------------------------------------<br>[3, format ["Attempting to assign new boss, checking %1 members for next Boss.", count _members],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player %1 is eligible", _x],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _dataX = [_x] call <b>A3A_fnc_numericRank</b>;<br>-----------------------------------------------------<br>[3, format ["Current boss rank: %1, player rank: %2", _bossRank, _playerRank],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player %1 is not eligible", _x],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Player chosen for Boss: %1", _nextBoss],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_nextBoss] call <b>A3A_fnc_theBossTransfer</b>;<br>-----------------------------------------------------<br>[2, "Couldn't select a new boss - no eligible candidates.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!isNil "theBoss" && {!isNull theBoss}) then { [] call <b>A3A_fnc_theBossTransfer</b> };<br>-----------------------------------------------------<br>if (_resourcesPlayer < 100) exitWith {["Donate Money", "You have less than 100 â‚¬ to donate"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[0,100] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["Donate Money", "You have donated 100 â‚¬ to the cause. This will raise your status among our forces"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (!isPlayer _target) exitWith {["Donate Money", "You must be looking to a player in order to give him money"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>[100] remoteExec ["<b>A3A_fnc_resourcesPlayer</b>", _target];<br>-----------------------------------------------------<br>["Donate Money", format ["You have donated 100 â‚¬ to %1", name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[3, format ["Attempting to make %1 the boss", _player], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_player getVariable ["eligible",false] && (side (group _player) == teamPlayer) && [_player] call <b>A3A_fnc_isMember</b>) exitWith {<br>-----------------------------------------------------<br>[3, "Player is eligible, making them the boss", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_player] call <b>A3A_fnc_theBossTransfer</b>;<br>-----------------------------------------------------<br>[3, "Player is not eligible, unable to make them the boss", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!(serverCommandAvailable "#logout") and (!isServer)) exitWith {["Membership", "Only Server Admins or hosters can add a new member"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(membershipEnabled) exitWith {["Membership", "Server Member feature is disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNil "membersX") exitWith {["Membership", "Membership feature not yet initialised. Please try again later"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!isPlayer _target) exitWith {["Membership", "You are not pointing to anyone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_this select 0 == "add") and ([_target] call <b>A3A_fnc_isMember</b>)) exitWith {["Membership", "The player is already a member of this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ((_this select 0 == "add") and ([_target] call A3A_fnc_isMember)) exitWith {["Membership", "The player is already a member of this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_this select 0 == "remove") and  !([_target] call <b>A3A_fnc_isMember</b>)) exitWith {["Membership", "The player is not a member of this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ((_this select 0 == "remove") and  !([_target] call A3A_fnc_isMember)) exitWith {["Membership", "The player is not a member of this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Membership", format ["%1 has been added to the Server Members List",name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Membership", "You have been added to the Server Members list"] remoteExec ["<b>A3A_fnc_customHint</b>", _target];<br>-----------------------------------------------------<br>["Membership", format ["%1 has been removed from the Server Members List",name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Membership", "You have been removed from the Server Members list"] remoteExec ["<b>A3A_fnc_customHint</b>", _target];<br>-----------------------------------------------------<br>if !(membershipEnabled) exitWith {["Membership", "Server Member feature is disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_playerX] call <b>A3A_fnc_isMember</b>) then {_textX = format ["%1%2<br/>",_textX,name _playerX]} else {_countN = _countN + 1};<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>["Membership", _textX] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[petros,"income",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",_playerX];<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",_playerX];<br>-----------------------------------------------------<br>if (_pointsX != 1) then {[0,(_pointsX * 5)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]} else {[0,20-(tierWar * 2)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]};<br>-----------------------------------------------------<br>[3, format ["Working on player ranks"],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _dataX = [_player] call <b>A3A_fnc_numericRank</b>;<br>-----------------------------------------------------<br>[_player,_newRank] remoteExec ["<b>A3A_fnc_ranksMP</b>"];<br>-----------------------------------------------------<br>[-1*(50*_multiplier),_player] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ((call <b>A3A_fnc_playableUnits</b>) select {(side (group _x) == teamPlayer)});<br>-----------------------------------------------------<br>[3, _textX, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,"hint",_textX, "Promotion"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < 100) exitWith {["Money Grab", "FIA has not enough resources to grab"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-2,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["Money Grab", format ["You grabbed 100 â‚¬ from the %1 Money Pool.<br/><br/>This will affect your prestige and status among %1 forces",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ([_newBoss] call <b>A3A_fnc_makePlayerBossIfEligible</b>) then {<br>-----------------------------------------------------<br>["Commander", _text] remoteExec ["<b>A3A_fnc_customHint</b>", _playerX];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>[3, format ["Removing %1 from Boss roles.", theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!_silent) then {[petros,"hint",_textX, "New Commander"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[3, "Found previous HC groups, transferring.", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No previous HC groups found, scanning all groups.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["New boss %1 set.", theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!_silent) then {[petros,"hint",_textX, "New Commander"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if (!_silent) then { [petros,"tier",""] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]] };<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_updatePreference</b>;<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>_mainMarker = [_pos] call <b>A3A_fnc_getClosestMainMarker</b>;<br>-----------------------------------------------------<br>_startNav = [_startPos] call <b>A3A_fnc_findNearestNavPoint</b>;<br>-----------------------------------------------------<br>_endNav = [_endPos] call <b>A3A_fnc_findNearestNavPoint</b>;<br>-----------------------------------------------------<br>_targetNavPos = [_startNav] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_startNavPos = [_endNav] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_openList pushBack [_endNav, 0, [_startNavPos, _targetNavPos] call <b>A3A_fnc_calculateH</b>, "End"];<br>-----------------------------------------------------<br>_nextNodes = [_next select 0] call <b>A3A_fnc_getNavConnections</b>;<br>-----------------------------------------------------<br>_nextPos = [_next select 0] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_conPos = [_conName] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_h = [_conPos, _targetNavPos] call <b>A3A_fnc_calculateH</b>;<br>-----------------------------------------------------<br>_lastPos = [_lastNav select 0] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>[2, "Started loading nav grid", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Road database at %1 could not be loaded", _path], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _mainMarkers = [_position] call <b>A3A_fnc_getMainMarkers</b>;<br>-----------------------------------------------------<br>[_index, _x] call <b>A3A_fnc_setNavOnMarker</b>;<br>-----------------------------------------------------<br>[2, "Finished loading nav grid", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>Doesn't do the checking itself, refer to <b>A3A_fnc_punishment_FF</b>.<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim] remoteExec ["<b>A3A_fnc_punishment</b>",2,false]; // How it should be called from another <b>A3A_fnc_punishment</b>_FF.<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim] remoteExec ["A3A_fnc_punishment",2,false]; // How it should be called from another <b>A3A_fnc_punishment_FF</b>.<br>-----------------------------------------------------<br>[cursorObject, 0, 0] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                 // Ping with FF Warning<br>-----------------------------------------------------<br>[cursorObject,120, 1] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                // Punish, 120 additional seconds<br>-----------------------------------------------------<br>[player,10, 1] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                       // Test Self Punish, 10 additional seconds<br>-----------------------------------------------------<br>[cursorObject,"forgive"] remoteExec [<b>A3A_fnc_punishment_release</b>,2]; // Forgive all sins<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit due to FF"] remoteExec ["<b>A3A_fnc_customHint</b>",_instigator,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[2, format ["%1 | %2", _actionTaken, _playerInfo], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>["FF Warning", _message + _comradeStats] remoteExec ["<b>A3A_fnc_customHint</b>", _instigator, false]; // This may or may not work for remoteControlled units depending on deSync.<br>-----------------------------------------------------<br>if (isPlayer _victim) then {["FF Notification", format["%1 hurt you!",name _instigator]] remoteExec ["<b>A3A_fnc_customHint</b>", _victim, false];};<br>-----------------------------------------------------<br>[_UID,_timeTotal] call <b>A3A_fnc_punishment_sentence_server</b>; // Scope is within scheduled space.<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_addActionForgive</b>",0,false];<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_offenceTotal","_name"];<br>-----------------------------------------------------<br>[_arguments,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2,false];<br>-----------------------------------------------------<br>[_arguments,true] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>[_UID] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_offenceTotal"];<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[_instigator, 0, 0] remoteExecCall ["<b>A3A_fnc_punishment</b>",2,false];<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>; // Return values from key "test" and "420" with default as 0, in UID "123"<br>-----------------------------------------------------<br>[_UID,[]] call <b>A3A_fnc_punishment_dataGet</b>;    // Return all [key,value]s in UID "123"<br>-----------------------------------------------------<br>["",[]] call <b>A3A_fnc_punishment_dataGet</b>;      // Return all UID strings<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>; // Gets namespace for getVariable and setVariable<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>; // Removes keys "test" and "frost" in UID "123"<br>-----------------------------------------------------<br>[_UID,[]] call <b>A3A_fnc_punishment_dataRem</b>;    // Removes UID "123" and all it's keys from _punishment_dataNamespace<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>; // In UID "123": Sets values of key "test" to "frost" and "420" to 69<br>-----------------------------------------------------<br>[1, "INVALID PARAMS | No keys pairs", _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>Refer to <b>A3A_fnc_punishment</b>.sqf for actual punishment logic.<br>-----------------------------------------------------<br>[_instigator, 60, 0.4, _unit] remoteExec ["<b>A3A_fnc_punishment_FF</b>",_instigator,false]; // How it should be called from another function.<br>-----------------------------------------------------<br>[player, 0, 0, objNull] call <b>A3A_fnc_punishment_FF</b>;             // Test self with no victim<br>-----------------------------------------------------<br>[player, 0, 0, cursorObject] call <b>A3A_fnc_punishment_FF</b>;        // Test self with victim<br>-----------------------------------------------------<br>[player,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2]; // Self forgive all sins<br>-----------------------------------------------------<br>[[_instigator,_source], 60, 0.4, _unit] remoteExec ["<b>A3A_fnc_punishment_FF</b>",[_source,_instigator] select (isPlayer _instigator),false]; // How it should be called from an EH.<br>-----------------------------------------------------<br>[[objNull,player], 0, 0, objNull] call <b>A3A_fnc_punishment_FF</b>;      // Test self with no victim<br>-----------------------------------------------------<br>[[objNull,player], 0, 0, cursorObject] call <b>A3A_fnc_punishment_FF</b>; // Test self with victim<br>-----------------------------------------------------<br>if (isPlayer _victim) then {["FF Notification", format["%1 hurt you!",name _instigator]] remoteExec ["<b>A3A_fnc_customHint</b>", _victim, false];};<br>-----------------------------------------------------<br>["FF Notification", _exempMessage+ _comradeStats + _customMessage] remoteExec ["<b>A3A_fnc_customHint</b>", _instigator, false];<br>-----------------------------------------------------<br>[2, format ["%1 | %2", _exemptionDetails, _playerStats], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[2,_killStats,_filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[2, format ["COLLISION | %1 [%2]'s %3%4", name _instigator, getPlayerUID _instigator, _vehicle, _victimStats], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim,_customMessage] remoteExecCall ["<b>A3A_fnc_punishment</b>",2,false];<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_punishment_FF_addEH</b>; // Recommended to add to "onPlayerRespawn.sqf"<br>-----------------------------------------------------<br>[cursorObject,true] remoteExec ["<b>A3A_fnc_punishment_FF_addEH</b>",cursorObject,false];<br>-----------------------------------------------------<br>[1,"No unit given",_fileName] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>if ([_instigator] call <b>A3A_fnc_punishment_notPlayer</b> && {[_killer] call <b>A3A_fnc_punishment_notPlayer</b>}) exitWith {}; // A certain company that develops a specific game called ArmaIII hasn't mastered the EH yet. So it's full objNull if a hippo crosses a stream when the day is divisible by the second fortnight of the month during a full moon on a warm summers day while the mosquitoes bit down on Richard Parker as he struggles during the October revolution.<br>-----------------------------------------------------<br>[[_instigator,_killer], 60, 0.4, _unit] remoteExecCall ["<b>A3A_fnc_punishment_FF</b>",[_killer,_instigator] select (isPlayer _instigator),false];<br>-----------------------------------------------------<br>if ([_instigator] call <b>A3A_fnc_punishment_notPlayer</b> && {[_source] call <b>A3A_fnc_punishment_notPlayer</b>}) exitWith {};<br>-----------------------------------------------------<br>[[_instigator,_source], 60, 0.4, _unit] remoteExecCall ["<b>A3A_fnc_punishment_FF</b>",[_source,_instigator] select (isPlayer _instigator),false];<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,"Put",_explosive] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[getPlayerUID player] remoteExecCall ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>[3,format["Punishment Event Handlers Added to: %1",name _unit],_fileName] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[_unit,"Put",_explosive] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[_unit, 60, 0.4, objNull, "You cannot throw grenades or place explosives within 75m of base."] call <b>A3A_fnc_punishment_FF</b>;<br>-----------------------------------------------------<br>[2, format ["EXPLOSIVE DISCHARGE HQ | %1 [%2] distance from Petros: %3", name _unit, getPlayerUID _unit, _distancePetros], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_notifyAdmin</b>",0,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>["FF Notification", format ["%1 has been found guilty of FF.<br/><br/>If you believe this is a mistake, you can forgive him with a scroll-menu action on his body.<br/><br/>He is at the bottom left corner of the map.",_name]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ( [_instigator] call <b>A3A_fnc_punishment_notPlayer</b> ) exitWith {};<br>-----------------------------------------------------<br>[_UID,"add"] call ["<b>A3A_fnc_punishment_oceanGulag</b>",2,false];<br>-----------------------------------------------------<br>[_UID,"remove"] call ["<b>A3A_fnc_punishment_oceanGulag</b>",2,false];<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_punishment_platform","_initialPosASL"];<br>-----------------------------------------------------<br>[2, format ["DETAINEE MIA | UID:%1 matches no in-game player. Cleaning up.", _UID], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_initialPosASL"];<br>-----------------------------------------------------<br>[_UID,["punishment_platform","initialPosASL"]] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _operation=""%1""", _operation], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2]; // Forgive all sins and release from Ocean Gulag.<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID,"remove"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[2, format ["RELEASE | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["FF Notification", "Enough then."] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[2, format ["FORGIVE | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["FF Notification", "An admin looks with pity upon your soul.<br/>You have been forgiven."] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _source=""%1""", _source], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID] call <b>A3A_fnc_punishment_addActionForgive</b>;<br>-----------------------------------------------------<br>[_UID,_timeLeft] remoteExec ["<b>A3A_fnc_punishment_sentence_client</b>",_detainee,false];<br>-----------------------------------------------------<br>["FF Notification", format ["Please do not teamkill. Play with the turtles for %1 more seconds.<br/>Use Refresh Admin Action if the admin just logged in.<br/>Swimming in water may cause injury.",_timeLeft], true] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[_UID,_timeTotal] remoteExec ["<b>A3A_fnc_punishment_sentence_server</b>",2,false];<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[2, format ["DISCONNECTED/DIED WHILE PUNISHED | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,"remove"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_addActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_notifyAdmin</b>",0,false];<br>-----------------------------------------------------<br>[_UID,_countX] remoteExec ["<b>A3A_fnc_punishment_sentence_client</b>",_detainee,false];<br>-----------------------------------------------------<br>[_UID,"add"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>_sentenceEndTime = ([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) select 0; // Polls for updates from admin forgive<br>-----------------------------------------------------<br>[_UID,"punishment_warden"] call <b>A3A_fnc_punishment_release</b>;<br>-----------------------------------------------------<br>[_UID,"punishment_warden_manual"] call <b>A3A_fnc_punishment_release</b>;<br>-----------------------------------------------------<br>private _friendlyPlayers = ({(side group _x == teamPlayer)} count (call <b>A3A_fnc_playableUnits</b>));<br>-----------------------------------------------------<br>private _enemyPlayers = count (call <b>A3A_fnc_playableUnits</b>) - _friendlyPlayers;<br>-----------------------------------------------------<br>[2,"Player kicked as they are not Jipping",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Player kicked as PvP slots are disabled",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>case (!([_unit] call <b>A3A_fnc_isMember</b>)): {<br>-----------------------------------------------------<br>[2,"PvP player kicked because they are not a member.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked because there are wayyyyyy too many PvP players..",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked as there are not enough normal players.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked as there is no Rebel Commander.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player logged in, doing server side checks if the player has been rebel recently.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_playerHasBeenPvPCheck</b>",2];<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Airstrike", "You are not looking to any vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh distance getMarkerPos respawnTeamPlayer > 50) exitWith {["Airstrike", "Vehicle must be closer than 50 meters to the flag"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({isPlayer _x} count crew _veh > 0) exitWith {["Airstrike", "In order to sell, vehicle must be empty."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Airstrike", "You are not owner of this vehicle and you cannot sell it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(_veh isKindOf "Air")) exitWith {["Airstrike", "Only Air Vehicles can be used to increase Airstrike points"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Airstrike", "Backpack drones cannot be used to increase Airstrike points"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Airstrike", format ["Air Support increased in %1 points",_pointsX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",theBoss];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Recruit Squad", "Only the Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (markerAlpha respawnTeamPlayer == 0) exitWith {["Recruit Squad", "You cannot recruit a new squad while you are moving your HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Recruit Squad", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Recruit Squad", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Recruit Squad", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Recruit Squad", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if (((side _x == Invaders) or (side _x == Occupants)) and (_x distance petros < 500) and ([_x] call <b>A3A_fnc_canFight</b>) and !(isPlayer _x)) exitWith {_enemyNear = true};<br>-----------------------------------------------------<br>if (_enemyNear) exitWith {["Recruit Squad", "You cannot recruit squads with enemies near your HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeGroup == "not_supported") then {_exit = true; ["Recruit Squad", "The group or vehicle type you requested is not supported in your modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (hasIFA and ((_typeGroup == SDKMortar) or (_typeGroup == SDKMGStatic)) and !debug) then {_exit = true; ["Recruit Squad", "The group or vehicle type you requested is not supported in your modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeGroup == staticATteamPlayer) then {["Recruit Squad", "AT Trucks are disabled in RHS - GREF"] call <b>A3A_fnc_customHint</b>; _exit = true};<br>-----------------------------------------------------<br>if (_withBackpck == "MG") then {_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>if (_withBackpck == "Mortar") then {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_costs = _costs + (2*(server getVariable staticCrewTeamPlayer)) + ([_typeGroup] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>)<br>-----------------------------------------------------<br>if ((_withBackpck != "") and hasIFA) exitWith {["Recruit Squad", "Your current modset doesn't support packing/unpacking static weapons"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_hr < _costHR) then {_exit = true; ["Recruit Squad", format ["You do not have enough HR for this request (%1 required)",_costHR]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_resourcesFIA < _costs) then {_exit = true; ["Recruit Squad", format ["You do not have enough money for this request (%1 â‚¬ required)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[- _costHR, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_road = [_pos] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_roadDirection = _road call <b>A3A_fnc_getRoadDirection</b>;<br>-----------------------------------------------------<br>_groupX = [_pos, teamPlayer, _formatX,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_groupX = [_pos, teamPlayer, _formatX,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>private _driver = [_groupX, staticCrewTeamPlayer, _pos, [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>private _gunner = [_groupX, staticCrewTeamPlayer, _pos, [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>//			[_launcher] call <b>A3A_fnc_AIVEHinit</b>;			// don't need separate despawn/killed handlers<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_FIAinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>["Recruit Squad", format ["Group %1 at your command.<br/><br/>Groups are managed from the High Command bar (Default: CTRL+SPACE)<br/><br/>If the group gets stuck, use the AI Control feature to make them start moving. Mounted Static teams tend to get stuck (solving this is WiP)<br/><br/>To assign a vehicle for this group, look at some vehicle, and use Vehicle Squad Mngmt option in Y menu", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if !(_bypassAI) then {_groupX spawn <b>A3A_fnc_attackDrillAI</b>};<br>-----------------------------------------------------<br>_costs = [_typeVehX] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>[_purchasedVehicle, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[0, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Recruit Squad", "Vehicle Purchased"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Add Vehicle", "Unable to buy vehicle, you are already placing something"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["Add Vehicle", "You cannot buy vehicles while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Add Vehicle", "You cannot buy vehicles with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["Add Vehicle", "You cannot buy vehicles with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeVehX == "not_supported") exitWith {["Add Vehicle", "The vehicle you requested is not supported in your current modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>vehiclePurchase_cost = [_typeVehX] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < vehiclePurchase_cost) exitWith {["Add Vehicle", format ["You do not have enough money for this vehicle: %1 â‚¬ required",vehiclePurchase_cost]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(player inArea vehiclePurchase_nearestMarker) exitWith {["Add Vehicle", "You need to be close to the flag to be able to purchase a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_typeVehX, "BUYFIA", _extraMessage] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>if (count hcSelected player != 1) exitWith {["Add Squad Vehicle", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((groupID _groupX == "Watch") or (groupID _groupX == "MineF")) exitwith {["Add Squad Vehicle", "This group has a vehicle already and their mission depends on it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((!alive _veh) or (!canMove _veh)) exitWith {["Add Squad Vehicle", "The selected vehicle is destroyed or cannot move"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({(alive _x) and (_x in _veh)} count allUnits > 0) exitWith {["Add Squad Vehicle", "Selected vehicle is not empty"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "StaticWeapon") exitWith {["Add Squad Vehicle", "You cannot assign a Static Weapon to a Squad"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_esStatic) exitWith {["Add Squad Vehicle", "Static Weapon Squads cannot change of vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({alive _x} count units _groupX > _maxCargo) exitWith {["Add Squad Vehicle", "The vehicle selected has no room for this squad"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Add Squad Vehicle", format ["Vehicle Assigned to %1 Squad", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_groupX = [_originX, teamPlayer, _formatX,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Build Info", "You can't build while placing something."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",objNull]) exitWith {["Build Info", "You cannot construct anything while controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player] call <b>A3A_fnc_canFight</b> && !([player] call _engineerIsBusy)) then {<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b> && !([_x] call _engineerIsBusy)) exitWith {<br>-----------------------------------------------------<br>["Build Info", _abortMessage] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_leave) exitWith {["Build Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>build_handleDamageHandler = player addEventHandler ["HandleDamage",{[] call <b>A3A_fnc_vehPlacementCancel</b>;nil;}];<br>-----------------------------------------------------<br>[_classX, "BUILDSTRUCTURE", ""] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>["Build Info", "Walk to the selected position to start building"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Build Info", "You didn't move to the position, construction has timed out."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_nul = [0, - build_cost] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-build_cost] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>if (([_engineer] call <b>A3A_fnc_canFight</b>) and !(_engineer getVariable ["helping",false]) and !(_engineer getVariable ["rearming",false]) and (_engineer getVariable ["constructing",false])) then<br>-----------------------------------------------------<br>waitUntil  {sleep 5; !([build_engineerSelected] call <b>A3A_fnc_canFight</b>) or (build_engineerSelected getVariable ["helping",false]) or (build_engineerSelected getVariable ["rearming",false]) or (build_engineerSelected distance _positionX > 4) or (time > _timeOut)};<br>-----------------------------------------------------<br>if (time <= _timeOut) exitWith {["Build Info", "Construction cancelled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((not([distanceSPWN,1,_veh,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) and (_veh distance getMarkerPos respawnTeamPlayer > 100)) then<br>-----------------------------------------------------<br>_costs = (2*(server getVariable (SDKExp select 0))) + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[-2,(-1*_costs)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), (getMarkerPos respawnTeamPlayer), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), (getMarkerPos respawnTeamPlayer), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinit</b>; [_x] orderGetIn true} forEach units _groupX;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[petros,"hint","Engineer Team deploying mines.", "Minefields"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"SUCCEEDED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[2,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"FAILED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"FAILED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{if (_x distance _unit < _dist) exitWith {_return = true}} forEach (allUnits select {((side group _x == Occupants) or (side group _x == Invaders)) and ([_x] call <b>A3A_fnc_canFight</b>)});<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedMachineGuns] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedGrenadeLaunchers] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedSMGs] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedSMGs] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[1, format["Unknown unit class: %1", _unitClass], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format["Class %1, type %2, loadout %3", _unitClass, _recruitType, str (getUnitLoadout _unit)], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_initRevive</b>;<br>-----------------------------------------------------<br>[_unit, [0,1] select (leader _unit != player)] call <b>A3A_fnc_equipRebel</b>;<br>-----------------------------------------------------<br>[_victim] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>if (captive player) then {[_unit] spawn <b>A3A_fnc_undercoverAI</b>};<br>-----------------------------------------------------<br>if (([player] call <b>A3A_fnc_hasRadio</b>) && (_unit call A3A_fnc_getRadio != "")) exitWith {_unit groupChat format ["This is %1, radiocheck OK",name _unit]};<br>-----------------------------------------------------<br>if (([player] call A3A_fnc_hasRadio) && (_unit call <b>A3A_fnc_getRadio</b> != "")) exitWith {_unit groupChat format ["This is %1, radiocheck OK",name _unit]};<br>-----------------------------------------------------<br>["", format ["%1 lost communication, he will come back with you if possible", name _unit]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Skill Add", "Only our Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (skillFIA > 20) exitWith {["Skill Add", "Your troops have the maximum training"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (skillFIA > (tierWar*2)) exitWith {["Skill Add", "You cannot upgrade training in the current War Level"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_resourcesFIA < _costs) exitWith {["Skill Add", format ["You do not have enough money to afford additional training. %1 â‚¬ needed",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Skill Add", format ["%2 Skill Level has been Upgraded<br/>Current level is %1",skillFIA,nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_hr < 1) exitWith {["Garrisons", "You lack of HR to make a new recruitment"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (_costs > _resourcesFIA) exitWith {["Garrisons", format ["You do not have enough money for this kind of unit (%1 â‚¬ needed)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == staticCrewTeamPlayer) and (_markerX in outpostsFIA)) exitWith {["Garrisons", "You cannot add mortars to a Roadblock garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (surfaceIsWater _positionX) exitWith {["Garrisons", "This Garrison is still updating, please try again in a few seconds"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_positionX,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garrisons", "You cannot Recruit Garrison Units with enemies near the zone"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([_positionX,500] call A3A_fnc_enemyNearCheck) exitWith {["Garrisons", "You cannot Recruit Garrison Units with enemies near the zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_nul = [-1,-_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[_markerX] call <b>A3A_fnc_mrkUpdate</b>;*/<br>-----------------------------------------------------<br>[_typeX,teamPlayer,_markerX,1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>["Garrisons", format ["Soldier recruited.%1",[_markerX] call <b>A3A_fnc_garrisonInfo</b>]] call A3A_fnc_customHint;<br>-----------------------------------------------------<br>["Garrisons", format ["Soldier recruited.%1",[_markerX] call A3A_fnc_garrisonInfo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_typeX == "add") then {["Garrison", "Select a zone to add garrisoned troops"] call <b>A3A_fnc_customHint</b>;} else {["Garrison", "Select a zone to remove it's Garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (getMarkerPos _nearX distance _positionTel > 40) exitWith {["Garrison", "You must click near a marked zone"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Garrison", format ["That zone does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if ([_positionX,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garrison", "You cannot manage this garrison while there are enemies nearby"] call A3A_fnc_customHint; _nul=CreateDialog "build_menu"};<br>-----------------------------------------------------<br>if ([_positionX,500] call A3A_fnc_enemyNearCheck) exitWith {["Garrison", "You cannot manage this garrison while there are enemies nearby"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu"};<br>-----------------------------------------------------<br>if ((count _garrison == 0) and !(_nearX in outpostsFIA)) exitWith {["Garrison", "The place has no garrisoned troops to remove"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if (_x == staticCrewTeamPlayer) then {if (_outpostFIA) then {_costs = _costs + ([vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>)} else {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)}};<br>-----------------------------------------------------<br>[_hr,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Garrison removed<br/><br/>Recovered Money: %1 â‚¬<br/>Recovered HR: %2",_costs,_hr]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Info%1",[_nearX] call <b>A3A_fnc_garrisonInfo</b>]] call A3A_fnc_customHint;<br>-----------------------------------------------------<br>["Garrison", format ["Info%1",[_nearX] call A3A_fnc_garrisonInfo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",(server getVariable staticCrewTeamPlayer) + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)];<br>-----------------------------------------------------<br>if (bombRuns < 1) exitWith {["Air Support", "You lack of enough Air Support to make this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Air Support", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Air Support", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Air Support", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Air Support", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if ({sidesX getVariable [_x,sideUnknown] == teamPlayer} count airportsX == 0) exitWith {["Air Support", "You need to control an airport in order to fulfill this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Air Support", "Select the spot from which the plane will start to drop the bombs"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Air Support", "Select the map position to which the plane will exit to calculate plane's route vector"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>_wp1 setWaypointStatements ["true", format ["if !(local this) exitWith {}; [this, '%1'] spawn <b>A3A_fnc_airbomb</b>", _typeX]];<br>-----------------------------------------------------<br>if (sidesX getVariable [_markerX,sideUnknown] != _sideX) exitWith {["Transportation", format ["You need to be close to a zone belonging to %1 in order to request a vehicle",_nameX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((!(_markerX in airportsX)) and (!(_markerX in seaports)) and (!(_markerX in outposts))) exitWith {["Transportation", "You need to be close to an Airbase, Seaport or Outpost of your side in order to request a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(player inArea _markerX)) exitWith {["Transportation", "You need to be close to an Airbase, Seaport or Outpost in order to request a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Transportation", "Vehicle available"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[lastVehicleSpawned, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[3,"PostMortem Called",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isnull _victim)exitwith{[1,"Function failed called with null param.",_filename] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[3,format["Group for victim :: %1, no group found! Removing from Statics list.",_victim],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,cleanSTR, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup complete for %1 victim.", _victim],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup complete for %1 group.", _group],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) exitWith {["AI Recruitment", "Only Server Members can recruit AI units"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if !([player] call A3A_fnc_isMember) exitWith {["AI Recruitment", "Only Server Members can recruit AI units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (recruitCooldown > time) exitWith {["AI Recruitment", format ["You need to wait %1 seconds to be able to recruit units again",round (recruitCooldown - time)]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["AI Recruitment", "You cannot buy units while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["AI Recruitment", "You cannot Recruit Units with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["AI Recruitment", "You cannot Recruit Units with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["AI Recruitment", "You cannot recruit units as you are not your group leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_hr < 1) exitWith {["AI Recruitment", "You do not have enough HR for this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_costs > _resourcesFIA) exitWith {["AI Recruitment", format ["You do not have enough money for this kind of unit (%1 â‚¬ needed)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((count units group player) + (count units stragglers) > 9) exitWith {["AI Recruitment", "Your squad is full or you have too many scattered units with no radio contact"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _unit = [group player, _typeUnit, position player, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [-1, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [-1, 0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[- _costs] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["AI Recruitment", "Soldier Recruited.<br/><br/>Remember: if you use the group menu to switch groups you will lose control of your recruited AI"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_FIAinit</b>;<br>-----------------------------------------------------<br>if (!alive _staticX) exitWith {["Steal Static", "You cannot steal a destroyed static weapon"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (alive gunner _staticX) exitWith {["Steal Static", "You cannot steal a static weapon when someone is using it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((alive assignedGunner _staticX) and (!isPlayer (assignedGunner _staticX))) exitWith {["Steal Static", "The gunner of this static weapon is still alive"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (activeGREF and ((typeOf _staticX == staticATteamPlayer) or (typeOf _staticX == staticAAteamPlayer))) exitWith {["Steal Static", "This weapon cannot be dissassembled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Steal Static", "You have to conquer this zone in order to be able to steal this Static Weapon"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_groundWeaponHolder] call <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>["Steal Static", "Weapon Stolen. It won't despawn when you assemble it again"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (count hcSelected player == 0) exitWith {["Vehicle Info", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_textX != "") then {["Vehicle Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_textX = format ["%1 Status<br/><br/>Alive members: %2<br/>Able to combat: %3<br/>Current task: %4<br/>Combat Mode:%5<br/>",groupID _groupX,{alive _x} count _unitsX,{[_x] call <b>A3A_fnc_canFight</b>} count _unitsX,_groupX getVariable ["taskX","Patrol"],behaviour (leader _groupX)];<br>-----------------------------------------------------<br>if ({[_x] call <b>A3A_fnc_isMedic</b>} count _unitsX > 0) then {_textX = format ["%1Operative Medic<br/>",_textX]} else {_textX = format ["%1No operative Medic<br/>",_textX]};<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "ATMan"} count _unitsX > 0) then {_textX = format ["%1With AT capabilities<br/>",_textX]};<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan"} count _unitsX > 0) then {_textX = format ["%1With AA capabilities<br/>",_textX]};<br>-----------------------------------------------------<br>if (!(isNull(_groupX getVariable ["mortarsX",objNull])) or ({_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticMortar"} count _unitsX > 0)) then<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticGunner"} count _unitsX > 0) then<br>-----------------------------------------------------<br>["Vehicle Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is already dead",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !([_medicX] call <b>A3A_fnc_canFight</b>) exitWith {if (_player) then {["Revive", "You are not able to revive anyone"] call A3A_fnc_customHint;};_healed};<br>-----------------------------------------------------<br>if !([_medicX] call A3A_fnc_canFight) exitWith {if (_player) then {["Revive", "You are not able to revive anyone"] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>(!([_medicX] call <b>A3A_fnc_isMedic</b> && "Medikit" in (items _medicX))) &&<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["You or %1 need a First Aid Kit or Medikit to be able to revive",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 has a First Aid Kit but you do not have enough space in your inventory to use it",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((([_cured] call <b>A3A_fnc_fatalWound</b>)) and !([_medicX] call A3A_fnc_isMedic)) exitWith<br>-----------------------------------------------------<br>if ((([_cured] call A3A_fnc_fatalWound)) and !([_medicX] call <b>A3A_fnc_isMedic</b>)) exitWith<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is injured by a fatal wound, only a medic can revive him",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is being carried or transported and you cannot heal him",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 no longer needs your help",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (surfaceIsWater (position _cured)) exitWith {if (_player) then {["Revive", format ["You cannot heal %1 in the water",name _cured]] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>_timer = if ([_cured] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>if ((!isMultiplayer and (isPlayer _cured)) or ([_medicX] call <b>A3A_fnc_isMedic</b>)) then<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and (time <= (_medicX getVariable ["timeToHeal",time])) and !(_medicX getVariable ["cancelRevive",false]) and (alive _cured) and (_cured getVariable ["incapacitated",false]) and (_medicX == vehicle _medicX)) then<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and !(_medicX getVariable ["cancelRevive",false]) and (_medicX == vehicle _medicX) and (alive _cured)) then<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_isMedic</b>) then {_cured setDamage 0.25} else {_cured setDamage 0.5};<br>-----------------------------------------------------<br>["Revive", "Revive cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["We lost %1",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (_medicX != vehicle _medicX) or (_medicX distance _cured > 3)) exitWith {if (_player) then {["Revive", "Revive cancelled"] call A3A_fnc_customHint;};_healed};<br>-----------------------------------------------------<br>if (!([_medicX] call A3A_fnc_canFight) or (_medicX != vehicle _medicX) or (_medicX distance _cured > 3)) exitWith {if (_player) then {["Revive", "Revive cancelled"] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>if (_player) then {["Revive", "Revive unsuccesful"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _carryX) exitWith {["Carry/Drag", format ["%1 is dead",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(_carryX getVariable ["incapacitated",false]) exitWith {["Carry/Drag", format ["%1 no longer needs your help",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(isNull attachedTo _carryX) exitWith {["Carry/Drag", format ["%1 is being carried or transported and you cannot carry him",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_carryX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_carryX];<br>-----------------------------------------------------<br>waitUntil {sleep 0.5; (!alive _carryX) or !([_carrierX] call <b>A3A_fnc_canFight</b>) or !(_carryX getVariable ["incapacitated",false]) or ({!isNull _x} count attachedObjects _carrierX == 0) or (time > _timeOut) or (vehicle _carrierX != _carrierX)};<br>-----------------------------------------------------<br>[_carryX,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_carryX];<br>-----------------------------------------------------<br>//if (_damage > 0.6) then {[_unit,_unit,_injurer] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (_damage > 0.6) then {[_unit,_injurer] spawn <b>A3A_fnc_unitGetToCover</b>};<br>-----------------------------------------------------<br>[_marker, side group _injurer, side group _unit] remoteExec ["<b>A3A_fnc_underAttack</b>", 2];<br>-----------------------------------------------------<br>[_unit,_fromside] spawn <b>A3A_fnc_unconscious</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>{[_x,_injurer] call <b>A3A_fnc_unitGetToCover</b>} forEach units _groupX;<br>-----------------------------------------------------<br>if (_damage > 0.6) then {[_unit,_injurer] spawn <b>A3A_fnc_unitGetToCover</b>};<br>-----------------------------------------------------<br>[_marker, teamPlayer, side group _unit] remoteExec ["<b>A3A_fnc_underAttack</b>", 2];<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>[_unit,_injurer] spawn <b>A3A_fnc_unconsciousAAF</b>;<br>-----------------------------------------------------<br>[_unit] remoteExecCall ["<b>A3A_fnc_punishment_FF_addEH</b>",_unit,false];<br>-----------------------------------------------------<br>_unit addEventHandler ["HandleDamage", <b>A3A_fnc_handleDamage</b>];<br>-----------------------------------------------------<br>_nul = [0,-1,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[- _hr, - _resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[player] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>[_unit,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>//[_unit,"carry"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>//[_unit,"carry"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>_helpX = [_unit] call <b>A3A_fnc_askHelp</b>;<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>if (isMultiplayer) then {[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit]};<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_group,_injurer] spawn <b>A3A_fnc_AIreactOnKill</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_askHelp</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_this, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>", [teamPlayer,civilian], _this];<br>-----------------------------------------------------<br>[1,_injurer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[-1,1,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>private _runways = call <b>A3A_fnc_runwayInfo</b>;<br>-----------------------------------------------------<br>if (isRemoteExecutedJIP) then {[3, format ["Salvage Rope Action added on JIP client: %1", player], _filename, true] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>_varValue = [_varName] call <b>A3A_fnc_returnSavedStat</b>;<br>-----------------------------------------------------<br>[_varName,_varValue] call <b>A3A_fnc_loadStat</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([_playerId] call <b>A3A_fnc_playerHasSave</b>) exitWith {<br>-----------------------------------------------------<br>[2, format ["No save found for player ID %1", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerId, _unit] call <b>A3A_fnc_resetPlayer</b>;<br>-----------------------------------------------------<br>[2, format ["Loading player data for ID %1 into unit %2", _playerId, _unit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _loadout = [_playerId, "loadoutPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_isMember</b>) then<br>-----------------------------------------------------<br>private _saveScore = [_playerId, "scorePlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _saveRank = [_playerId, "rankPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _money = [_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _garage = [_playerId, "personalGarage"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[_unit, _garage] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", _unit];<br>-----------------------------------------------------<br>[2, format ["Player %1: Score %2, rank %3, money %4, garage count %5", _playerId, _score, _rank, _money, count _garage], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["savedPlayers"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["outpostsFIA"] call <b>A3A_fnc_getStatVariable</b>; publicVariable "outpostsFIA";<br>-----------------------------------------------------<br>["mrkSDK"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["mrkCSAT"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["difficultyX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["gameMode"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedSites"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["minesX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownOccupants"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownInvaders"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["countCA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["antennas"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["hr"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["dateX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["weather"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeOPFOR"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeBLUFOR"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["resourcesFIA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["garrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["usesWurzelGarrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["skillFIA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["distanceSPWN"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["civPerc"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["maxUnits"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["membersX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["vehInGarage"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedBuildings"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["idlebases"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["idleassets"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["killZones"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["controlsSDK"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["bombRuns"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["jna_dataList"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[_x, true] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_checkRadiosUnlocked</b>;<br>-----------------------------------------------------<br>["aggressionOccupants"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionInvaders"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>["chopForest"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["posHQ"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["nextTick"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["staticsX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>{_x setPos getMarkerPos respawnTeamPlayer} forEach ((call <b>A3A_fnc_playableUnits</b>) select {side _x == teamPlayer});<br>-----------------------------------------------------<br>//	[] call <b>A3A_fnc_updatePreference</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[airportsX, "Airport", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[resourcesX, "Other", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[factories, "Other", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[outposts, "Outpost", [1,1,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[seaports, "Other", [1,0,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>["wurzelGarrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["tasks"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>if (_varName == 'prestigeNATO') then {[[_varValue, 120], [0, 0]] call <b>A3A_fnc_prestige</b>};<br>-----------------------------------------------------<br>if (_varName == 'prestigeCSAT') then {[[0, 0], [_varValue, 120]] call <b>A3A_fnc_prestige</b>};<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>[(_x select 0)] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,false] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_buildHQ</b>;<br>-----------------------------------------------------<br>{_x setPos _posHQ} forEach ((call <b>A3A_fnc_playableUnits</b>) select {side _x == teamPlayer});<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_attackHQ</b>;<br>-----------------------------------------------------<br>[_x,true] call <b>A3A_fnc_missionRequest</b>;<br>-----------------------------------------------------<br>[_playerId] remoteExec ["<b>A3A_fnc_playerHasSave</b>", 2];<br>-----------------------------------------------------<br>private _money = [_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Resetting player data for ID %1, unit %2", _playerId, _unit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([_playerId] call <b>A3A_fnc_playerHasSave</b>) then {<br>-----------------------------------------------------<br>_money = _money min ([_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>);<br>-----------------------------------------------------<br>[_unit, []] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", _unit];<br>-----------------------------------------------------<br>[_playerVarName] call <b>A3A_fnc_returnSavedStat</b>;<br>-----------------------------------------------------<br>_varSaveName = [_varName] call <b>A3A_fnc_varNameToSaveName</b>;<br>-----------------------------------------------------<br>_spanishVarName = [_varName] call <b>A3A_fnc_translateVariable</b>;<br>-----------------------------------------------------<br>diag_log format ["%1: [Antistasi] | ERROR | <b>A3A_fnc_returnSavedStat</b> | Variable %2 does not exist.",servertime, _varName];<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (savingServer) exitWith {["Save Game", "Server data save is still in progress"] remoteExecCall ["<b>A3A_fnc_customHint</b>",theBoss]};<br>-----------------------------------------------------<br>[2, "Starting persistent save", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[getPlayerUID _x, _x, true] call <b>A3A_fnc_savePlayer</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>["attackCountdownOccupants", attackCountdownOccupants] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownInvaders", attackCountdownInvaders] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["gameMode", gameMode] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["difficultyX", skillMult] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["bombRuns", bombRuns] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["smallCAmrk", smallCAmrk] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["membersX", membersX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["antennas", _antennasDeadPositions] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>//["mrkNATO", (markersX - controlsX) select {sidesX getVariable [_x,sideUnknown] == Occupants}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["mrkSDK", (markersX - controlsX - outpostsFIA) select {sidesX getVariable [_x,sideUnknown] == teamPlayer}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["mrkCSAT", (markersX - controlsX) select {sidesX getVariable [_x,sideUnknown] == Invaders}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["posHQ", [getMarkerPos respawnTeamPlayer,getPos fireX,[getDir boxX,getPos boxX],[getDir mapX,getPos mapX],getPos flagX,[getDir vehicleBox,getPos vehicleBox]]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["dateX", date] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["skillFIA", skillFIA] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedSites", destroyedSites] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["distanceSPWN", distanceSPWN] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["civPerc", civPerc] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["chopForest", chopForest] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["maxUnits", maxUnits] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["nextTick", nextTick - time] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["weather",[fogParams,rain]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedBuildings",_destroyedPositions] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionOccupants", [aggressionLevelOccupants, aggressionStackOccupants]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionInvaders", [aggressionLevelInvaders, aggressionStackInvaders]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>case MortStaticSDKB: {_resourcesBackground = _resourcesBackground + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case AAStaticSDKB: {_resourcesBackground = _resourcesBackground + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case MGStaticSDKB: {_resourcesBackground = _resourcesBackground + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case ATStaticSDKB: {_resourcesBackground = _resourcesBackground + ([staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_resourcesBackground = _resourcesBackground + ([_typeVehX] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (count attachedObjects _veh != 0) then {{_resourcesBackground = _resourcesBackground + ([typeOf _x] call <b>A3A_fnc_vehiclePrice</b>)} forEach attachedObjects _veh};<br>-----------------------------------------------------<br>["resourcesFIA", _resourcesBackground] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["hr", _hrBackground] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["vehInGarage", _vehInGarage] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["staticsX", _arrayEst] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>["jna_dataList", _jna_dataList] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeOPFOR", _prestigeOPFOR] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeBLUFOR", _prestigeBLUFOR] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["garrison",_garrison] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["wurzelGarrison", _wurzelGarrison] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["usesWurzelGarrison", true] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["minesX", _arrayMines] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["outpostsFIA", _arrayOutpostsFIA] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["tasks",_typesX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["idlebases",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["idleassets",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["killZones",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["controlsSDK",_controlsX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[petros,"hint",_saveHintText, "Save"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Persistent Save Completed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player of unit %1 due to missing UID", _playerUnit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player %1 due to missing unit", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player %1 due to missing variables. What happened here?", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Not saving player %1 due to them being on the wrong team.", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Not saving player %1 due to canSave being false.", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Saving player %1 on side %2", _playerId, side group _playerUnit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["savedPlayers", savedPlayers] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[2, format ["Stripping saved loadout of player %1 due to saving while dead or unconcious", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", (getUnitLoadout _playerUnit) call <b>A3A_fnc_stripGearFromLoadout</b>] call A3A_fnc_savePlayerStat;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", (getUnitLoadout _playerUnit) call A3A_fnc_stripGearFromLoadout] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", getUnitLoadout _playerUnit] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>private _garage = [_playerUnit] call <b>A3A_fnc_getPersonalGarage</b>;<br>-----------------------------------------------------<br>[_playerId, "scorePlayer", _playerUnit getVariable "score"] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "rankPlayer", rank _playerUnit] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "personalGarage", [_playerUnit] call <b>A3A_fnc_getPersonalGarage</b>] call A3A_fnc_savePlayerStat;<br>-----------------------------------------------------<br>[_playerId, "personalGarage", [_playerUnit] call A3A_fnc_getPersonalGarage] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>private _vehPrice = [typeof _veh] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>[_playerId, "moneyX", _totalMoney] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[2, format ["Saved player %1: %2 rank, %3 money, %4 vehicles", _playerId, rank _playerUnit, _totalMoney, count _garage], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerVarName, _varValue] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>_varSaveName = [_varName] call <b>A3A_fnc_varNameToSaveName</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while you are controlling AI"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You are Undercover already"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You are not in a civilian vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "This vehicle has been reported to the enemy. Change or renew your vehicle in the Garage to go Undercover"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have been reported in the last 30 minutes therefore you cannot go Undercover"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while enemies are spotting you"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover near Airports, Outposts or Roadblocks"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>//_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Undercover", "You have been reported or spotted by the enemy"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You entered a non civilian vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You entered in a reported vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "Explosives have been spotted on your vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You went too far away from any roads and have been spotted"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while showing:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform<br/><br/>The enemy added you to their Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while healing a compromised resistance member"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while healing a compromised resistance member<br/><br/>The enemy added you to their Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You left your vehicle and you are still on the Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have gotten too close to an enemy Base, Outpost or Roadblock"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have gotten too close to an enemy Airbase no-fly zone"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "The Installation Garrison has recognised you"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>copyToClipboard str (call <b>A3A_fnc_generateRoadsDB</b>)<br>-----------------------------------------------------<br>[1, "Message", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Game Options", format ["Arma 3 - Antistasi<br/><br/>Version: %1",antistasiVersion]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", format ["Arma 3 - Antistasi<br/><br/>Version: %1",antistasiVersion]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>['Game Options', str (_this select 1)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", str _count] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", str _count] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _hasRadio =	player call <b>A3A_fnc_getRadio</b> != "";<br>-----------------------------------------------------<br>waitUntil {sleep 1; player call <b>A3A_fnc_getRadio</b> != "" && call TFAR_fnc_haveSWRadio};<br>-----------------------------------------------------<br>_backpack set [0,((_backpack select 0) call <b>A3A_fnc_basicBackpack</b>)];<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_item !="") AND !([player] call <b>A3A_fnc_isMember</b>) AND !_type) exitWith{<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_amount !=0) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if((_numberOfMags <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) exitWith{<br>-----------------------------------------------------<br>if([player] call <b>A3A_fnc_isMedic</b>)then{<br>-----------------------------------------------------<br>_item = _x call <b>A3A_fnc_basicBackpack</b>;<br>-----------------------------------------------------<br>_thing addAction ["Action", <b>JN_fnc_arsenal_handleAction</b>];<br>-----------------------------------------------------<br>[2,"JNA init started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"JNA server detected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"JNA loading player data",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br><b>JN_fnc_arsenal_handleAction</b>,<br>-----------------------------------------------------<br>[2,"JNA init completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_isMember = [player] call <b>A3A_fnc_isMember</b>;<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_amount !=0) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if((_amount <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) exitWith{<br>-----------------------------------------------------<br>if!(_message isEqualTo "")exitWith {["Garage", _message] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Garage", (_name + " stored in garage")] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_object] spawn <b>A3A_fnc_VEHdespawner</b>;<br>-----------------------------------------------------<br>[] call <b>JN_fnc_logistics_init</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Bring vehicle closer"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (([_cargo] call <b>A3A_fnc_canFight</b>) or !(isNull (_cargo getVariable ["helped",objNull])) or !(isNull attachedTo _cargo)) then<br>-----------------------------------------------------<br>["Cargo Load", format ["%1 is being helped or no longer needs your help",name _cargo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Cannot load cargo: passengers have occupied cargo space!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "This vehicle can not carry this cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "There is no space for this cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Can not load this type of cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Starting setup, please stand by!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Found %1 marker as start points!", count _roadMarker]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Setup completed, starting script now!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Something went wrong, result is empty, please tell Wurzel that case happened!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Junction data<br/>Exits: %1<br/>Links: %2<br/>Time: %3", count _exitPoints, count _linkPoints, _debug], true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Open segments: %1<br/> Inner Loop: %2<br/> Outer Loop: %3<br/>", str (count openSearchSegments), _innerLoop, _outerLoop], true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Roads finished, writing data array now and deleting marker!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", (str _conNav)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Data prepared, setting up finished nav grid"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Roads Lib", "Error while loading the roadslib!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Roads Lib", _debugString] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["FileHigh: %1<br/>FileLow: %2", _highestFileIndex, _lowestFileIndex]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["StreetHigh: %1<br/>StreetLow: %2", _highestStreetIndex, _lowestStreetIndex]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["High Offset: %1<br/>Low Offset: %2<br/>Equal: %3", _difHighest, _difLowest, str (_difHighest == _difLowest)]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>while {!([player] call <b>A3A_fnc_isMember</b>)} do<br>-----------------------------------------------------<br>_playerMembers = (call <b>A3A_fnc_playableUnits</b>) select {([_x] call A3A_fnc_isMember) and (side group _x == teamPlayer)};<br>-----------------------------------------------------<br>_playerMembers = (call A3A_fnc_playableUnits) select {([_x] call <b>A3A_fnc_isMember</b>) and (side group _x == teamPlayer)};<br>-----------------------------------------------------<br>["Member Distance", "You have to get closer to the HQ or the closest server member in %1 seconds. <br/><br/> After this timeout you will be teleported to your HQ"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_possibleVehicle] call <b>A3A_fnc_teleportVehicleToBase</b>;<br>-----------------------------------------------------<br>["Unit Traits", format ["You have selected %1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", "Select the zone on which sending the selected troops as garrison"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if !(_positionTel inArea _nearX) exitWith {["Garrison", "You must click near a marked zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Garrison", format ["That zone does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_nearX in outpostsFIA) and !(isOnRoad getMarkerPos _nearX)) exitWith {["Garrison", "You cannot manage garrisons on this kind of zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if _alreadyInGarrison exitWith {["Garrison", "The units selected already are in a garrison"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Garrison", "Static crewman, prisoners, refugees or dead units cannot be added to any garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((groupID _groupX == "MineF") or (groupID _groupX == "Watch") or (isPlayer(leader _groupX))) exitWith {["Garrison", "You cannot garrison player led, Watchpost, Roadblocks or Minefield building squads"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Garrison", "Adding units to garrison"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Adding %1 squad to garrison", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[_unitsX,teamPlayer,_nearX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[typeOf _victim,teamPlayer,_markerX,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (side _killer == Invaders) then {[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]};<br>-----------------------------------------------------<br>["Garrison", format ["Group %1 is back to HC control because the zone which was pointed to garrison has been lost",groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Control Squad", "Only Commander has the ability to control HC units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (_punishmentoffenceTotal >= 1) exitWith {["Control Squad", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {["Control Squad", "You cannot control an unconscious or dead unit"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if !([_unit] call A3A_fnc_canFight) exitWith {["Control Squad", "You cannot control an unconscious or dead unit"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Control Squad", "Returned to original Unit as it received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Control Squad", "Returned to original Unit as controlled AI received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;["Control Squad", format ["Time to return control to AI: %1", _timeX]] call <b>A3A_fnc_customHint</b>; _timeX = _timeX - 1; (_timeX < 0) or (isPlayer theBoss)};<br>-----------------------------------------------------<br>["Control Squad", ""] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_unit == Petros) exitWith {["Control Unit", "You cannot control Petros"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["Control Unit", "You cannot control AI if you are not the squad leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isPlayer _unit) exitWith {["Control Unit", "You cannot control another player"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!(alive _unit) or (_unit getVariable ["incapacitated",false]))  exitWith {["Control Unit", "You cannot control an unconscious, a dead unit"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (side _unit != teamPlayer) exitWith {["Control Unit", format ["You cannot control a unit which does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (_punishmentoffenceTotal >= 1) exitWith {["Control Unit", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_owner!=player) exitWith {["Control Unit", "You cannot control AI while you are controlling another AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit as it received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit as controlled AI received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1; ["Control Unit", format ["Time to return control to AI: %1", _timeX]] call <b>A3A_fnc_customHint</b>; _timeX = _timeX - 1; (_timeX == -1) or (isPlayer (leader group player))};<br>-----------------------------------------------------<br>["Control Unit", ""] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["Dismiss Group", "You cannot dismiss anyone if you are not the squad leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_units findIf {!([_x] call <b>A3A_fnc_canFight</b>)} != -1) exitWith {["Dismiss Group", "You cannot disband supressed, undercover or unconscious units"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (_units findIf {!([_x] call A3A_fnc_canFight)} != -1) exitWith {["Dismiss Group", "You cannot disband supressed, undercover or unconscious units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>if (!isMultiplayer) then {_nul = [_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];} else {_nul = [_hr,0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]; [_resourcesFIA] call A3A_fnc_resourcesPlayer};<br>-----------------------------------------------------<br>if (!isMultiplayer) then {_nul = [_hr,_resourcesFIA] remoteExec ["A3A_fnc_resourcesFIA",2];} else {_nul = [_hr,0] remoteExec ["A3A_fnc_resourcesFIA",2]; [_resourcesFIA] call <b>A3A_fnc_resourcesPlayer</b>};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Dismiss Squad", "You cannot dismiss player led, Watchpost, Roadblocks or Minefield building squads"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Dismiss Squad", "You cannot dismiss NATO groups"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>case MortStaticSDKB: {_resourcesFIA = _resourcesFIA + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case AAStaticSDKB: {_resourcesFIA = _resourcesFIA + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case MGStaticSDKB: {_resourcesFIA = _resourcesFIA + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case ATStaticSDKB: {_resourcesFIA = _resourcesFIA + ([staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_resourcesFIA = _resourcesFIA + ([(typeOf _veh)] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_resourcesFIA = _resourcesFIA + ([(typeOf _subVeh)] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_nul = [_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[2,"Loading advanced towing",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_cargo, side group _player, true] remoteExec ["<b>A3A_fnc_vehKilledOrCaptured</b>", 2];<br>-----------------------------------------------------<br>["Advanced Towing", _msg] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"Loaded advanced towing",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (side (leader _grp) != teamPlayer) then {[[_attackPos,(side(leader _grp)),"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (side (leader _grp) != teamPlayer) then {[[_attackPos,(side(leader _grp)),"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>["3CB_SOV_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_TeamLeader_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_Medic_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_MachineGunner_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_Marksman_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_AT1_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>player createDiaryRecord ["Features",[format [localize "STR_antistasi_journal_entry_header_Features_17"],format [localize "STR_antistasi_journal_entry_text_Features_17", breachingExplosivesAPC call <b>A3A_fnc_createBreachChargeText</b>, "<br></br><br></br>", breachingExplosivesTank call <b>A3A_fnc_createBreachChargeText</b>]]];<br>-----------------------------------------------------<br>[2,"Init SQF started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Singleplayer detected: Deleting units for other players.", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Init finished",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_this call <b>A3A_fnc_initClient</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initServer</b>;<br>-----------------------------------------------------<br>[2, "Opening Singleplayer Parameter Dialog", "initServer.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createDialog_setParams</b>;<br>-----------------------------------------------------<br>[2, "Proceeding to initServer", "initServer.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initServer</b>;<br>-----------------------------------------------------<br>_nul = [_oldUnit] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>if (_owner != _oldUnit) exitWith {["Remote AI", "Died while remote controlling AI"] call <b>A3A_fnc_customHint</b>; selectPlayer _owner; disableUserInput false; deleteVehicle _newUnit};<br>-----------------------------------------------------<br>_nul = [0,-1,getPos _oldUnit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>//if (!hasACEMedical) then {[_newUnit] call <b>A3A_fnc_initRevive</b>};<br>-----------------------------------------------------<br>[_newUnit, true] remoteExec ["<b>A3A_fnc_theBossTransfer</b>", 2];<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_punishment_FF_addEH</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;		// will flip/capture if already initialized<br>-----------------------------------------------------<br>if (_markersX findIf {_pos inArea _x} != -1) then {["Static Deployed", "Static weapon has been deployed for use in a nearby zone, and will be used by garrison militia if you leave it here the next time the zone spawns"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_bag1] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[_bag2] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_reinitY</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>if (hasACE) then {[] call <b>A3A_fnc_ACEpvpReDress</b>};<br>-----------------------------------------------------<br>[3, format ["Executing on: %1", clientOwner], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Invalid bomb type", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (typeOf _plane == vehSDKPlane) then {_countX = round (_countX / 2); [3, "Rebel Airstrike", _filename] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[3, format ["Dropping %1 bombs of type %2 at %3 (near %4)", _countX, _typeX, getPos _plane,text nearestLocation [getPos _plane, "NameCity"]], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_pos] remoteExec  ["<b>A3A_fnc_napalm</b>"];<br>-----------------------------------------------------<br>[3, format ["Bombs dropped: %1", _debugCounter], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[_veh] call <b>A3A_fnc_entriesLand</b>;<br>-----------------------------------------------------<br>_wp5 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>//[_veh] call <b>A3A_fnc_entriesLand</b>;<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>[getPosASL _enemy,side _x,"Normal",_super] remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];<br>-----------------------------------------------------<br>[getPosASL _enemy,side _x,_attackType,_super] remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];<br>-----------------------------------------------------<br>if (([primaryWeapon _x] call BIS_fnc_baseWeapon) in allMachineGuns) then {[_x,_enemy] call A3A_fnc_suppressingFire} else {[_x,_x,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (([primaryWeapon _x] call BIS_fnc_baseWeapon) in allMachineGuns) then {[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>} else {[_x,_x,_enemy] spawn A3A_fnc_chargeWithSmoke};<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>[_x,_x,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>[_x,_enemy] spawn <b>A3A_fnc_useFlares</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_useFlares</b>;<br>-----------------------------------------------------<br>if (random 1 < 0.5) then {if (count units _groupX > 0) then {_x allowFleeing (1 -(_x skill "courage") + (({!([_x] call <b>A3A_fnc_canFight</b>)} count units _groupX)/(count units _groupX)))}};<br>-----------------------------------------------------<br>// usage: Activate via radio trigger, on act: ["control", Occupants] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>private _runwayTakeoff = [_markerX] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>[_plane, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _planeCrew;<br>-----------------------------------------------------<br>_wp1 setWaypointStatements ["true", format ["if !(local this) exitWith {}; [this, '%1'] spawn <b>A3A_fnc_airbomb</b>", _typeX]];<br>-----------------------------------------------------<br>[_groupPlane] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _attackingSide] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_size = [_mrkDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_groupVeh] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>if (count hcSelected player == 0) exitWith {["Artillery Support", "You must select an artillery group"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_hasArtillery) exitWith {["Artillery Support", "You must select an artillery group or it is a Mobile Mortar and it's moving"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_areAlive) exitWith {["Artillery Support", "All elements in this Batery cannot fire or are disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_hasAmmunition < 2) and (!_areReady)) exitWith {["Artillery Support", "The Battery has no ammo to fire. Reload it on HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_areReady) exitWith {["Artillery Support", "Selected Battery is busy right now"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeAmmunition == "not_supported") exitWith {["Artillery Support", "Your current modset doesent support this strike type"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Artillery Support", "Select the position on map where to perform the Artillery strike"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (count _artyArrayDef1 == 0) exitWith {["Artillery Support", "The position you marked is out of bounds for that Battery"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Artillery Support", "Select the position to finish the barrage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[theBoss,"sideChat",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat",_textX]remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat","Splash. Out"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"sideChat","Splash. Out"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < 81) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if (((isNull _medicX) or (_unit getVariable ["incapacitated",false])) and !([_unit] call <b>A3A_fnc_fatalWound</b>)) then<br>-----------------------------------------------------<br>if !([_x] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX) and !(_x getVariable ["maneuvering",false])) then<br>-----------------------------------------------------<br>if (isNull(_unit getVariable ["helped",objNull])) then {[_unit,_medicX] spawn <b>A3A_fnc_help</b>};<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_canFight</b>) and ("FirstAidKit" in (items _x)) and (vehicle _x == _x) and (_x distance _unit < _distanceX)) then<br>-----------------------------------------------------<br>if (!([_unit] call <b>A3A_fnc_canFight</b>) or !([_nearX] call <b>A3A_fnc_canFight</b>)) exitWith {};<br>-----------------------------------------------------<br>_unit call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_objectivesX = _groupX call <b>A3A_fnc_enemyList</b>;<br>-----------------------------------------------------<br>_result = _x call <b>A3A_fnc_typeOfSoldier</b>;<br>-----------------------------------------------------<br>//_mortarsX spawn <b>A3A_fnc_mortarDrill</b>;<br>-----------------------------------------------------<br>_mortarsX spawn <b>A3A_fnc_staticMGDrill</b>;//no olvides borrar la otra funciÃ³n si esto funciona<br>-----------------------------------------------------<br>_mgs spawn <b>A3A_fnc_staticMGDrill</b>;<br>-----------------------------------------------------<br>_movable = _movable select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_baseOfFire = _baseOfFire select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_flankers = _flankers select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_objectivesX = _groupX call <b>A3A_fnc_enemyList</b>;<br>-----------------------------------------------------<br>_nearX = _groupX call <b>A3A_fnc_nearEnemy</b>;<br>-----------------------------------------------------<br>_soldiers = ((units _groupX) select {[_x] call <b>A3A_fnc_canFight</b>}) - [_groupX getVariable ["mortarX",objNull]];<br>-----------------------------------------------------<br>if (_allNearFriends findIf {(_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan") or (_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticGunner")} == -1) then<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Air",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>//_nuevataskX = ["Hide",_soldiers - (_soldiers select {(_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan") or (_x getVariable ["typeOfSoldier",""] == "StaticGunner")})];<br>-----------------------------------------------------<br>if (_allNearFriends findIf {_x call <b>A3A_fnc_typeOfSoldier</b> == "ATMan"} == -1) then<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _tanksX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _tanksX,4] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Tank",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>if (_sideX != teamPlayer) then {[getPosASL _LeaderX,_sideX,"Normal",false] remoteExec ["<b>A3A_fnc_patrolCA</b>",2]};<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>[_x,_nearX] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>if (([_LeaderX] call <b>A3A_fnc_canFight</b>) and ((typeOf _LeaderX) in squadLeaders)) then {[_LeaderX,_nearX] call A3A_fnc_useFlares}<br>-----------------------------------------------------<br>if (([_LeaderX] call A3A_fnc_canFight) and ((typeOf _LeaderX) in squadLeaders)) then {[_LeaderX,_nearX] call <b>A3A_fnc_useFlares</b>}<br>-----------------------------------------------------<br>[_x,_nearX] call <b>A3A_fnc_suppressingFire</b>;<br>-----------------------------------------------------<br>if (!(isNull _mortarX) and ([_mortarX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ({if (_x distance _nearX < 100) exitWith {1}} count _allNearFriends == 0) then {[_mortarX,getPosASL _nearX,1] spawn <b>A3A_fnc_mortarSupport</b>};<br>-----------------------------------------------------<br>[_x,_x,_nearX] spawn <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if ([getPosASL _nearX] call <b>A3A_fnc_isBuildingPosition</b>) then<br>-----------------------------------------------------<br>if ((_x call <b>A3A_fnc_typeOfSoldier</b> == "Engineer") and {_x != leader _x} and {!(_x getVariable ["maneuvering",true])} and {_x distance _nearX < 50}) exitWith {_engineerX = _x};<br>-----------------------------------------------------<br>[_engineerX,_nearX,_building] spawn <b>A3A_fnc_destroyBuilding</b>;<br>-----------------------------------------------------<br>[[_flankers,_nearX] call BIS_fnc_nearestPosition,_nearX,_building] spawn <b>A3A_fnc_assaultBuilding</b>;<br>-----------------------------------------------------<br>[_flankers,_nearX] spawn <b>A3A_fnc_doFlank</b>;<br>-----------------------------------------------------<br>_movable spawn <b>A3A_fnc_hideInBuilding</b>;<br>-----------------------------------------------------<br>if (_groupX getVariable ["taskX","Patrol"] == "Hide") then {_groupX call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_autoRearm</b>; sleep 1} forEach (_movable select {!(_x getVariable ["maneuvering",false])});<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["AI Auto Heal", "You must be leader of your group to enable Auto Heal"] call <b>A3A_fnc_customHint</b>; autoHeal = false};<br>-----------------------------------------------------<br>if ({alive _x} count _units == {isPlayer _x} count _units) exitWith {["AI Auto Heal", "Auto Heal requires at least one AI soldier in your group"] call <b>A3A_fnc_customHint</b>; autoHeal = false};<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>while {_continuar and ([_unit] call <b>A3A_fnc_canFight</b>) and (_unit getVariable "rearming") and (alive _truckX) and (_bigTimeout > time)} do<br>-----------------------------------------------------<br>waitUntil {sleep 1; !([_unit] call <b>A3A_fnc_canFight</b>) or (isNull _target) or (_unit distance _target < 3) or (_timeOut < time) or (unitReady _unit)};<br>-----------------------------------------------------<br>_unit addBackpack ((backpack _target) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>waitUntil {sleep 1; !([_unit] call <b>A3A_fnc_canFight</b>) or (!alive _truckX) or (_unit distance _truckX < 8) or (_timeOut < time)};<br>-----------------------------------------------------<br>if ((alive _truckX) and ([_unit] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>if ((unitReady _unit) && ([_unit] call <b>A3A_fnc_canFight</b>) && (_unit distance _selectedContainer > 3) && (_selectedContainer isKindOf "ReammoBox_F") && (!isNull _selectedContainer)) then {_unit setPos position _selectedContainer};<br>-----------------------------------------------------<br>_unit addBackPackGlobal ((backpack _selectedContainer) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>if (!haveRadio && {_unit call <b>A3A_fnc_getRadio</b> == ""}) then {<br>-----------------------------------------------------<br>if ((_selectedBody call <b>A3A_fnc_getRadio</b> != "") && (_unit distance _selectedBody < _maxDistance)) then {<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>private _radio = _selectedContainer call <b>A3A_fnc_getRadio</b>;<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>private _targetFAKs = if ([_unit] call <b>A3A_fnc_isMedic</b>) then {10} else {1};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>waitUntil {!([_unit] call <b>A3A_fnc_canFight</b>) || (isNull _selectedContainer) || (_unit distance _selectedContainer < 3) || (_timeOut < time) || (unitReady _unit)};<br>-----------------------------------------------------<br>_unit addBackPackGlobal ((backpack _selectedContainer) call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {false};<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_modAggroOcc,_modAggroInv] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (_modHR) then { [1,0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2] };<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>_muzzle = [_unit] call <b>A3A_fnc_returnMuzzle</b>;<br>-----------------------------------------------------<br>if (fleeing _unit) then {[_unit,_enemy] call <b>A3A_fnc_suppressingFire</b>};<br>-----------------------------------------------------<br>if !([_engineerX] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>if !([_engineerX] call <b>A3A_fnc_canFight</b>) exitWith<br>-----------------------------------------------------<br>_engineerX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (_engineerX != leader _engineerX) then {_engineerX doMove (getPos (leader _engineerX))} else {_engineerX call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>_engineerX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (!([_nearX] call <b>A3A_fnc_canFight</b>) or !([_unit] call <b>A3A_fnc_canFight</b>)) exitWith {};<br>-----------------------------------------------------<br>waitUntil {sleep 5; !([_nearX] call <b>A3A_fnc_canFight</b>) or (time > _timeOut)};<br>-----------------------------------------------------<br>private _objectivesX = (_LeaderX nearTargets  500) select {((_x select 2) in _enemySides) and ([_x select 4] call <b>A3A_fnc_canFight</b>)};<br>-----------------------------------------------------<br>[_veh] call <b>A3A_fnc_smokeCoverAuto</b>;<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp2 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>} forEach ([20,0,position _dog,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (_unit call <b>A3A_fnc_getRadio</b> != "") then<br>-----------------------------------------------------<br>if (hasInterface) then {if (player == _unit) then {["Medical", format ["%1 is on the way to help you",name _medicX]] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_smoked = [_medicX,_unit,_enemy] call <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (!alive _unit) or (_medicX distance _unit <= 3) or (_timeOut < time) or (_unit != vehicle _unit) or (_medicX != vehicle _medicX) or (_medicX != _unit getVariable ["helped",objNull]) or !(isNull attachedTo _unit) or (_medicX getVariable ["cancelRevive",false])) exitWith {};<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX distance _unit > 3) and (_medicX == _unit getVariable ["helped",objNull]) and !(_unit getVariable ["carryX",false]) and (allUnits findIf {((side _x == Occupants) or (side _x == Invaders)) and (_x distance2D _unit < 50)} == -1)) then {_medicX setPos position _unit};<br>-----------------------------------------------------<br>if ((_unit distance _medicX <= 3) and (alive _unit) and ([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX == vehicle _medicX) and (_medicX == _unit getVariable ["helped",objNull]) and (isNull attachedTo _unit) and !(_medicX getVariable ["cancelRevive",false])) then<br>-----------------------------------------------------<br>_coverX = [_unit,_enemy] call <b>A3A_fnc_coverage</b>;<br>-----------------------------------------------------<br>{if (([_x] call <b>A3A_fnc_canFight</b>) and (_x distance _medicX < 50) and !(_x getVariable ["helping",false]) and (!isPlayer _x)) then {[_x,_enemy] call A3A_fnc_suppressingFire}} forEach units (group _medicX);<br>-----------------------------------------------------<br>{if (([_x] call A3A_fnc_canFight) and (_x distance _medicX < 50) and !(_x getVariable ["helping",false]) and (!isPlayer _x)) then {[_x,_enemy] call <b>A3A_fnc_suppressingFire</b>}} forEach units (group _medicX);<br>-----------------------------------------------------<br>waitUntil {sleep 0.3; ((animationState _medicX) == "AmovPercMstpSlowWrflDnon_AcinPknlMwlkSlowWrflDb_2") or ((animationState _medicX) == "AmovPercMstpSnonWnonDnon_AcinPknlMwlkSnonWnonDb_2") or !([_medicX] call <b>A3A_fnc_canFight</b>) or (_timeOut < time)};<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>_dummy = [_dummyGrp, "C_man_polo_1_F", [0,0,20], [], 0, "FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (!alive _unit) or (_medicX distance _coverX <= 2) or (_timeOut < time) or (_medicX != vehicle _medicX) or (_medicX getVariable ["cancelRevive",false])) exitWith {};<br>-----------------------------------------------------<br>if ((alive _unit) and ([_medicX] call <b>A3A_fnc_canFight</b>) and (_medicX == vehicle _medicX) and !(_medicX getVariable ["cancelRevive",false])) then<br>-----------------------------------------------------<br>_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>;<br>-----------------------------------------------------<br>//if ([_medicX] call <b>A3A_fnc_canFight</b>) then {_medicX switchMove ""};<br>-----------------------------------------------------<br>//if (!_smoked) then {[_medicX,_unit] call <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>;<br>-----------------------------------------------------<br>//if (!_smoked) then {[_medicX,_unit] call <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (_unit getVariable ["incapacitated",false]) then {_cured = [_unit,_medicX] call <b>A3A_fnc_actionRevive</b>} else {_medicX action ["HealSoldier",_unit]; _cured = true};<br>-----------------------------------------------------<br>[_medicX,_medicX] call <b>A3A_fnc_chargeWithSmoke</b>;<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_veh,_text] remoteExec  ["<b>A3A_fnc_vehicleMarkers</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["Small", _side] spawn <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>//_size = [_analyzed] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>_costs = (server getVariable (SDKExp select 0)) + ([vehSDKRepair] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[-1,-1*_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), getMarkerPos respawnTeamPlayer, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_FIAinit</b>;<br>-----------------------------------------------------<br>[_truckX,boxX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>_enemyX = _groupX call <b>A3A_fnc_nearEnemy</b>;<br>-----------------------------------------------------<br>_morty call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>[_mortarX, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if !(alive _mortarX) exitWith {_morty call <b>A3A_fnc_recallGroup</b>};<br>-----------------------------------------------------<br>[_mortarX, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_nul = [_pos] spawn <b>A3A_fnc_napalmDamage</b>;<br>-----------------------------------------------------<br>_nul = [_pos] spawn <b>A3A_fnc_napalmDamage</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>[_victim] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[1,_killer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[0,-2,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[20, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [20, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[-1,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[0.5, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [0.5, 45]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[-0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[typeOf _victim,_victimSide,_victimLocation,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_victimLocation,_victimSide] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2]<br>-----------------------------------------------------<br>[_victimGroup,_killer] spawn <b>A3A_fnc_AIreactOnKill</b>;<br>-----------------------------------------------------<br>if (vehicle _x == _x) then {[_x] spawn A3A_fnc_autoRearm} else {[_x,vehicle _x] spawn <b>A3A_fnc_autoLoot</b>};<br>-----------------------------------------------------<br>if (vehicle _x == _x) then {[_x] spawn <b>A3A_fnc_autoRearm</b>} else {[_x,vehicle _x] spawn A3A_fnc_autoLoot};<br>-----------------------------------------------------<br>if (count hcSelected player != 1) exitWith {["Static Auto Target", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNull _static) exitWith {["Static Auto Target", "Selected squad is not a mounted static type"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((typeOf _static == SDKMortar) and (isMultiPlayer)) exitWith {["Static Auto Target", "Static Auto Target is not available for Mortar Squads in Multiplayer"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Static Auto Target", format ["Mounted Static Squad %1 set to Auto Target Mode OFF", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Static Auto Target", format ["Mounted Static Squad %1 set to Auto Target Mode ON", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ((time > _gunner getVariable ["timeToBuild",0]) or !([_gunner] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>if ([_gunner] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[_veh, side _groupX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>if (([_gunner] call <b>A3A_fnc_canFight</b>) and ([_helperX] call <b>A3A_fnc_canFight</b>)) then<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_gunner call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>_helperX call <b>A3A_fnc_recallGroup</b>;<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>_backpack = _backpack call <b>A3A_fnc_basicBackpack</b>;<br>-----------------------------------------------------<br>_nul = [-2,0,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [1,0,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_markerX,_sideX] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2];<br>-----------------------------------------------------<br>[3,format["Cleanup called for unit:%1",_unit],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup called for boxx:%1",_boxX],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_boxX] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[_unit,"captureX"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>//_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {};<br>-----------------------------------------------------<br>if (damage _unit >= 0.6) then {[_unit,_unit,_enemy] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>_coverX = [_unit,_enemy] call <b>A3A_fnc_coverage</b>;<br>-----------------------------------------------------<br>_enemiesX = [distanceSPWN,0,_positionX,_sideX] call <b>A3A_fnc_distanceUnits</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMedic</b>) then<br>-----------------------------------------------------<br>_backpcks pushBack (_x call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>//	{if (_x distance boxX < 10) then {[petros,"hint","Ammobox Loaded", "Cargo"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach (call A3A_fnc_playableUnits);<br>-----------------------------------------------------<br>//	{if (_x distance boxX < 10) then {[petros,"hint","Ammobox Loaded", "Cargo"] remoteExec ["A3A_fnc_commsMP",_x]}} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>_updated = [] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>[petros,"income",_updated] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"hint","Truck Loaded", "Cargo"] remoteExec ["<b>A3A_fnc_commsMP</b>",driver _destinationX];<br>-----------------------------------------------------<br>private _categories = _item call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>_item call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[_weaponMagazine] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_checkRadiosUnlocked</b>;<br>-----------------------------------------------------<br>[_nvToUnlock] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>categoryOverrides = false call <b>A3A_fnc_createNamespace</b>;<br>-----------------------------------------------------<br>_allConfigs = _allConfigs select {!(_x call <b>A3A_fnc_getModOfConfigClass</b> in disabledMods)};<br>-----------------------------------------------------<br>private _item = [_nameX] call <b>A3A_fnc_itemType</b>;<br>-----------------------------------------------------<br>private _categories = _nameX call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>if (count _this == 0) then {["Cargo", format ["Closest vehicle (%1) is empty", _vehName]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Cargo", format ["Transferred cargo from %1 to arsenal", _vehName]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_truckX,boxX,true] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>[_truckX,boxX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>private _itemType = [_className] call <b>A3A_fnc_itemType</b>;<br>-----------------------------------------------------<br>private _launcherInfo = [_className] call <b>A3A_fnc_launcherInfo</b>;<br>-----------------------------------------------------<br>private _itemMod = (_configClass call <b>A3A_fnc_getModOfConfigClass</b>);<br>-----------------------------------------------------<br>private _itemIsVanilla = [_itemMod] call <b>A3A_fnc_isModNameVanilla</b>;<br>-----------------------------------------------------<br>[4, "Ammo Truck Detected: Doubling Types", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _playerCount = if(!isNil "spoofedPlayerCount") then {spoofedPlayerCount} else {count (call <b>A3A_fnc_playableUnits</b>)};<br>-----------------------------------------------------<br>[3, format ["Function check for: %1", _choice], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Item already unlocked, rolling again."], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected Weapon Category: %1", _category], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Generating Weapons", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Weapons Left in Loot List Or Pick Random Failed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Adding %1 weapons of type %2", _amount, _loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 magazines of %2 for %3", _magAmount, _magazine, _loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Generating Items", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Breakdown: %1, %2, %3", lootItem, _unlocks, itemCargo _crate], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Items available: %1", _available], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Items Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Ammo Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Explosives Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Attachment Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Backpacks Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Helmets Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Vests Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No Device Bags Left in Loot List", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Spawning %1 of %2", _amount,_loot], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_fireableLauncherName, true] call <b>A3A_fnc_launcherInfo</b>;<br>-----------------------------------------------------<br>[driver _truckX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX];<br>-----------------------------------------------------<br>if ((_boxX == boxX) and (player!=theBoss)) exitWith {["Cargo", "Only the Commander can transfer this ammobox content to any truck"] call A3A_fnc_customHint; [driver _truckX,"truckX"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX]};<br>-----------------------------------------------------<br>if ((_boxX == boxX) and (player!=theBoss)) exitWith {["Cargo", "Only the Commander can transfer this ammobox content to any truck"] call <b>A3A_fnc_customHint</b>; [driver _truckX,"truckX"] remoteExec ["A3A_fnc_flagaction",driver _truckX]};<br>-----------------------------------------------------<br>_backpcks pushBack (_x call <b>A3A_fnc_basicBackpack</b>);<br>-----------------------------------------------------<br>["Cargo", "Closest Ammobox is empty"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo", format ["Truck loading. <br/><br/>Time remaining: %1 secs", _countX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_boxX,_truckX] remoteExec ["<b>A3A_fnc_ammunitionTransfer</b>",2];<br>-----------------------------------------------------<br>["Cargo", "Transfer cancelled due to movement of Truck or Player"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_proceed) then {[driver _truckX,"truckX"] remoteExec ["<b>A3A_fnc_flagaction</b>",driver _truckX]};<br>-----------------------------------------------------<br>private _categories = _className call <b>A3A_fnc_equipmentClassToCategories</b>;<br>-----------------------------------------------------<br>[_vehicle, ["Breach Vehicle", <b>A3A_fnc_startBreachVehicle</b>,nil,4,false,true,"","(isPlayer _this) && (_this == vehicle _this)",5]] remoteExec ["addAction", 0, _vehicle];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3600, Occupants] call <b>A3A_fnc_timingCA</b>;<br>-----------------------------------------------------<br>[Occupants] spawn <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>[3600, Invaders] call <b>A3A_fnc_timingCA</b>;<br>-----------------------------------------------------<br>[Invaders] spawn <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>if (count hcArray == 0) exitWith {[petros,"hint","No Headless Client Detected"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]};<br>-----------------------------------------------------<br>[petros, "hint", _textX, "AILoad Information"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0];<br>-----------------------------------------------------<br>[getPos petros] call <b>A3A_fnc_relocateHQObjects</b>;<br>-----------------------------------------------------<br>[Petros,"mission"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>_notificationText = format ["%1 aggression level reduced to %2<br/>", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1 aggression level increased to %2<br/>", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1%2 aggression level reduced to %3", _notificationText, nameInvaders, [aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>_notificationText = format ["%1%2 aggression level increased to %3", _notificationText, nameInvaders, [aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>];<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[petros, "income", _notificationText] remoteExec ["<b>A3A_fnc_commsMP</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>if (_typeX == "hint") then {[_titleX, format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeX == "hintS") then {[_titleX, format ["%1",_textX], true] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeX == "intelError") then {[_titleX, format ["Download error:<br/>%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Countdown", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_typeX == "delete") exitWith {["Create Outpost", "Deprecated option. Use Remove Garrison from HQ instead"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_groupX = [getMarkerPos respawnTeamPlayer, teamPlayer, _formatX] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_FIAinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>["outpostsFIA",["We are sending a team to establish a Watchpost/Roadblock. Use HC to send the team to their destination","Post \ Roadblock Deploy",_mrk],_positionTel,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [-5,5,_positionTel] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["outpostsFIA",["We are sending a team to establish a Watchpost/Roadblock. Use HC to send the team to their destination","Post \ Roadblock Deploy",_mrk],_positionTel,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"outpostsFIA"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>petros = [_groupPetros, typePetros, _position, [], 10, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[Petros,"mission"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]]<br>-----------------------------------------------------<br>[Petros,"buildHQ"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian]]<br>-----------------------------------------------------<br>call <b>A3A_fnc_initPetros</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_markerX,false] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>if (({if (_x distance2D _positionMRK < distanceSPWN) exitWith {1}} count _greenfor > 0) or ({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN2)) exitWith {1}} count _blufor > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createAICities"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if (_x distance2D _positionMRK < distanceSPWN) exitWith {1}} count _greenfor > 0) or ({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN2)) exitWith {1}} count _blufor > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createAICities</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createCIV"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createCIV</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"A3A_fnc_createAIcontrols"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"<b>A3A_fnc_createAIcontrols</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"A3A_fnc_createAIAirplane"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"<b>A3A_fnc_createAIAirplane</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"A3A_fnc_createAIResources"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"<b>A3A_fnc_createAIResources</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"A3A_fnc_createAIOutposts"] call <b>A3A_fnc_scheduler</b>};};};};<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"<b>A3A_fnc_createAIOutposts</b>"] call A3A_fnc_scheduler};};};};<br>-----------------------------------------------------<br>//[_markerX] remoteExec ["<b>A3A_fnc_createAICities</b>",HCGarrisons];<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"A3A_fnc_createCIV"] call <b>A3A_fnc_scheduler</b>};<br>-----------------------------------------------------<br>if (({if ((isPlayer _x) and (_x distance2D _positionMRK < distanceSPWN)) exitWith {1};false} count allUnits > 0) or (_markerX in forcedSpawn)) then {[[_markerX],"<b>A3A_fnc_createCIV</b>"] call A3A_fnc_scheduler};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"A3A_fnc_createFIAOutposts2"] call <b>A3A_fnc_scheduler</b>} else {if (not(_markerX in controlsX)) then {[[_markerX],"A3A_fnc_createSDKGarrisons"] call <b>A3A_fnc_scheduler</b>}};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"<b>A3A_fnc_createFIAOutposts2</b>"] call A3A_fnc_scheduler} else {if (not(_markerX in controlsX)) then {[[_markerX],"A3A_fnc_createSDKGarrisons"] call A3A_fnc_scheduler}};<br>-----------------------------------------------------<br>if (_markerX in outpostsFIA) then {[[_markerX],"A3A_fnc_createFIAOutposts2"] call A3A_fnc_scheduler} else {if (not(_markerX in controlsX)) then {[[_markerX],"<b>A3A_fnc_createSDKGarrisons</b>"] call A3A_fnc_scheduler}};<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"A3A_fnc_createAIcontrols"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in controlsX) then {[[_markerX],"<b>A3A_fnc_createAIcontrols</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"A3A_fnc_createAIAirplane"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (_markerX in airportsX) then {[[_markerX],"<b>A3A_fnc_createAIAirplane</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"A3A_fnc_createAIResources"] call <b>A3A_fnc_scheduler</b>} else {<br>-----------------------------------------------------<br>if (((_markerX in resourcesX) or (_markerX in factories))) then {[[_markerX],"<b>A3A_fnc_createAIResources</b>"] call A3A_fnc_scheduler} else {<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"A3A_fnc_createAIOutposts"] call <b>A3A_fnc_scheduler</b>};};};};<br>-----------------------------------------------------<br>if ((_markerX in outposts) or (_markerX in seaports)) then {[[_markerX],"<b>A3A_fnc_createAIOutposts</b>"] call A3A_fnc_scheduler};};};};<br>-----------------------------------------------------<br>//example: _result = [distanceSPWN,0,posHQ,Invaders] call <b>A3A_fnc_distanceUnits</b>: devuelve un array con todas las que estÃ©n a menos de distanceSPWN<br>-----------------------------------------------------<br>//example: _result = [distanceSPWN,1,posHQ,teamPlayer] call <b>A3A_fnc_distanceUnits</b>: devuelve un boolean si hay una que estÃ© a menos de distanceSPWN<br>-----------------------------------------------------<br>["PvP Information", "PvP players are only allowed to use their own or other PvP player vehicles"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_revealToPlayer</b>",teamPlayer];<br>-----------------------------------------------------<br>_airportsAAF = (airportsX + outposts) select {(spawner getVariable _x == 2) and (dateToNumber date > server getVariable _x) and ([_x,_markerX] call <b>A3A_fnc_isTheSameIsland</b>) and (!(_x in forcedSpawn)) and (sidesX getVariable [_x,sideUnknown] == _sideX) and !(_x in blackListDest) and (getMarkerPos _x distance _pos > distanceSPWN)};<br>-----------------------------------------------------<br>_actionX = _flag addAction ["<t>Take the Flag<t> <img image='\A3\ui_f\data\igui\cfg\actions\takeflag_ca.paa' size='1.8' shadow=2 />", <b>A3A_fnc_mrkWIN</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>petros addAction ["Mission Request", {CreateDialog "mission_menu";},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and ([_this] call <b>A3A_fnc_isMember</b>) and (petros == leader group petros)",4];<br>-----------------------------------------------------<br>petros addAction ["HQ Management", <b>A3A_fnc_dialogHQ</b>,nil,0,false,true,"","(_this == theBoss) and (petros == leader group petros)", 4];<br>-----------------------------------------------------<br>petros addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"];<br>-----------------------------------------------------<br>actionX = _flag addAction ["<t>Transfer Ammobox to Truck<t> <img image='\A3\ui_f\data\igui\cfg\actions\unloadVehicle_ca.paa' size='1.8' shadow=2 />", <b>A3A_fnc_transfer</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])"]<br>-----------------------------------------------------<br>//case "heal": {if (player != _flag) then {_flag addAction [format ["Revive %1",name _flag], { _this spawn <b>A3A_fnc_actionRevive</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])"]}};<br>-----------------------------------------------------<br>if ([_flag] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1 </t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_reviveMedic_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1 </t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_revive_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>if ([_flag] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1</t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_reviveMedic_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,false,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Revive %1</t> <img size='1.8' <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_revive_ca.paa' />",name _flag], <b>A3A_fnc_actionRevive</b>,nil,6,true,false,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)",4];<br>-----------------------------------------------------<br>//_flag addAction [format ["Revive %1",name _flag], { _this spawn <b>A3A_fnc_actionRevive</b>; },nil,0,false,true,"","!(_this getVariable [""helping"",false]) and (isNull attachedTo _target)"];<br>-----------------------------------------------------<br>_actionX = _flag addAction [format ["<t>Carry %1</t> <img image='\A3\ui_f\data\igui\cfg\actions\take_ca.paa' size='1.6' shadow=2 />",name _flag], <b>A3A_fnc_carry</b>,nil,5,true,false,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (isNull attachedTo _target) and !(_this getVariable [""helping"",false]);",4];<br>-----------------------------------------------------<br>_flag addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"]<br>-----------------------------------------------------<br>_flag addAction ["<t>Liberate</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", <b>A3A_fnc_liberaterefugee</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["<t>Liberate POW</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", <b>A3A_fnc_liberatePOW</b>,nil,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["<t>Release POW</t> <img image='\a3\ui_f\data\IGUI\Cfg\holdactions\holdAction_unbind_ca.paa' size='1.6' shadow=2 />", { _this spawn <b>A3A_fnc_captureX</b>; },false,6,true,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Recruit", { _this spawn <b>A3A_fnc_captureX</b>; },true,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Interrogate", <b>A3A_fnc_interrogate</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Build HQ here", <b>A3A_fnc_buildHQ</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Steal Static", <b>A3A_fnc_stealStatic</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b>;},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])", 4]<br>-----------------------------------------------------<br>fireX addAction ["Rest for 8 Hours", <b>A3A_fnc_skiptime</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>fireX addAction ["Clear Nearby Forest", <b>A3A_fnc_clearForest</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>fireX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Unit Recruitment", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; };},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Buy Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4];<br>-----------------------------------------------------<br>_flag addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull])",4]<br>-----------------------------------------------------<br>_flag addAction ["Search for Intel", <b>A3A_fnc_searchIntelOnLeader</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>_flag addAction ["Take Intel", <b>A3A_fnc_searchIntelOnDocument</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>_flag addAction ["Download Intel", <b>A3A_fnc_searchIntelOnLaptop</b>, nil, 4, true, false, "", "isPlayer _this", 4];<br>-----------------------------------------------------<br>[petros,"hint","Deleting Garbage. Please wait", "Garbage Cleaner"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Cleaning garbage...", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,"hint","Garbage deleted", "Garbage Cleaner"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Garbage clean completed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_siteX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[1, format ["Bad level recieved, cannot generate string, was %1", _level], "calculateAggression", true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Now searching for attack vehicle pool for %1 with filter %2", _side, _filter], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Found vehicle array with no defined vehicles!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(([_x, _filter] call _fn_checkElementAgainstFilter) && {[_x] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>if(([_x select 0, _filter] call _fn_checkElementAgainstFilter) && {[_x select 0] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Now searching for QRF vehicle pool for %1 with filter %2", _side, _filter], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Found vehicle array with no defined vehicles!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(([_x, _filter] call _fn_checkElementAgainstFilter) && {[_x] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>if(([_x select 0, _filter] call _fn_checkElementAgainstFilter) && {[_x select 0] call <b>A3A_fnc_vehAvailable</b>}) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Heal And Repair", "The repair box has been used in the last 30 seconds! Please wait for a bit."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Heal And Repair", "Nearby units have been healed, refreshed, and can go undercover again.<br/><br/> Nearby vehicles have been repaired, rearmed, and are no longer reported."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initPetros started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[petros,true] call <b>A3A_fnc_punishment_FF_addEH</b>;<br>-----------------------------------------------------<br>if (!isNull _injurer) then {[petros,side _injurer] spawn <b>A3A_fnc_unconscious</b>} else {[petros,sideUnknown] spawn <b>A3A_fnc_unconscious</b>};<br>-----------------------------------------------------<br>[-1*(round(_hrT*0.9)),-1*(round(_resourcesFIAT*0.9))] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_placementSelection</b>",theBoss];<br>-----------------------------------------------------<br>(call <b>A3A_fnc_playableUnits</b>)<br>-----------------------------------------------------<br>apply {[([_x] call <b>A3A_fnc_numericRank</b>) select 0, _x]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_placementSelection</b>", _playersWithRank select 0 select 1];<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>[2,"initPetros completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_artySupport</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've taken out your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've inserted your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_textX = format ["%1",[_siteX,false] call <b>A3A_fnc_location</b>];<br>-----------------------------------------------------<br>_city = [_city,false] call <b>A3A_fnc_location</b>;<br>-----------------------------------------------------<br>, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Changing side of %1 to %2", _markerX, _winner], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>//[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[3, format ["Side changed for %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_markerX,_looser,"",_super] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>//	[[_markerX],"A3A_fnc_autoGarrison"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>//	[[_markerX],"<b>A3A_fnc_autoGarrison</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[_soldiers,_winner,_markerX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>_request pushBack ([_preference select _i, _winner] call <b>A3A_fnc_createGarrisonLine</b>);<br>-----------------------------------------------------<br>[_markerX, [_looser, _winner]] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>[3, format ["Garrison set for %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = [_markerX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[0,10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_markerX,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10,-10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Notification and points done for marker change at %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{_nul = [_markerX,_x] spawn <b>A3A_fnc_deleteControls</b>} forEach controlsX;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[_x, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>//[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[_flagX,"SDKFlag"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>//[_flagX,"unit"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>//[_flagX,"vehicle"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>//[_flagX,"garage"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>if (_markerX in seaports) then {[_flagX,"seaport"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX]};<br>-----------------------------------------------------<br>[_prestigeOccupants,_prestigeInvaders] spawn <b>A3A_fnc_prestige</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1; ((spawner getVariable _markerX == 2)) or ({((side group _x) in [_looser,_other]) and (_x getVariable ["spawner",false]) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits > 3*({(side _x == teamPlayer) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>[_markerX,teamPlayer] remoteExec ["<b>A3A_fnc_zoneCheck</b>",2];<br>-----------------------------------------------------<br>[_x, _winner, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[_flagX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_flagX];<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_prestigeOccupants,_prestigeInvaders] spawn <b>A3A_fnc_prestige</b>;<br>-----------------------------------------------------<br>if ((random 10 < ((tierWar + difficultyCoef)/4)) and !(["DEF_HQ"] call BIS_fnc_taskExists) and (isPlayer theBoss)) then {[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if ((random 10 < ((tierWar + difficultyCoef)/4)) and !(["DEF_HQ"] call BIS_fnc_taskExists) and (isPlayer theBoss)) then {[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>{[_winner,_x] spawn <b>A3A_fnc_markerChange</b>; sleep 5} forEach _closeX;<br>-----------------------------------------------------<br>{[_winner,_x] spawn <b>A3A_fnc_markerChange</b>; sleep 5} forEach _closeX;<br>-----------------------------------------------------<br>[3, format ["Finished marker change at %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Move HQ", "Only our Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((count weaponCargo boxX >0) or (count magazineCargo boxX >0) or (count itemCargo boxX >0) or (count backpackCargo boxX >0)) exitWith {["Move HQ", "You must first empty your Ammobox in order to move the HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(isNull attachedTo petros) exitWith {["Move HQ", "Put Petros down before you move the HQ!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[petros,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0];<br>-----------------------------------------------------<br>[respawnTeamPlayer, 0, teamPlayer] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 0, civilian] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>["Garrison", "HQ Garrison will stay here and hold the enemy"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = ["Synd_HQ"] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if (typeOf _x == staticCrewTeamPlayer) then {_costs = _costs - ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>if (_x == staticCrewTeamPlayer) then {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>[_hr,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Garrison", format ["Garrison removed<br/><br/>Recovered Money: %1 â‚¬<br/>Recovered HR: %2",_costs,_hr]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>petros addAction ["Build HQ here", <b>A3A_fnc_buildHQ</b>,nil,0,false,true];<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if ((!isNull _playerX) and (captive _playerX)) exitWith {["Capture", "You cannot Capture the Flag while Undercover"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_markerX in airportsX) and (tierWar < 3)) exitWith {["Capture", "You cannot capture Airports until you reach War Level 3"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Capture", "This flag pole is locked, try again in 30 seconds!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2, format ["Flag capture at %1 initiated by %2", _markerX, str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (((side _x == Occupants) or (side _x == Invaders)) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)) then<br>-----------------------------------------------------<br>if ((count _revealX) > 2*({([_x,_markerX] call <b>A3A_fnc_canConquer</b>) and (side _x == teamPlayer)} count allUnits)) exitWith<br>-----------------------------------------------------<br>[3, format ["Markers left to be conquered: %1 ", _revealX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Flag capture by %1 abandoned due to outnumbering", str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Capture", "The enemy still outnumber us, check the map and clear the rest of the area"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[5,_x] remoteExec ["<b>A3A_fnc_playerScoreAdd</b>",_x];<br>-----------------------------------------------------<br>} forEach ([_size,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[2, format ["Flag capture by %1 rewarded", str _playerX], _filename, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[teamPlayer,_markerX] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel while enemies are nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel if your vehicles don't have a driver or your vehicles immobile"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "Click on the zone you want to travel to"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ((sidesX getVariable [_base,sideUnknown] == teamPlayer) or (_base in _mrkENY)) exitWith {["Fast Travel", "You cannot Fast Travel to an enemy controlled zone"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if ((!(_base in airportsX)) and (!(_base in seaports)) and (!(_base in outposts)) and (_base != _mrkRespawn)) exitWith {["Fast Travel", "You can only Fast Travel to Airbases, Outposts and Seaports"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding area"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>["Fast Travel", "You must click near a marker you control"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[petros,"hint","A Headless Client has been disconnected. This will cause malfunctions. Head back to HQ for saving ASAP and ask and Admin for a restart", "Headless Client"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[2, format ["Player disconnected with id %1 and unit %2 on side %3", _uid, _unit, (side _unit)], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player unit %1, original unit %2, boss %3", _unit, _realUnit, theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (group petros == group _realUnit) then { [] spawn <b>A3A_fnc_buildHQ</b> };<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>[_uid, _realUnit, false] call <b>A3A_fnc_savePlayer</b>;<br>-----------------------------------------------------<br>if (["outpostsFIA"] call BIS_fnc_taskExists) exitWith {["Outposts/Roadblocks", "We can only deploy / delete one Observation Post or Roadblock at a time."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Radio Required", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Radio-man Required", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Radio Required", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Radio-man Required", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if (_typeX != "delete") then {["Outposts/Roadblocks", "Click on the position you wish to build the Observation Post or Roadblock. <br/><br/> Remember: to build Roadblocks you must click exactly on a road map section"] call <b>A3A_fnc_customHint</b>;} else {["Outposts/Roadblocks", "Click on the Observation Post or Roadblock to delete."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == "delete") and (count outpostsFIA < 1)) exitWith {["Outposts/Roadblocks", "No Posts or Roadblocks deployed to delete"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == "delete") and ({(alive _x) and (!captive _x) and ((side _x == Occupants) or (side _x == Invaders)) and (_x distance _positionTel < 500)} count allUnits > 0)) exitWith {["Outposts/Roadblocks", "You cannot delete a Post while enemies are near it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>) + (server getVariable staticCrewTeamPlayer);<br>-----------------------------------------------------<br>if (_positionTel distance _pos >10) exitWith {["Outposts/Roadblocks", "No post nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (((_resourcesFIA < _costs) or (_hrFIA < _hr)) and (_typeX!= "delete")) exitWith {["Outposts/Roadblocks", format ["You lack of resources to build this Outpost or Roadblock <br/><br/> %1 HR and %2 â‚¬ needed",_hr,_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-_hr,-_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[_typeX,_positionTel] remoteExec ["<b>A3A_fnc_createOutpostsFIA</b>", 2];<br>-----------------------------------------------------<br>[2,"New session selected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["HQ Position", "Place selected is very close to enemy zones.<br/><br/> Please select another position"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["HQ Position", "Selected position cannot be in water"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_positionIsInvalid) then {["HQ Position", "There are enemies in the surroundings of that area, please select another."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_positionClicked] remoteExec ["<b>A3A_fnc_createPetros</b>", 2];<br>-----------------------------------------------------<br>[_positionClicked] call <b>A3A_fnc_relocateHQObjects</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>//[-10,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>//[-10,10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>//[-10,0,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[-5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>//[0,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [[5, 10],[0,0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[_city,_powered] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>//[-10,-10,_pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_siteX,_powered] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>[1, "Minute parameter is 0, assuming 1", "prestige"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _possibleStartBases = airportsX select {([_x,false] call <b>A3A_fnc_airportCanAttack</b>) && (sidesX getVariable [_x,sideUnknown] != teamPlayer)};<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(_distance < distanceForLandAttack && {[_startAirport, _target] call <b>A3A_fnc_isTheSameIsland</b>}) then<br>-----------------------------------------------------<br>[3, format ["%1 is surrounded by us, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Logging available targets for attack", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_availableTargets, "Available targets"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[3, format ["T: %1, A: %2", _target, _baseArray], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[3, format ["%1 has only minimal friendly location around it, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 has only minimal garrison, considering easy target", _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Logging final target values for attack", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_availableTargets, "Target values"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[3, "Found four targets to attack, these are:", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_attackList, "Target params"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[[_x select 2, _x select 0, "", false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_x select 2, _x select 0, "", false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>//[sidesX getVariable (_x select 0), (_x select 2)] call <b>A3A_fnc_markerChange</b>;<br>-----------------------------------------------------<br>[3, format ["Main target is %1, easy target is %2", _mainTarget, _easyTarget], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Main target not set, selecting easy target", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "Easy target not set, selecting main target", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Selected target is %1!", _finalTarget], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[sidesX getVariable _attackOrigin, _attackTarget] call <b>A3A_fnc_markerChange</b>;<br>-----------------------------------------------------<br>[_attackTarget, _attackOrigin, _waves] spawn <b>A3A_fnc_wavedCA</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_attackTarget, _attackOrigin] spawn <b>A3A_fnc_invaderPunish</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < 5000) exitWith {["Rebuild Assets", "You do not have enough money to rebuild any Asset. You need 5.000 â‚¬"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Rebuild Assets", "Click on the zone you want to rebuild."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (getMarkerPos _siteX distance _positionTel > 50) exitWith {["Rebuild Assets", "You must click near a map marker"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((not(_siteX in _destroyedSites)) and (!(_siteX in outposts))) exitWith {["Rebuild Assets", "You cannot rebuild that"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Rebuild Assets", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_nameX = [_siteX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["Rebuild Assets", format ["%1 Rebuilt"]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[0,10,_positionTel] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[10, 30], [10, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>["Rebuild Assets", "Radio Tower rebuilt"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_antennaDead] remoteExec ["<b>A3A_fnc_rebuildRadioTower</b>", 2];<br>-----------------------------------------------------<br>[0,-5000] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>if (!isServer) exitWith { [1, "Server-only function miscalled", _file] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>if !(_antenna in antennasDead) exitWith { [1, "Attempted to rebuild invalid radio tower", _file] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[2, format["Repairing Antenna %1", str _antenna], _file] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_antenna] call <b>A3A_fnc_repairRuinedBuilding</b>;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,true] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,false] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 1, teamPlayer] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>[respawnTeamPlayer, 1, civilian] call <b>A3A_fnc_setMarkerAlphaForSide</b>;<br>-----------------------------------------------------<br>if (!isServer) exitWith { [1, "Server-only function miscalled", "fn_repairRuinedBuilding"] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[petros,"income",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if ([player] call <b>A3A_fnc_hasRadio</b>) then<br>-----------------------------------------------------<br>[2,format ["Scheduled function: %1, Function params: %2",_function,_params],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Sell Vehicle", "You are not looking to any vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh distance getMarkerPos respawnTeamPlayer > 50) exitWith {["Sell Vehicle", "Vehicle must be closer than 50 meters to the flag"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({isPlayer _x} count crew _veh > 0) exitWith {["Sell Vehicle", "In order to sell, vehicle must be empty."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Sell Vehicle", "You are not owner of this vehicle and you cannot sell it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = round (([_typeX] call <b>A3A_fnc_vehiclePrice</b>)/2)<br>-----------------------------------------------------<br>if (_costs == 0) exitWith {["Sell Vehicle", "The vehicle you are looking is not suitable in our marketplace"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[0,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[_veh,true] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["Sell Vehicle", "Vehicle Sold"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[3, format ["Splitting the crew of %1, type of %2", _vehicle, typeOf _vehicle], __FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Crew is %1", str _crew], __FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(!isPlayer _caller) exitWith {["Breach Vehicle", "Only players are currently able to breach vehicles!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Breach Vehicle", "You have to be an engineer to breach a vehicle!"] call <b>A3A_fnc_customHint</b>;;<br>-----------------------------------------------------<br>["Breach Vehicle", "Why would you want to breach a destroyed vehicle?"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "There is no living crew left, no need for breaching!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You cannot breach a vehicle which is controlled by the rebels!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You carry no explosives. You will need some to breach vehicles!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "You don't have the right explosives, check the briefing notes to see what you need!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>{([_caller] call <b>A3A_fnc_canFight</b>) &&<br>-----------------------------------------------------<br>{!([_caller] call <b>A3A_fnc_canFight</b>) ||<br>-----------------------------------------------------<br>["Breach Vehicle", "Breaching cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_vehicle call <b>A3A_fnc_addActionBreachVehicle</b>;<br>-----------------------------------------------------<br>["Breach Vehicle", "Breaching in 10 seconds."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_x] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _x];		// execute local to crewman<br>-----------------------------------------------------<br>[_vehicle, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "HR: %1 | %9 Money: %2 â‚¬ | Airstrikes: %5 | %7 Aggr: %3 | %8 Aggr: %4 | War Level: %6 | Undercover Mode: %10", server getVariable "hr", server getVariable "resourcesFIA",[aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,floor bombRuns,tierWar,nameOccupants,nameInvaders,nameTeamPlayer,_ucovertxt];<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Commander: %3 | Rank: %2 | HR: %1 | Your Money: %4 â‚¬ | %8 Aggr: %5 | %9 Aggr: %6 | War Level: %7 | Undercover Mode: %10", server getVariable "hr", rank _player, _nameC, _player getVariable "moneyX",[aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,tierWar,nameOccupants,nameInvaders,_ucovertxt];<br>-----------------------------------------------------<br>if ([_player] call <b>A3A_fnc_isMember</b>) then<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Rank: %5 | HR: %1 | Your Money: %6 â‚¬ | %11 Money: %2 â‚¬ | Airstrikes: %7 | %9 Aggr: %3 | %10 Aggr: %4 | War Level: %8 | Undercover Mode: %12", server getVariable "hr", server getVariable "resourcesFIA", [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,rank _player, _player getVariable "moneyX",floor bombRuns,tierWar,nameOccupants,nameInvaders,nameTeamPlayer,_ucovertxt];<br>-----------------------------------------------------<br>_textX = format ["<t size='0.67' shadow='2'>" + "Rank: %1 | Your Money: %2 â‚¬ | %3 Money: %4 â‚¬ | %5 Aggr: %6 | %7 Aggr: %8 | War Level: %9 | Undercover Mode: %10",rank _player,_player getVariable "moneyX",nameTeamPlayer,server getVariable "resourcesFIA", nameOccupants, [aggressionLevelOccupants] call <b>A3A_fnc_getAggroLevelString</b>, nameInvaders,[aggressionLevelInvaders] call <b>A3A_fnc_getAggroLevelString</b>,tierWar,_ucovertxt];<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Unlock Vehicle", "You are not looking at a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _veh) exitWith {["Unlock Vehicle", "You cannot unlock destroyed"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "Man") exitWith {["Unlock Vehicle", "Are you kidding?"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(_veh isKindOf "AllVehicles")) exitWith {["Unlock Vehicle", "The vehicle you are looking at cannot be used"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNil "_ownerX") exitWith {["Unlock Vehicle", "The vehicle you are looking at is already unlocked"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_ownerX != getPlayerUID player) exitWith {["Unlock Vehicle", "You cannot unlock vehicles which you do not own"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Unlock Vehicle", "Vehicle Unlocked"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ({((_x getVariable ["spawner",false]) and ((side group _x) in [_enemy1,_enemy2])) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits > 3*({([_x,_markerX] call <b>A3A_fnc_canConquer</b>) and (_x getVariable ["markerX",""] == _markerX)} count allUnits)) then<br>-----------------------------------------------------<br>if ({(_x getVariable ["spawner",false]) and (side group _x == _enemy1) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits <= {(_x getVariable ["spawner",false]) and (side group _x == _enemy2) and ([_x,_markerX] call <b>A3A_fnc_canConquer</b>)} count allUnits) then {_winner = _enemy2};<br>-----------------------------------------------------<br>[_winner,_markerX] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_convoyDebug</b>;<br>-----------------------------------------------------<br>if(isMultiplayer && {!isServer} && {!(call BIS_fnc_admin > 0)}) exitWith {["Convoy Debug", "Only server admins can execute the convoy debug!"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_isSimulated = [_units, _currentRoadBlock] call <b>A3A_fnc_roadblockFight</b>;<br>-----------------------------------------------------<br>[_convoyID, _units, _currentPos, _remainingRoute, _markerArray, _convoySide, _convoyType, _maxSpeed, _isAir] call <b>A3A_fnc_spawnConvoy</b>;<br>-----------------------------------------------------<br>[_currentRoadBlock, _convoySide, teamPlayer, false] remoteExec ["<b>A3A_fnc_underAttack</b>",2]<br>-----------------------------------------------------<br>if([distanceSPWN, 1, _currentPos, teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then<br>-----------------------------------------------------<br>[_convoyID, _units, _currentPos, _remainingRoute, _markerArray, _convoySide, _convoyType, _maxSpeed, _isAir] call <b>A3A_fnc_spawnConvoy</b>;<br>-----------------------------------------------------<br>[_convoyID, (_route select 0), (_route select (_pointsCount - 1)), _units, _convoySide, _convoyType] spawn <b>A3A_fnc_onConvoyArrival</b>;<br>-----------------------------------------------------<br>if ([_nearestMarker,false] call <b>A3A_fnc_fogCheck</b> < 0.3) exitWith<br>-----------------------------------------------------<br>_threatEvalLand = [_destinationPos, _side] call <b>A3A_fnc_landThreatEval</b>;<br>-----------------------------------------------------<br>_airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (getMarkerPos _x distance2D _destinationPos < distanceForAirAttack)};<br>-----------------------------------------------------<br>_outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_destinationPos, getMarkerPos _x] call <b>A3A_fnc_isTheSameIsland</b>) and (getMarkerPos _x distance _destinationPos < distanceForLandAttack)  and ([_x,true] call A3A_fnc_airportCanAttack)}} else {[]};<br>-----------------------------------------------------<br>_outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _side) and ([_destinationPos, getMarkerPos _x] call A3A_fnc_isTheSameIsland) and (getMarkerPos _x distance _destinationPos < distanceForLandAttack)  and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)}} else {[]};<br>-----------------------------------------------------<br>{([_originPos, _destinationPos] call <b>A3A_fnc_isTheSameIsland</b>)}}<br>-----------------------------------------------------<br>if (_origin in outposts) then {[_origin, 10] call <b>A3A_fnc_addTimeForIdle</b>} else {[_origin, 5] call <b>A3A_fnc_addTimeForIdle</b>};<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>[_origin, 10] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_veh = [_vehPool, _side, true] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>_possibleBases = _canReinf select {[_x, _destination] call <b>A3A_fnc_shouldReinforce</b>};<br>-----------------------------------------------------<br>_units = [_selectedBase, _destination] call <b>A3A_fnc_selectReinfUnits</b>;<br>-----------------------------------------------------<br>_countUnits = [_units, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>//[_units, "Reinf units"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[_target, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>_airport = [_destination, _side] call <b>A3A_fnc_findAirportForAirstrike</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_canFight</b>}}<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_origin = [_destination] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_destination, []]))/2) >= [_destinationX] call <b>A3A_fnc_garrisonSize</b>) then<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_destinationX, []]))/2) >= [_destinationX] call <b>A3A_fnc_garrisonSize</b>) then<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_destination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameOrigin = [_origin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_origin, 30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_crew = [_typeVehLead, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>if ([_destination] call <b>A3A_fnc_isFrontline</b>) then<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehObj,_side] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_crew = [_typeVehObj, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_veh = [_vehPool, _side] call <b>A3A_fnc_selectAndCreateVehicle</b>;<br>-----------------------------------------------------<br>[_convoyID, _units, _originPos, _destinationPos, [_origin, if(_isMarker) then {_destination} else {""}], _type, _side] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>_route = [_origin, _destination] call <b>A3A_fnc_findPath</b>;<br>-----------------------------------------------------<br>[_convoyID, _route, _markerArray, _velocity, _units, _convoySide, _convoyType, (!_hasLand)] spawn <b>A3A_fnc_convoyMovement</b>;<br>-----------------------------------------------------<br>[2, format ["Despawning convoy %1", _convoyID], "fn_despawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_convoyID, _convoyData, _convoyPos, _target, _markerArray, _convoyType, _convoySide] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>[_convoyID, _backRoute, _speed, _units, _sideConvoy, "return"] spawn <b>A3A_fnc_createConvoy</b>;<br>-----------------------------------------------------<br>[_marker, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>[5, -5, (getMarkerPos _roadblockMarker)] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>while{!([_selectedVehicle] call <b>A3A_fnc_vehAvailable</b>)} do<br>-----------------------------------------------------<br>_crew = [_selectedVehicle, _crewUnits] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_typeGroup = [_selectedVehicle,_side] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>[2, format ["Spawning in convoy %1", _convoyID], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_units, "Convoy Units"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>private _lineData = [_units select _i, _convoySide, _pos, _dir] call <b>A3A_fnc_spawnConvoyLine</b>;<br>-----------------------------------------------------<br>[3, "Convoy line has no vehicle, unhandled", "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format["Vehicle FSM result %1, rem units %2", _result, count _createdUnits], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([distanceSPWN*1.2, 1, getPos _veh, teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then { _despawn = false };<br>-----------------------------------------------------<br>[2, format ["%1 Convoy [%2]: Terminated", _convoyType, _convoyID], "fn_spawnConvoy"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_convoyID, _createdUnits, _convoyPos, _targetPos, _markerArray, _convoyType, _convoySide] call <b>A3A_fnc_despawnConvoy</b>;<br>-----------------------------------------------------<br>//    _vehicleObj = [_vehicleType, _pos, 10, 3, true] call <b>A3A_fnc_safeVehicleSpawn</b>;<br>-----------------------------------------------------<br>[_vehicleObj, _side] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>private _unit = [_vehicleGroup, _x, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_unit = [_cargoGroup, _x, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>{[distanceForLandAttack,1,_this,teamPlayer] call <b>A3A_fnc_distanceUnits</b>};<br>-----------------------------------------------------<br>if ((_base in seaports) and ([vehNATOBoat] call <b>A3A_fnc_vehAvailable</b>)) then<br>-----------------------------------------------------<br>if ((_base in seaports) and ([vehCSATBoat] call <b>A3A_fnc_vehAvailable</b>)) then<br>-----------------------------------------------------<br>_arrayDestinations = [_arrayDestinations,_posBase] call <b>A3A_fnc_patrolDestinations</b>;<br>-----------------------------------------------------<br>_posbase = position ([_posbase] call <b>A3A_fnc_findNearestGoodRoad</b>);<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh,"Patrol"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_groupX = [_posbase, _sideX, groupsNATOSentry] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] joinSilent _groupVeh; [_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX = [_posbase, _sideX, groupsCSATSentry] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] joinSilent _groupVeh; [_x,"",false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_road = [_posDestination] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 60; (_veh distance _posDestination < _distanceX) or ({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers == 0) or (!canMove _veh)};<br>-----------------------------------------------------<br>_arrayDestinations = [_arrayDestinations,position _veh] call <b>A3A_fnc_patrolDestinations</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;		// this one did care about enemies. Not sure why.<br>-----------------------------------------------------<br>if ([distanceSPWN/2,1,getMarkerPos _markerX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>[_veh, _side] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>_veh call <b>A3A_fnc_addActionBreachVehicle</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"]; _veh = _this select 0; if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false]; [_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["HandleDamage",{private ["_veh"]; _veh = _this select 0; if (!canFire _veh) then {[_veh] call <b>A3A_fnc_smokeCoverAuto</b>; _veh removeEventHandler ["HandleDamage",_thisEventHandler]};if (((_this select 1) find "wheel" != -1) and (_this select 4=="") and (!isPlayer driver (_veh))) then {0;} else {(_this select 2);}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"];  _veh = _this select 0; if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false];[_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}];<br>-----------------------------------------------------<br>_veh addEventHandler ["HandleDamage",{private ["_veh"]; _veh = _this select 0; if (!canFire _veh) then {[_veh] call <b>A3A_fnc_smokeCoverAuto</b>;  _veh removeEventHandler ["HandleDamage",_thisEventHandler]}}];<br>-----------------------------------------------------<br>["General", "Only Humans can pilot an air vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["GetOut", {private ["_veh"];_veh = _this select 0; if ((isTouchingGround _veh) and (isEngineOn _veh)) then {if (side (_this select 2) != teamPlayer) then {if (_veh getVariable "within") then {_veh setVariable ["within",false]; [_veh] call <b>A3A_fnc_smokeCoverAuto</b>}}}}];<br>-----------------------------------------------------<br>if (activeGREF and ((_typeX == staticATteamPlayer) or (_typeX == staticAAteamPlayer))) then {[_veh,"moveS"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh]} else {[_veh,"steal"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh]};<br>-----------------------------------------------------<br>[_veh,"steal"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh];<br>-----------------------------------------------------<br>[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if ([_LeaderX] call A3A_fnc_isMember) then {[[],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if ([_LeaderX] call A3A_fnc_isMember) then {[[],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if ([_LeaderX] call <b>A3A_fnc_isMember</b>) then {[[],"A3A_fnc_attackHQ"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_bases = airportsX select {(getMarkerPos _x distance _mortarX < distanceForAirAttack) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (sidesX getVariable [_x,sideUnknown] != teamPlayer)};<br>-----------------------------------------------------<br>[[getPosASL _mortarX,_sideX,"Normal",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[getPosASL _mortarX,_sideX,"Normal",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[3, format ["%1 switching side from %2 to rebels", typeof _veh, _oldside], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer, true] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[1, format ["GetOut handler weird input: %1, %2, %3", _veh, _role, _unit], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 destroyed by %2", typeof _veh, _killerSide], "fn_AIVEHinit"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, _killerSide, false] call <b>A3A_fnc_vehKilledOrCaptured</b>;<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_cleanserVeh</b>;<br>-----------------------------------------------------<br>_civ = [_groupX, _unit, _posHouse, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>_nul = [-1,-1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10,_killer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[10 * _multiplier, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-5 * _multiplier, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1,1,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_cleanserVeh</b>;<br>-----------------------------------------------------<br>_veh addEventHandler ["Killed",{[_this select 0] spawn <b>A3A_fnc_postmortem</b>}];<br>-----------------------------------------------------<br>[_veh] spawn <b>A3A_fnc_VEHdespawner</b>;<br>-----------------------------------------------------<br>[3, format ["%1 is null on spawn", typeof _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 destroyed on spawn", typeof _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_max = if (_frontierX && {[_typeVehX] call <b>A3A_fnc_vehAvailable</b>}) then {2} else {1};<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "CAN_COLLIDE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>if !([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_ret = [_markerX,_size,_sideX,_frontierX] call <b>A3A_fnc_milBuildings</b>;<br>-----------------------------------------------------<br>{[_x, _sideX] call <b>A3A_fnc_AIVEHinit</b>} forEach (_ret select 1);<br>-----------------------------------------------------<br>[_markerX, _large] spawn <b>A3A_fnc_placeIntel</b>;<br>-----------------------------------------------------<br>private _runwaySpawnLocation = [_markerX] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_vehPool = ([vehNATOPlane, vehNATOPlaneAA] select {[_x] call <b>A3A_fnc_vehAvailable</b>})<br>-----------------------------------------------------<br>_vehPool = ([vehCSATPlane, vehCSATPlaneAA] select {[_x] call <b>A3A_fnc_vehAvailable</b>})<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_typeVehX = if (_sideX == Occupants) then {selectRandom (vehNATOAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})} else {selectRandom (vehCSATAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})};<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_ammoBox] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>_arrayVehAAF = if (_sideX == Occupants) then {vehNATOAttack select {[_x] call <b>A3A_fnc_vehAvailable</b>}} else {vehCSATAttack select {[_x] call <b>A3A_fnc_vehAvailable</b>}};<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = if (_i == 0) then {[_positionX,_sideX, (_array select _i),true,false] call <b>A3A_fnc_spawnGroup</b>} else {[_positionX,_sideX, (_array select _i),false,true] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_num = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_groupX = _params call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _grp;} forEach _groups;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinitBases</b>; _soldiers pushBack _x} forEach units _grp;} forEach _groups;<br>-----------------------------------------------------<br>waitUntil {sleep 1;((spawner getVariable _markerX == 2)) or ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0)};<br>-----------------------------------------------------<br>if (({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0) and (_esAAF)) then<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if ((random 10 > (tierWar + difficultyCoef)) and (!([_markerX] call <b>A3A_fnc_isFrontline</b>))) then<br>-----------------------------------------------------<br>if ((random 10 > (tierWar + difficultyCoef)) and (!([_markerX] call <b>A3A_fnc_isFrontline</b>))) then<br>-----------------------------------------------------<br>_unit = [_groupE, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupE, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{ [_x, _sideX] call <b>A3A_fnc_AIVEHinit</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup, true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog,_groupX] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,"",false] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX, _sideX, _typeGroup, true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_soldiers pushBack _x; [_x,"", false] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _cfg] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>while {(spawner getVariable _markerX != 2) and ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers > 0)} do<br>-----------------------------------------------------<br>waitUntil {sleep 1;((spawner getVariable _markerX == 2))  or ({[_x,_markerX] call <b>A3A_fnc_canConquer</b>} count _soldiers == 0)};<br>-----------------------------------------------------<br>_nul = [-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>_nul = [0,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>if (_winner == teamPlayer) then {[[_positionX,_sideX,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_winner == teamPlayer) then {[[_positionX,_sideX,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Mortar"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_ret = [_markerX,_size,_sideX,_frontierX] call <b>A3A_fnc_milBuildings</b>;<br>-----------------------------------------------------<br>{ [_x, _sideX] call <b>A3A_fnc_AIVEHinit</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>[_markerX, _large] spawn <b>A3A_fnc_placeIntel</b>;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>[_ammoBox] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>if ([_typeVehX] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 	_groupX = [_positionX, _sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>// 		_nul = [_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 		_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>// 		{_soldiers pushBack _x; [_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_nul = [_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], _dir, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_x,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 	_groupX = [_positionX, _sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>// 		_nul = [_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>// 		_unit = [_groupX, FIARifleman, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>// 		{_soldiers pushBack _x; [_x,_markerX] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>if (_radiusX < ([_markerX] call <b>A3A_fnc_garrisonSize</b>)) then<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> < 0.3) then {_arraygroups = _arraygroups - sniperGroups};<br>-----------------------------------------------------<br>_groupX = [_positionX,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>[_flagX,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flagX];<br>-----------------------------------------------------<br>_civ = [_groupX, "C_man_w_worker_F", _positionX, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>_nameX = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _spawnParameter = [_markerX, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_x,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>else { if !(_x isKindOf "StaticWeapon") then { [_x] spawn <b>A3A_fnc_VEHdespawner</b> } };<br>-----------------------------------------------------<br>_isFrontline = [_marker] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>[_flag,"take"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_flag];<br>-----------------------------------------------------<br>[_box] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_box] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_marker, _patrolMarker, _flag, _box] call <b>A3A_fnc_cycleSpawn</b>;<br>-----------------------------------------------------<br>[1, format ["Roads not found for marker %1", _markerX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_area = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if ((count (nearestObjects [_p1, ["Car", "Truck"], 5]) == 0) and !([50,1,_road,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) then<br>-----------------------------------------------------<br>[_veh, civilian] spawn <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh, civilian] spawn <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_civ = [_groupX, "C_journalist_F", _pos, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>if ([_markerX,false] call <b>A3A_fnc_fogCheck</b> > 0.2) then<br>-----------------------------------------------------<br>private _patrolCities = [_markerX] call <b>A3A_fnc_citiesToCivPatrol</b>;<br>-----------------------------------------------------<br>_civ = [_groupP, _typeCiv, _p1, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>else { [_x] spawn <b>A3A_fnc_VEHdespawner</b> };<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groupsPatrol;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehPatrol;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX, teamPlayer, _garrison,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>//_unit = [_groupX, staticCrewTeamPlayer, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] spawn <b>A3A_fnc_FIAinitBases</b>; if (typeOf _x == staticCrewTeamPlayer) then {_x moveInGunner _veh}} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX = [_positionX, teamPlayer, _formatX] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,_markerX] spawn <b>A3A_fnc_FIAinitBases</b>;} forEach units _groupX;<br>-----------------------------------------------------<br>_nul = [5,-5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[2, format ["Spawning CA. Target:%1, Source:%2, Side:%3, Count:%4, Land:%5, Type:%6", _target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_source,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[_source,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _spawnPoint = [_posOrigin] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["Air"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if ([_aaType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_aaType, 30] };<br>-----------------------------------------------------<br>if ([_tankType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_tankType, 30] };<br>-----------------------------------------------------<br>_road = [_posDest] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_landPos = [_posDest,_pos,false,_landPosBlacklist] call <b>A3A_fnc_findSafeRoadToUnload</b>;<br>-----------------------------------------------------<br>[_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_source,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh, _typeName] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_source,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh, "Truck"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_source,_posDest,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh, _typeName] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[3, format ["QRF vehicle %1 sent with %2 soldiers", typeof _veh, count crew _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "QRF reached maximum unit limit", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Land QRF performed on %1, type %2, veh count %3, troop count %4", _target,_typeOfAttack,count _vehiclesX,count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_source,20] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["LandVehicle"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if ([_vehType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_vehType, 30] };<br>-----------------------------------------------------<br>if ([_vehType] call <b>A3A_fnc_vehAvailable</b>) then { _vehPool append [_vehType, 30] };<br>-----------------------------------------------------<br>_size = [_source] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>//{_x assignAsCargo _veh;_x moveInCargo _veh; [_x] call <b>A3A_fnc_NATOinit</b>;_soldiers pushBack _x;_x setVariable ["originX",_source]} forEach units _groupX;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_target,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true", "if !(local this) exitWith {}; (vehicle this) land 'GET OUT';[vehicle this] call <b>A3A_fnc_smokeCoverAuto</b>"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "if !(local this) exitWith {}; (group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,_groupX,_posDest,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_target,_source] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[3, format ["QRF vehicle %1 sent with %2 soldiers", typeof _veh, count crew _veh], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "QRF reached maximum unit limit", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Air QRF performed on %1, type %2, veh count %3, troop count %4", _target,_typeOfAttack,count _vehiclesX,count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers) <= 0.25 * (count _soldiers);<br>-----------------------------------------------------<br>_size = [_target] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 5; (call _fnc_lowStrength) or (time > _timeX) or (sidesX getVariable [_target,sideUnknown] == _sideX) or (({[_x,_target] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_target] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>if  ((({[_x,_target] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_target] call <b>A3A_fnc_canConquer</b>)} count allUnits)) and (not(sidesX getVariable [_target,sideUnknown] == _sideX))) then<br>-----------------------------------------------------<br>[_sideX,_target] remoteExec ["<b>A3A_fnc_markerChange</b>",2];<br>-----------------------------------------------------<br>[3, format ["QRF from %1 to retake %2 has outnumbered the enemy, changing marker!", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["QRF from %1 to retake %2 has failed as the marker is not changed!", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_typeOfAttack != "Air") then {waitUntil {sleep 5; (_timeX < time) or (call _fnc_lowStrength) or (!([distanceSPWN1,1,_posDest,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) and !([distanceSPWN1,1,_posDest,_sideEnemy] call <b>A3A_fnc_distanceUnits</b>))}}<br>-----------------------------------------------------<br>[3, format ["QRF from %1 on position %2 defeated", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["QRF from %1 on position %2 despawned", _source, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["QRF on %1 finished", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>[_target, "remove"] remoteExecCall ["<b>A3A_fnc_updateCAMark</b>", 2];<br>-----------------------------------------------------<br>[_veh,"SDKFlag"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_veh];<br>-----------------------------------------------------<br>[_veh,"seaport"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_veh];<br>-----------------------------------------------------<br>private _civ = [_groupCiv, "C_man_w_worker_F", _positionX, [],0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [_civ] spawn <b>A3A_fnc_CIVinit</b>;<br>-----------------------------------------------------<br>private _nameX = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>private _unit = [_groupMortars, staticCrewTeamPlayer, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>private _pos = [_positionX] call <b>A3A_fnc_mortarPos</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupMortars, (_garrison select _index), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupStatics, (_garrison select _index), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>_garrison = _garrison call <b>A3A_fnc_garrisonReorg</b>;<br>-----------------------------------------------------<br>private _unit = [_groupX, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_FIAinitBases</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>_garCount = [_garrison, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_patrolSize = [_patrolMarker] call <b>A3A_fnc_calculateMarkerArea</b>;<br>-----------------------------------------------------<br>[_garrison, "Garrison"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Vehicle"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_marker, "Plane"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _vehicle, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>//_spawnParameter = [_marker, NATOCrew] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_unitX = [_groupX, _x, (_spawnParameter select 0), [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _unitX, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>_unitX = [_groupSoldier, _x, (_spawnParameter select 0), [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_marker, typeOf _unitX, _id] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_freeSpawnPositions</b>;<br>-----------------------------------------------------<br>if ((!([distanceSPWN, 1, _x, teamPlayer] call <b>A3A_fnc_distanceUnits</b>))) then<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_initRevive</b>;<br>-----------------------------------------------------<br>[_unit, 2] call <b>A3A_fnc_equipRebel</b>;			// 2 = garrison unit<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,-0.25,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[typeOf _victim,teamPlayer,_markerX,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>//[_spawns, "Spawnpoints"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_spawns, "Spawn places"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_frontierX = [_markerX] call <b>A3A_fnc_isFrontline</b>;<br>-----------------------------------------------------<br>if (_sideX == teamPlayer) then {[_markerX] call <b>A3A_fnc_mrkUpdate</b>};<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,_eny1] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,_eny2] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>if !([distanceSPWN,1,_unit,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith { true };<br>-----------------------------------------------------<br>_nameDestination = [_attackDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nul = [_attackOrigin,_attackDestination,Invaders] spawn <b>A3A_fnc_artillery</b>;<br>-----------------------------------------------------<br>_typeAirVehicle = if (_i != 3) then {selectRandom (vehCSATAir select {[_x] call <b>A3A_fnc_vehAvailable</b>})} else {selectRandom (_invaderAirTransport select {[_x] call <b>A3A_fnc_vehAvailable</b>})};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, Invaders] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeAirVehicle,Invaders] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin, Invaders, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh;_x moveInCargo _veh; _soldiers pushBack _x; [_x] call <b>A3A_fnc_NATOinit</b>; _x setVariable ["originX",_attackOrigin]} forEach units _groupX;<br>-----------------------------------------------------<br>//[_veh,"CSAT Air Transport"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_attackDestination,_attackOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[[_posDestination,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[[_posDestination,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_size = [_attackDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_civ = [_groupCivil, _typeUnit,_pos, [],0,"NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>if ([vehCSATPlane] call <b>A3A_fnc_vehAvailable</b>) then {<br>-----------------------------------------------------<br>_nul = [_attackDestination,Invaders,_bombType] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>["invaderPunish",[format ["%2 is attacking innocent civilians in %1! Defend the city at all costs",_nameDestination,nameInvaders],format ["%1 Punishment",nameInvaders],_attackDestination],getMarkerPos _attackDestination,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[-15,15,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} else {[-5,15,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]};<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[-10, 90], [40, 150]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{[-10,10,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_posDestination,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_posDestination,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_attackDestination,sideUnknown] == Occupants) then {[15,0,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} else {[15,0,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]};<br>-----------------------------------------------------<br>{[10,0,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>["invaderPunish",[format ["%2 is attacking innocent civilians in %1! Defend the city at all costs",_nameDestination,nameInvaders],format ["%1 Punishment",nameInvaders],_attackDestination],getMarkerPos _attackDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-20,-20,_posDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{[-10,-10,_x] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]} forEach citiesX;<br>-----------------------------------------------------<br>[_attackDestination] call <b>A3A_fnc_destroyCity</b>;<br>-----------------------------------------------------<br>_nul = [0,"invaderPunish"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[7200, Invaders] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>private _spawnParameter = [_markerX, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>_spawnParameter = [_markerX, "Heli"] call <b>A3A_fnc_findSpawnPosition</b>;<br>-----------------------------------------------------<br>private _unit = [_groupX, _typeUnit, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,_markerX] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_size = [_nearX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if !([_pos] call <b>A3A_fnc_isBuildingPosition</b>) then {_exit = true};<br>-----------------------------------------------------<br>[1, format ["Bad init parameter: %1", _this], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_unit addEventHandler ["HandleDamage", <b>A3A_fnc_handleDamageAAF</b>];<br>-----------------------------------------------------<br>_unit addEventHandler ["killed", <b>A3A_fnc_occupantInvaderUnitKilledEH</b>];<br>-----------------------------------------------------<br>[_unit, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _unit];<br>-----------------------------------------------------<br>_unit unlinkItem (_unit call <b>A3A_fnc_getRadio</b>);<br>-----------------------------------------------------<br>_this remoteExec ["<b>A3A_fnc_patrolCA</b>", 2];			// fudge until the other calls are fixed up<br>-----------------------------------------------------<br>//	[1, "Server-only function miscalled", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["QRF requested. Target:%1, Source:%2, Type:%3, IsSuper:%4",_target,_source,_typeOfAttack,_super], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([_target, false] call <b>A3A_fnc_fogCheck</b> < 0.3) exitWith {<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled due to heavy fog",_target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled due to other CA in vicinity",_target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([_plane] call <b>A3A_fnc_vehAvailable</b>) exitWith {};<br>-----------------------------------------------------<br>private _friendlies = if (_sideX == Occupants) then {allUnits select {(_x distance _posDest < 200) and (alive _x) and ((side (group _x) == _sideX) or (side (group _x) == civilian))}} else {allUnits select {(_x distance _posDest < 100) and ([_x] call <b>A3A_fnc_canFight</b>) and (side (group _x) == _sideX)}};<br>-----------------------------------------------------<br>[_posDest, "add"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>[_posDest, _sideX, _bombType] spawn <b>A3A_fnc_airstrike</b>;			// should be scheduled<br>-----------------------------------------------------<br>[2, format ["PatrolCA airstrike of type %1 sent to %2", _bombType, _posDest], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_posDest, "remove"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled because maximum unit count reached", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _threatEvalLand = [_posDest,_sideX] call <b>A3A_fnc_landThreatEval</b>;<br>-----------------------------------------------------<br>private _airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>) and (getMarkerPos _x distance2D _posDest < distanceForAirAttack)};<br>-----------------------------------------------------<br>private _outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_posDest,getMarkerPos _x] call <b>A3A_fnc_isTheSameIsland</b>) and (getMarkerPos _x distance _posDest < distanceForLandAttack)  and ([_x,true] call A3A_fnc_airportCanAttack)}} else {[]};<br>-----------------------------------------------------<br>private _outposts = if (_threatEvalLand <= 15) then {outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and ([_posDest,getMarkerPos _x] call A3A_fnc_isTheSameIsland) and (getMarkerPos _x distance _posDest < distanceForLandAttack)  and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)}} else {[]};<br>-----------------------------------------------------<br>[2, format ["PatrolCA on %1 cancelled because no usable bases in vicinity", _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _landAttack = if ((_posOrigin distance _posDest < distanceForLandAttack) and ([_posDest,_posOrigin] call <b>A3A_fnc_isTheSameIsland</b>) and (_threatEvalLand <= 15)) then {true} else {false};<br>-----------------------------------------------------<br>[3, format ["With %1 aggression, sending %2 vehicles", _aggro, _vehicleCount], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_target, "add"] call <b>A3A_fnc_updateCAMark</b>;<br>-----------------------------------------------------<br>private _nameDest = [_target] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[[_target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], "A3A_fnc_createQRF"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_target, _source, _sideX, _vehicleCount, _landAttack, _typeOfAttack], "<b>A3A_fnc_createQRF</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[2, format ["Spawning PatrolReinf. Dest:%1, Orig:%2, Size:%3, Side: %4",_mrkDestination,_mrkOrigin,_numberX,_sideX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["PatrolReinf vehicle %1 selected", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_groupX = [_pos,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh,"Inf Truck."] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,_posDestination,_groupX] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>_Vwp0 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_Vwp0 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_size = [_mrkOrigin] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "(group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""<b>A3A_fnc_garrisonUpdate</b>"",2];[group this] spawn A3A_fnc_groupDespawner; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>_wp4 setWaypointStatements ["true","nul = [(thisList select {alive _x}),side this,(group this) getVariable [""reinfMarker"",""""],0] remoteExec [""A3A_fnc_garrisonUpdate"",2];[group this] spawn <b>A3A_fnc_groupDespawner</b>; reinfPatrols = reinfPatrols - 1; publicVariable ""reinfPatrols"";"];<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_posOrigin,_groupVeh,true] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_groupX,_posDestination,_mrkOrigin,true] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_numGarr = [_airportX] call <b>A3A_fnc_garrisonSize</b>;<br>-----------------------------------------------------<br>if (_sideX == Occupants) then {[selectRandom groupsNATOSquad,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]} else {[selectRandom groupsCSATSquad,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]};<br>-----------------------------------------------------<br>if (_sideX == Occupants) then {[selectRandom groupsNATOmid,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]} else {[selectRandom groupsCSATmid,_sideX,_airportX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2]};<br>-----------------------------------------------------<br>_numGarr = [_x] call <b>A3A_fnc_garrisonSize</b>;<br>-----------------------------------------------------<br>[_typeGroup,_sideX,_siteX,2] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>//[_siteX, "Reinforce", _sideX, [(_numberX == 4)]] remoteExec ["<b>A3A_fnc_createAIAction</b>", 2];<br>-----------------------------------------------------<br>[[_siteX,_airportX,_numberX,_sideX],"A3A_fnc_patrolReinf"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_siteX,_airportX,_numberX,_sideX],"<b>A3A_fnc_patrolReinf</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>if ((count _reinfPlaces == 0) and (AAFpatrols <= 3)) then {[] spawn <b>A3A_fnc_AAFroadPatrol</b>};<br>-----------------------------------------------------<br>[_target, "Reinforce", _side, [_canReinf]] remoteExec ["<b>A3A_fnc_createAIAction</b>", 2];<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_replenishGarrison</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 10;{([_x] call <b>A3A_fnc_canFight</b>) and (vehicle _x == _x)} count _soldiers == {[_x] call <b>A3A_fnc_canFight</b>} count _soldiers};<br>-----------------------------------------------------<br>if ({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers == 0) exitWith {};<br>-----------------------------------------------------<br>_soldiers = _soldiers select {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>if ((_x distance _soldierX < (distanceSPWN/2)) and {[_x] call <b>A3A_fnc_canFight</b>} and {side group _x in _eny} and {vehicle _x == _x}) then<br>-----------------------------------------------------<br>_willCollide = [_vehicle, _spawnPosition] call <b>A3A_fnc_vehicleWillCollideAtPosition</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, (_typesX select _i), _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[1, "Server-only function miscalled", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 CA mark for marker %2", _operation, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["%1 CA mark for position %2", _operation, _target], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,Occupants] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>if ([distanceSPWN,1,_veh,Invaders] call <b>A3A_fnc_distanceUnits</b>) exitWith {false};<br>-----------------------------------------------------<br>[3, format ["%1 of %2 %3 by %4", _type, _side, _act, _sideEnemy], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_type call <b>A3A_fnc_removeVehFromPool</b>;<br>-----------------------------------------------------<br>[-_value/3, _value/3, position _veh] remoteExec ["<b>A3A_fnc_citySupportChange</b>", 2];<br>-----------------------------------------------------<br>[[_value, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>", 2];<br>-----------------------------------------------------<br>[[0, 0], [_value, 45]] remoteExec ["<b>A3A_fnc_prestige</b>", 2];<br>-----------------------------------------------------<br>[0, -1, _pos] remoteExec ["<b>A3A_fnc_citySupportChange</b>", 2];<br>-----------------------------------------------------<br>if !(_veh isKindOf "StaticWeapon") then { [_veh] spawn <b>A3A_fnc_VEHdespawner</b> };<br>-----------------------------------------------------<br>_size = [_mrkDestination] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_mrkDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameOrigin = [_mrkOrigin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_nameDest = [_mrkDestination] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[3, format ["Land vehicle pool: %1", _vehPoolLand], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Air transport pool: %1", _vehPoolAirTransport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Air support pool: %1", _vehPoolAirSupport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Wave will contain %1 vehicles", _nVeh], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_outposts = outposts select {(sidesX getVariable [_x,sideUnknown] == _sideX) and (getMarkerPos _x distance _posDestination < distanceForLandAttack)  and ([_x,false] call <b>A3A_fnc_airportCanAttack</b>)};<br>-----------------------------------------------------<br>//[_outpost,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_spawnPoint = [_posOriginLand] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_road = [_posDestination] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of land vehicles", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_landPos = [_posDestination,_pos,false,_landPosBlacklist] call <b>A3A_fnc_findSafeRoadToUnload</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_grupo = [_posOrigin,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh,"APC"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupVeh spawn <b>A3A_fnc_attackDrillAI</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_landPos,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh,"Truck"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_posOriginLand,_posDestination,_groupVeh] call <b>A3A_fnc_WPCreate</b>;<br>-----------------------------------------------------<br>[_veh, _typeName] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[2, format ["Ground wave reached maximum units count after %1 vehicles", _countX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_vehPool = _vehPool select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Boat"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>if !(_spawnedSquad) then {_grupo = [_posOrigin,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;_spawnedSquad = true} else {_grupo = [_posOrigin,_sideX, _typeGroup,false,true] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>_Vwp2 setWaypointStatements ["true", "if !(local this) exitWith {}; (group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>//[_veh,"APC"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_Vwp setWaypointStatements ["true", "if !(local this) exitWith {}; (group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>//[_veh,"Boat"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_vehPool = _vehPool select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>_size = [_mrkOrigin] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>private _runwayTakeoff = [_mrkOrigin] call <b>A3A_fnc_getRunwayTakeoffForAirportMarker</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning %1 new support aircraft", _countNewSupport], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of air supports", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[_uav,"UAV"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_uav,_mrkDestination,_sideX] spawn <b>A3A_fnc_VANTinfo</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach (crew _uav);<br>-----------------------------------------------------<br>[_uav, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Attack ran out of air transports", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning vehicle type %1", _typeVehX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupVeh;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_typeGroup = [_typeVehX,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>_grupo = [_posGround,_sideX, _typeGroup,true,false] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>[_veh,_grupo,_mrkDestination,_mrkOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>_wp0 setWaypointStatements ["true", "if !(local this) exitWith {}; (vehicle this) land 'GET OUT';[vehicle this] call <b>A3A_fnc_smokeCoverAuto</b>"];<br>-----------------------------------------------------<br>_wp3 setWaypointStatements ["true", "if !(local this) exitWith {}; (group this) spawn <b>A3A_fnc_attackDrillAI</b>"];<br>-----------------------------------------------------<br>[_veh,_grupo,_posDestination,_posOrigin,_groupVeh] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>[_veh,_grupo,_mrkDestination,_mrkOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[2, format ["Air wave reached maximum units count after %1 vehicles", _countX], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Spawn performed: %1 air vehicles inc. %2 supports, %3 land vehicles, %4 soldiers", _nVehAir, _countNewSupport, _nVehLand, count _soldiers], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>;<br>-----------------------------------------------------<br>if (([_plane] call <b>A3A_fnc_vehAvailable</b>) and (not(_mrkDestination in citiesX)) and _firstWave) then<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,"HE"] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,selectRandom _bombOptions] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>if !(_posOriginLand isEqualTo []) then {[_posOriginLand,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>} else {[_mrkOrigin,_mrkDestination,_sideX] spawn <b>A3A_fnc_artillery</b>};<br>-----------------------------------------------------<br>if (([_plane] call <b>A3A_fnc_vehAvailable</b>) and (_firstWave)) then<br>-----------------------------------------------------<br>if ([_plane] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>_nul = [_mrkDestination,_sideX,"HE"] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>_nul = [_posDestination,_sideX,selectRandom _bombOptions] spawn <b>A3A_fnc_airstrike</b>;<br>-----------------------------------------------------<br>if !([true] call <b>A3A_fnc_FIAradio</b>) then {sleep 100};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"CREATED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (sidesX getVariable [_mrkDestination,sideUnknown] != teamPlayer) then {_soldiers spawn <b>A3A_fnc_remoteBattle</b>};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants) or (({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants) or (({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))};<br>-----------------------------------------------------<br>if  ((({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits)) or (sidesX getVariable [_mrkDestination,sideUnknown] == Occupants)) then<br>-----------------------------------------------------<br>if ((!(sidesX getVariable [_mrkDestination,sideUnknown] == Occupants)) and !(_mrkDestination in citiesX)) then {[Occupants,_mrkDestination] remoteExec ["<b>A3A_fnc_markerChange</b>",2]};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"SUCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,-100,_mrkDestination] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["%1 joined %2",[_mrkDestination, false] call <b>A3A_fnc_location</b>,nameOccupants]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[-10, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (_waves <= 0) then {[_mrkDestination,_mrkOrigin] call <b>A3A_fnc_minefieldAAF</b>};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders) or (({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))};<br>-----------------------------------------------------<br>waitUntil {sleep 5; (({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax) or (time > _timeX) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders) or (({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))};<br>-----------------------------------------------------<br>//diag_log format ["1:%1,2:%2,3:%3,4:%4",(({!([_x] call A3A_fnc_canFight)} count _soldiers) >= _solMax),(time > _timeX),(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders),(({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits))];<br>-----------------------------------------------------<br>//diag_log format ["1:%1,2:%2,3:%3,4:%4",(({!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) >= _solMax),(time > _timeX),(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders),(({[_x,_mrkDestination] call A3A_fnc_canConquer} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call A3A_fnc_canConquer)} count allUnits))];<br>-----------------------------------------------------<br>if  ((({[_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>} count _soldiers) > 3*({(side _x != _sideX) and (side _x != civilian) and ([_x,_mrkDestination] call <b>A3A_fnc_canConquer</b>)} count allUnits)) or (sidesX getVariable [_mrkDestination,sideUnknown] == Invaders))  then<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_mrkDestination,sideUnknown] == Invaders)) then {[Invaders,_mrkDestination] remoteExec ["<b>A3A_fnc_markerChange</b>",2]};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (_waves <= 0) then {[_mrkDestination,_mrkOrigin] call <b>A3A_fnc_minefieldAAF</b>};<br>-----------------------------------------------------<br>["rebelAttack",[format ["%2 Is attacking from the %1. Intercept them or we may loose a sector",_nameOrigin,_nameENY],format ["%1 Attack",_nameENY],_mrkOrigin],getMarkerPos _mrkOrigin,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["rebelAttackPVP",[format ["We are attacking an %2 from the %1. Help the operation if you can",_nameOrigin,_nameDest],format ["%1 Attack",_nameENY],_mrkDestination],getMarkerPos _mrkDestination,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_posDestination,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_posDestination,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [0,"rebelAttack"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"rebelAttackPVP"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[3600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>if (!([_mrkOrigin, "airport"] call <b>A3A_fnc_isTheSameIsland</b>)) then {<br>-----------------------------------------------------<br>[teamPlayer] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[civilian] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[Occupants] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[Invaders] remoteExec ["<b>A3A_fnc_deleteEmptyGroupsOnSide</b>", 0];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKBike] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKLightUnarmed] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[SDKMortar] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civCar] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civTruck] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civHeli] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",[civBoat] call <b>A3A_fnc_vehiclePrice</b>];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Clean Forest", "Only Commanders can order to clean the forest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Clean Forest", "You've cleared the surroundings of trees and bushes"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["W A R N I N G", "READ THIS!!!<br/><br/><br/>Antistasi does NOT support vanilla save. Do not expect 100% of functionalities if you Save and Exit and after you come back with Resume option. Both on SP and MP.<br/><br/><br/>Antistasi has an in built save system, GTA alike, which is the system you have to use in order to have full functionalities.<br/><br/>To Save: Go to the Map Board, select ""Game Options"" and hit on ""Persistent Save"" button.<br/><br/>To load: RESTART the game and click YES on this window"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Load Save", "Choose a difficulty level"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["ItemRadio"] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Load Save", "Choose a Game Mode"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["W A R N I N G", "READ THIS!!!<br/><br/><br/>Antistasi does NOT support vanilla save. Do not expect 100% of functionalities if you Save and Exit and after you come back with Resume option. Both on SP and MP.<br/><br/><br/>Antistasi has an in built save system, GTA alike, which is the system you have to use in order to have full functionalities.<br/><br/>To Save: Go to the Map Board, select ""Game Options"" and hit on ""Persistent Save"" button.<br/><br/>To load: RESTART the game and click YES on this window"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_loadPreviousSession</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_credits</b>;<br>-----------------------------------------------------<br>if (_typeVehX in vehFIA) then {_costs = round (([_typeVehX] call <b>A3A_fnc_vehiclePrice</b>)/2); _textX = "Fia Vehicle."};<br>-----------------------------------------------------<br>if !((vehicle player getVariable "SA_Tow_Ropes") isEqualTo objNull) exitWith {["Fast Travel", "You cannot Fast Travel with your Tow Rope out or a Vehicle attached"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (count hcSelected player > 1) exitWith {["Fast Travel", "You can select one group only to Fast Travel"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (({isPlayer _x} count units _groupX > 1) and (_esHC)) exitWith {["Fast Travel", "You cannot Fast Travel groups commanded by players"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["Fast Travel", "You cannot Fast Travel while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (!isNil "_punishmentoffenceTotal" && {_punishmentoffenceTotal >= 1}) exitWith {["Fast Travel", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>//_distanceX = 500 - (([_boss,false] call <b>A3A_fnc_fogCheck</b>) * 450);<br>-----------------------------------------------------<br>{if ([_x,_distanceX] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {_checkX = true}} forEach units _groupX;<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel with enemies near the group"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Fast Travel", "You cannot Fast Travel if you don't have a driver in all your vehicles or your vehicles are damaged and cannot move or your group is in a boat"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "Click on the zone you want to travel"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_checkForPlayer and ((_base != "SYND_HQ") and !(_base in airportsX))) exitWith {["Fast Travel", "Player groups are only allowed to Fast Travel to HQ or Airbases"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((sidesX getVariable [_base,sideUnknown] == Occupants) or (sidesX getVariable [_base,sideUnknown] == Invaders)) exitWith {["Fast Travel", "You cannot Fast Travel to an enemy controlled zone"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if ([getMarkerPos _base,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding"] call A3A_fnc_customHint; openMap [false,false]};<br>-----------------------------------------------------<br>if ([getMarkerPos _base,500] call A3A_fnc_enemyNearCheck) exitWith {["Fast Travel", "You cannot Fast Travel to an area under attack or with enemies in the surrounding"] call <b>A3A_fnc_customHint</b>; openMap [false,false]};<br>-----------------------------------------------------<br>if (!_esHC) then {disableUserInput true; cutText [format ["Fast traveling, travel time: %1s , please wait", _distanceX],"BLACK",1]; sleep 1;} else {hcShowBar false;hcShowBar true;["Fast Travel", format ["Moving group %1 to destination",groupID _groupX]] call <b>A3A_fnc_customHint</b>; sleep _distanceX;};<br>-----------------------------------------------------<br>{if ((vehicle _x) in _vehicles) exitWith {_checkForPlayer = true}} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (_checkForPlayer and ((_base != "SYND_HQ") and !(_base in airportsX))) exitWith {["Fast Travel", format ["%1 Fast Travel has been cancelled because some player has boarded their vehicle and the destination is not HQ or an Airbase",groupID _groupX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!_esHC) then {disableUserInput false;cutText ["You arrived to destination","BLACK IN",1]} else {["Fast Travel", format ["Group %1 arrived to destination",groupID _groupX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Fast Travel", "You must click near marker under your control"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_loadPlayer</b>", 2];<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_resetPlayer</b>", 2];<br>-----------------------------------------------------<br>if (["Mines"] call BIS_fnc_taskExists) exitWith {["Minefields", "We can only deploy one minefield at a time."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Minefields", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Minefields", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Minefields", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Minefields", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = (2*(server getVariable (SDKExp select 0))) + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if ((server getVariable "resourcesFIA" < _costs) or (server getVariable "hr" < _hr)) exitWith {["Minefields", format ["Not enough resources to recruit a mine deploying team (%1 â‚¬ and %2 HR needed)",_costs,_hr]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Minefields", "Explosive Specialists is available on your High Command bar.<br/><br/>Send him anywhere on the map and he will deactivate and load in his truck any mine he may find.<br/><br/>Returning back to HQ will unload the mines he stored in his vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[[],"A3A_fnc_mineSweep"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[],"<b>A3A_fnc_mineSweep</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if (_quantity < 5) exitWith {["Minefields", "You need at least 5 mines of this type to build a Minefield"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Minefields", "Click on the position you wish to build the minefield."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[[_typeX,_positionTel,_quantity],"A3A_fnc_buildMinefield"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_typeX,_positionTel,_quantity],"<b>A3A_fnc_buildMinefield</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Move HQ", "Only Player Commander is allowed to move HQ assets"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!(isNull attachedTo _thingX)) exitWith {["Move HQ", "The asset you want to move is being moved by another player"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (vehicle _playerX != _playerX) exitWith {["Move HQ", "You cannot move HQ assets while in a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({!(isNull _x)} count (attachedObjects _playerX) != 0) exitWith {["Move HQ", "You have other things attached, you cannot move this"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>if (_playerX distance2D _positionX > _size) exitWith {["Move HQ", "This asset needs to be closer to it relative zone center to be able to be moved"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_thingX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)"];<br>-----------------------------------------------------<br>waitUntil {sleep 1; (_playerX != attachedTo _thingX) or (vehicle _playerX != _playerX) or (_playerX distance2D _positionX > (_size-3)) or !([_playerX] call <b>A3A_fnc_canFight</b>) or (!isPlayer _playerX)};<br>-----------------------------------------------------<br>if (vehicle _playerX != _playerX) exitWith {["Move HQ", "You cannot move HQ assets while in a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if  (_playerX distance2D _positionX > _size) exitWith {["Move HQ", "This asset cannot be moved more far away for its zone center"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[] remoteExecCall ["<b>A3A_fnc_saveLoop</b>", 2];<br>-----------------------------------------------------<br>[getPlayerUID player, player] remoteExecCall ["<b>A3A_fnc_savePlayer</b>", 2];<br>-----------------------------------------------------<br>if (player!= theBoss) exitWith {["Skip Time / Rest", "Only the Commander can order to rest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([500,1,_x,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) then {_presente = true};<br>-----------------------------------------------------<br>if (_presente) exitWith {["Skip Time / Rest", "You cannot rest while enemies are near our units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["rebelAttack"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while the enemy is counterattacking"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["invaderPunish"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while citizens are under attack"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (["DEF_HQ"] call BIS_fnc_taskExists) exitWith {["Skip Time / Rest", "You cannot rest while your HQ is under attack"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_checkX) exitWith {["Skip Time / Rest", "All players must be in a 100m radius from HQ to be able to rest"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Squad Options", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Squad Options", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Squad Options", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Squad Options", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Squad Recruit", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Squad Recruit", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Squad Recruit", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Squad Recruit", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKAT] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>) + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[player, _vehicleType, _amount] call <b>A3A_fnc_addToPersonalGarage</b>;<br>-----------------------------------------------------<br>private _isValidLocationArray = [vehPlace_callbackTarget, CALLBACK_VEH_IS_VALID_LOCATION, [_pos, _dir, _vehicleType]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _canPlaceArray = [vehPlace_callbackTarget, CALLBACK_CAN_PLACE_VEH , [_pos, _dir, _vehicleType]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _garageVeh = [vehPlace_callbackTarget, CALLBACK_VEH_CUSTOM_CREATE_VEHICLE, [_vehicleType, _pos, _dir]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACED_SUCCESSFULLY, [_garageVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehPlacementCleanup</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Garage", "Unable to open garage, you are already placing something"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && (not([player] call <b>A3A_fnc_isMember</b>))) exitWith {["Garage", "You cannot access the Garage as you are guest in this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && (not([player] call A3A_fnc_isMember))) exitWith {["Garage", "You cannot access the Garage as you are guest in this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (garage_mode == GARAGE_FACTION && !allowMembersFactionGarageAccess && player != theBoss) exitWith {["Garage", "Member access to the faction garage is disabled. You must be the commander."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable "owner") exitWith {["Garage", "You cannot access the Garage while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garage", "You cannot manage the Garage with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["Garage", "You cannot manage the Garage with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>} forEach (if (garage_mode == GARAGE_FACTION) then {vehInGarage} else {[] call <b>A3A_fnc_getPersonalGarageLocal</b>});<br>-----------------------------------------------------<br>if !(player inArea garage_nearestMarker) exitWith {["Garage", "You need to be close to one of your garrisons to be able to retrieve a vehicle from your garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_type] call <b>A3A_fnc_vehPlacementChangeVehicle</b>;<br>-----------------------------------------------------<br>[_type] call <b>A3A_fnc_vehPlacementChangeVehicle</b>;<br>-----------------------------------------------------<br>["Garage", format ["%1 is accessing the garage right now. Please try again later. If this is broken, ask the player to log out.", garageLocked select 0]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_initialType, "GARAGE", _extraMessage] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>if (side player != teamPlayer) exitWith {["Garage", "Only rebels can add vehicles to the garage."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_isMember</b>)) exitWith {["Garage", "Only server members have the garage feature enabled"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_isMember)) exitWith {["Garage", "Only server members have the garage feature enabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Garage", "You are not looking at a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _veh) exitWith {["Garage", "You cannot add destroyed vehicles to your garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_closeX isEqualTo []) exitWith {["Garage", format ["You and the vehicle need to be in a %1 garrison surrounding in order to garage a it",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({alive _x} count (crew vehicle _veh) > 0) exitWith {["Garage", "In order to store a vehicle, its crew must disembark."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "Man") exitWith {["Garage", "Are you kidding?"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(_veh isKindOf "AllVehicles") exitWith {["Garage", "The vehicle you are looking cannot be stored in our Garage"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_units findIf {_unit = _x; _players = allPlayers select {(side _x isEqualTo teamPlayer) && (player distance _x < 300)}; _players findIf {_x in (_unit targets [true, 300])} != -1} != -1) exitWith {["Garage", "You can't garage vehicles while enemies are engageing you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_units findIf{player distance _x < 100} != -1) exitWith {["Garage", "You can't garage vehicles while enemies are near you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (player distance _veh > 25) exitWith {["Garage", "You can't garage vehicles that are more than 25m away from you"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_pool and (count vehInGarage >= (tierWar *5))) exitWith {["Garage", "You cannot garage more vehicles at your current War Level"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!((count _personalGarage < personalGarageMax) or (personalGarageMax isEqualTo 0)) and !_pool) exitWith {["Garage", "Personal garage is full, you can't add more vehicles to it"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Garage", "You are not owner of this vehicle therefore you cannot garage it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Garage", format ["You cannot garage an air vehicle while you are not near an Aiport which belongs to %1. Place your HQ near an airbase flag in order to be able to garage it",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_veh,true] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["Garage", format ["Vehicle added to %1 Garage",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_typeVehX] call <b>A3A_fnc_addToPersonalGarageLocal</b>;<br>-----------------------------------------------------<br>["Garage", "Vehicle added to Personal Garage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_getPersonalGarage</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACEMENT_CANCELLED, []] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehPlacementCleanup</b>;<br>-----------------------------------------------------<br>[player, _garage] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Garage", "Unable to place vehicle, already placing a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_vehicleType] call <b>A3A_fnc_displayVehiclePlacementMessage</b>;<br>-----------------------------------------------------<br>["Garage", "Hover your mouse to the desired position. If it's safe and suitable, you will see the vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_attemptPlaceVehicle</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>[_typeX] call <b>A3A_fnc_displayVehiclePlacementMessage</b>;<br>-----------------------------------------------------<br>private _shouldCancelArray = [vehPlace_callbackTarget, CALLBACK_SHOULD_CANCEL_PLACEMENT, [vehPlace_previewVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>["Garage", (_shouldCancelArray select 1)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_handleVehPlacementCancelled</b>;<br>-----------------------------------------------------<br>private _isValidLocationArray = [vehPlace_callbackTarget, CALLBACK_VEH_IS_VALID_LOCATION, [_placementPos, getDir vehPlace_previewVeh, typeOf vehPlace_previewVeh]] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith<br>-----------------------------------------------------<br>[_garageVeh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>} forEach ([] call <b>A3A_fnc_getPersonalGarageLocal</b>);<br>-----------------------------------------------------<br>[_newArr] call <b>A3A_fnc_setPersonalGarageLocal</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith<br>-----------------------------------------------------<br>[_purchasedVeh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[0,(-1 * vehiclePurchase_cost)] spawn <b>A3A_fnc_resourcesFIA</b>;<br>-----------------------------------------------------<br>_nul = [0,(-1 * vehiclePurchase_cost)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]<br>-----------------------------------------------------<br>[-1 * vehiclePurchase_cost] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>["Construction", "Construction cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] spawn <b>A3A_fnc_buildCreateVehicleCallback</b>;<br>-----------------------------------------------------<br>[_vehicleType, _pos, _dir] call <b>A3A_fnc_placeEmptyVehicle</b>;<br>-----------------------------------------------------<br>[vehPlace_callbackTarget, CALLBACK_VEH_PLACEMENT_CLEANUP, []] call <b>A3A_fnc_vehPlacementCallbacks</b>;<br>-----------------------------------------------------<br>private _garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>private _requested = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_reinforcements = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>//[_reinforcements, "Reinf"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>//[_garrison, "Garrison"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>_countGarrison = count ([_marker] call <b>A3A_fnc_getGarrison</b>);<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_line = [_preferred select _i, _side] call <b>A3A_fnc_createGarrisonLine</b>;<br>-----------------------------------------------------<br>[_garrison, format ["%1_garrison", _marker]] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_marker] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>_vehicle = [_vehicleType, _side] call <b>A3A_fnc_selectVehicleType</b>;<br>-----------------------------------------------------<br>_crew = [_vehicle, _crewMember] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>_cargoGroup = [_vehicle, _data select 2, _side] call <b>A3A_fnc_selectGroupType</b>;<br>-----------------------------------------------------<br>_garrison = [_marker] call <b>A3A_fnc_getGarrison</b>;<br>-----------------------------------------------------<br>_neededReinf = [_marker] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_garrisonCount = [_garrison, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_reinfCount = [_neededReinf, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>_ratio = ["_marker"] call <b>A3A_fnc_getGarrisonRatio</b>;<br>-----------------------------------------------------<br>private _units = [_marker, _marker, false, true] call <b>A3A_fnc_selectReinfUnits</b>;<br>-----------------------------------------------------<br>[_marker, _units] call <b>A3A_fnc_addGarrison</b>;<br>-----------------------------------------------------<br>private _reinf = +([_target] call <b>A3A_fnc_getRequested</b>);<br>-----------------------------------------------------<br>private _maxRequested = [_reinf, false] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>[4, format ["Gathered data for unit selection, available are %1, %3 cargo units needed", _maxUnitSend, _maxCargoSpaceNeeded], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Reinforcments requested from %1 for: %2", _target, _reinf], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Tried to delete reinf vehicle, but couldn't find it after selection, vehicle was %1!", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "_neededCargoSpace is 0, something went really wrong!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["No reinf vehicle found, selecting not needed transport vehicle, needs space for %1 passengers", _neededCargoSpace], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected %1 as an air transport vehicle", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Selected %1 as an ground or air transport vehicle", _currentSelected], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _crew = [_currentSelected, _crewMember] call <b>A3A_fnc_getVehicleCrew</b>;<br>-----------------------------------------------------<br>[3, format ["Units selected, Vehicle is %1, crew is %2, cargo is %3", _currentSelected, _crew, _cargo], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["SelectVehicleType: Selecting vehicle now, preferred is %1, side is %2", _preference, _side], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["No result for %1, assuming bad parameter!", _preference], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["SelectVehicleType: Preselection done, possible vehicles are %1", str _possibleVehicles], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format ["Checking if %1 should reinforce %2", _base, _target], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if(!_isAirport && {(getMarkerPos _base) distance2D (getMarkerPos _target) > distanceForLandAttack || {!([_base, _target] call <b>A3A_fnc_isTheSameIsland</b>)}}) exitWith {false};<br>-----------------------------------------------------<br>_targetReinforcements = [_target] call <b>A3A_fnc_getRequested</b>;<br>-----------------------------------------------------<br>_reinfCount = [_targetReinforcements, true] call <b>A3A_fnc_countGarrison</b>;<br>-----------------------------------------------------<br>if(![_garData select 0, _preData select 0] call <b>A3A_fnc_checkVehicleType</b>) then<br>-----------------------------------------------------<br>_garData set [0, [_preData select 0, _side] call <b>A3A_fnc_selectVehicleType</b>];<br>-----------------------------------------------------<br>_garData set [1, [_garData select 0, _crew] call <b>A3A_fnc_getVehicleCrew</b>];<br>-----------------------------------------------------<br>_garData set [2, [_garData select 0, _preData select 2, _side] call <b>A3A_fnc_selectGroupType</b>];<br>-----------------------------------------------------<br>_line = [_preferred select _i, _side] call <b>A3A_fnc_createGarrisonLine</b>;<br>-----------------------------------------------------<br>[_marker, _line, -1, true] call <b>A3A_fnc_addRequested</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Airport_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Outpost_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference, "City_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_preference] call <b>A3A_fnc_updateVehicles</b>;<br>-----------------------------------------------------<br>[_preference, "Other_preference"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>private _ratio = [_marker] call <b>A3A_fnc_getGarrisonRatio</b>;<br>-----------------------------------------------------<br>["City Information", format ["%7<br/><br/>Total pop: %1<br/>%6 Support: %2<br/>%5 Support: %3 <br/><br/>Murdered Pop: %4<br/><br/>Click on the zone",_pop, _popFIA, _popAAF, _popCSAT,nameOccupants,nameTeamPlayer,worldName]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 HQ%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,nameTeamPlayer];<br>-----------------------------------------------------<br>_power = [_siteX] call <b>A3A_fnc_getSideRadioTowerInfluence</b>;<br>-----------------------------------------------------<br>_textX = format ["%1<br/><br/>Pop %2<br/>%6 Support: %3 %5<br/>%7 Support: %4 %5",[_siteX,false] call <b>A3A_fnc_location</b>,_numCiv,_prestigeOPFOR,_prestigeBLUFOR,"%",nameOccupants,nameTeamPlayer];<br>-----------------------------------------------------<br>if (sidesX getVariable [_siteX,sideUnknown] == teamPlayer) then {_textX = format ["%1<br/>%2",_textX,[_siteX] call <b>A3A_fnc_garrisonInfo</b>]};<br>-----------------------------------------------------<br>_busy = [_siteX,true] call <b>A3A_fnc_airportCanAttack</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 Airport%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Resources%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Factory%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_busy = [_siteX,true] call <b>A3A_fnc_airportCanAttack</b>;<br>-----------------------------------------------------<br>_textX = format ["%2 Grand Outpost%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Seaport%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>_textX = format ["%2 Roadblock%1",[_siteX] call <b>A3A_fnc_garrisonInfo</b>,_nameFaction];<br>-----------------------------------------------------<br>["City Information", _textX] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initACEUnconsciousHandler started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//		[3, format ["Unit type %1, side %2, realside %3, captive %4 knocked out", typeof _unit, side _unit, _realSide, str (captive _unit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>//	[3, format ["Unit type %1, side %2, realside %3, captive %4 waking up", typeof _unit, side _unit, _realSide, str (captive _unit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _unit];		// execute where unit is local<br>-----------------------------------------------------<br>if (side _x != civilian && _x != _unit && _dist < _minDist && {[_x] call <b>A3A_fnc_canFight</b>}) then {<br>-----------------------------------------------------<br>//	[3, format ["Nearest unit side = %1", str (side _nearestUnit)], "ace_unconscious handler"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_surrenderAction</b>", _unit];<br>-----------------------------------------------------<br>[2,"initACEUnconsciousHandler completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initClient started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_installSchrodingersBuildingFix</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initFuncs</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVar</b>;<br>-----------------------------------------------------<br>[2,format ["Headless client version: %1",localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_loadNavGrid</b>;<br>-----------------------------------------------------<br>[clientOwner] remoteExec ["<b>A3A_fnc_addHC</b>",2];<br>-----------------------------------------------------<br>[2,format ["MP client version: %1",localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Waiting for server...",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Server loaded!",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,format ["JIP client: %1",_isJIP],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_ambientCivs</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_playerMarkers</b>;<br>-----------------------------------------------------<br>[player] spawn <b>A3A_fnc_initRevive</b>;		// with ACE medical, only used for helmet popping & TK checks<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_tags</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_pvpCheck</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>if (hasACE) then {[] call <b>A3A_fnc_ACEpvpReDress</b>};<br>-----------------------------------------------------<br>player addEventHandler ["GetInMan", {_this call <b>A3A_fnc_ejectPvPPlayerIfInvalidVehicle</b>}];<br>-----------------------------------------------------<br>player addEventHandler ["SeatSwitchedMan", {[_this select 0, assignedVehicleRole (_this select 0) select 0, _this select 2] call <b>A3A_fnc_ejectPvPPlayerIfInvalidVehicle</b>}];<br>-----------------------------------------------------<br>["Ear Plugs", "You've taken out your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Ear Plugs", "You've inserted your ear plugs.", true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_dress</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_city] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;		// will flip/capture if already initialized<br>-----------------------------------------------------<br>if (_markersX findIf {_pos inArea _x} != -1) then {["Static Deployed", "Static weapon has been deployed for use in a nearby zone, and will be used by garrison militia if you leave it here the next time the zone spawns"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_bag1] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>[_bag2] remoteExec ["<b>A3A_fnc_postmortem</b>", 2];<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) then {<br>-----------------------------------------------------<br>["Warning", "You cannot board other player vehicle if you are not in the same group"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_goUndercover</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initUndercover</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) then {<br>-----------------------------------------------------<br>["General Info", "You are not in the member's list, but as you are Server Admin, you have been added. Welcome!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_nonMembers = {(side group _x == teamPlayer) and !([_x] call A3A_fnc_isMember)} count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>_nonMembers = {(side group _x == teamPlayer) and !([_x] call <b>A3A_fnc_isMember</b>)} count (call A3A_fnc_playableUnits);<br>-----------------------------------------------------<br>["General Info", "Welcome Guest<br/><br/>You have joined this server as guest"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_assignBossIfNone</b>", 2];<br>-----------------------------------------------------<br>[2,"Joining In Progress (JIP)",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Not Joining in Progress (JIP)",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_modBlacklist</b>;<br>-----------------------------------------------------<br>gameMenu = (findDisplay 46) displayAddEventHandler ["KeyDown",<b>A3A_fnc_keys</b>];<br>-----------------------------------------------------<br>[1, "ACE non-public functions have changed, rebel group join/leave actions will not be removed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>boxX addAction ["Transfer Vehicle cargo to Ammobox", {[] spawn <b>A3A_fnc_empty</b>;}, 4];<br>-----------------------------------------------------<br>boxX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn <b>A3A_fnc_unit_recruit</b>; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call A3A_fnc_customHint;} else { [] spawn A3A_fnc_unit_recruit; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Unit Recruitment", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Recruit Unit", "You cannot recruit units while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else { [] spawn A3A_fnc_unit_recruit; }},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)"];<br>-----------------------------------------------------<br>flagX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Heal, Repair and Rearm", <b>A3A_fnc_healAndRepair</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Vehicle Arsenal", <b>JN_fnc_arsenal_handleAction</b>, [], 0, true, false, "", "alive _target && vehicle _this != _this", 10];<br>-----------------------------------------------------<br>vehicleBox addAction ["Personal Garage", { [GARAGE_PERSONAL] spawn <b>A3A_fnc_garage</b> },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Faction Garage", { [GARAGE_FACTION] spawn <b>A3A_fnc_garage</b>; },nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Buy Vehicle", {if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) then {["Purchase Vehicle", "You cannot buy vehicles while there are enemies near you"] call A3A_fnc_customHint;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Buy Vehicle", {if ([player,300] call A3A_fnc_enemyNearCheck) then {["Purchase Vehicle", "You cannot buy vehicles while there are enemies near you"] call <b>A3A_fnc_customHint</b>;} else {nul = createDialog "vehicle_option"}},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>vehicleBox addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>[fireX, "fireX"] call <b>A3A_fnc_flagaction</b>;<br>-----------------------------------------------------<br>mapX addAction ["Game Options", {["Game Options", format ["Antistasi - %2<br/><br/>Version: %1<br/><br/>Difficulty: %3<br/>Unlock Weapon Number: %4<br/>Limited Fast Travel: %5",antistasiVersion,worldName,if (skillMult == 2) then {"Normal"} else {if (skillMult == 1) then {"Easy"} else {"Hard"}},minWeaps,if (limitedFT) then {"Yes"} else {"No"}]] call <b>A3A_fnc_customHint</b>; nul=CreateDialog "game_options";},nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>mapX addAction ["Map Info", <b>A3A_fnc_cityinfo</b>,nil,0,false,true,"","(isPlayer _this) and (_this == _this getVariable ['owner',objNull]) and (side (group _this) == teamPlayer)", 4];<br>-----------------------------------------------------<br>mapX addAction ["Move this asset", <b>A3A_fnc_moveHQObject</b>,nil,0,false,true,"","(_this == theBoss)", 4];<br>-----------------------------------------------------<br>if (isMultiplayer) then {mapX addAction ["AI Load Info", { [] remoteExec ["<b>A3A_fnc_AILoadInfo</b>",2];},nil,0,false,true,"","((_this == theBoss) || (serverCommandAvailable ""#logout""))"]};<br>-----------------------------------------------------<br>[petros,"remove"] call <b>A3A_fnc_flagaction</b>;		// in case we already created them in initserver<br>-----------------------------------------------------<br>[petros,"mission"] call <b>A3A_fnc_flagaction</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (isNil "playerPlacingHQ" || {!(playerPlacingHQ in (call <b>A3A_fnc_playableUnits</b>))}) then {<br>-----------------------------------------------------<br>call <b>A3A_fnc_placementSelection</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_createDialog_shouldLoadPersonalSave</b>;<br>-----------------------------------------------------<br>private _loadout = [getPlayerUID player, "loadoutPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[2,"initClient completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_singlePlayerBlackScreenWarning</b>;<br>-----------------------------------------------------<br>[2,"initFuncs started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initFuncs completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"InitGarrisons started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>_garrNum = ([_marker] call <b>A3A_fnc_garrisonSize</b>) / 8;<br>-----------------------------------------------------<br>[airportsX, "Airport", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[resourcesX, "Other", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[factories, "Other", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[outposts, "Outpost", [1,1,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[seaports, "Other", [1,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[citiesX, "City", [0,0,0]] call <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[2,"InitGarrisons completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Compiling mission path",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Mission path is valid",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Dedicated server detected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Server init started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Setting Singleplayer Params", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>loadLastSave = if (isNil "loadLastSave") then {[1, "No loadLastSave setting", _fileName] call <b>A3A_fnc_log</b>; true} else {loadLastSave};<br>-----------------------------------------------------<br>gameMode = if (isNil "gameMode") then {[1, "No gameMode setting", _fileName] call <b>A3A_fnc_log</b>; 1} else {gameMode};<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_crateLootParams</b>;<br>-----------------------------------------------------<br>if (loadLastSave && !isNil {["membersX"] call <b>A3A_fnc_returnSavedStat</b>}) exitWith {<br>-----------------------------------------------------<br>[2, "Loading last campaign, ID " + campaignID, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (loadLastSave && !isNil {["membersX"] call <b>A3A_fnc_returnSavedStat</b>}) exitWith {<br>-----------------------------------------------------<br>[2, "Loading campaign from saved list, ID " + campaignID, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Creating new campaign with ID " + campaignID, _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = call <b>A3A_fnc_initVar</b>;<br>-----------------------------------------------------<br>[2,format ["%1 server version: %2", ["SP","MP"] select isMultiplayer, localize "STR_antistasi_credits_generic_version_text"],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initFuncs</b>;<br>-----------------------------------------------------<br>if (hasACEMedical) then { call <b>A3A_fnc_initACEUnconsciousHandler</b> };<br>-----------------------------------------------------<br>call <b>A3A_fnc_loadNavGrid</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initZones</b>;<br>-----------------------------------------------------<br>waitUntil {count (call <b>A3A_fnc_playableUnits</b>) > 0};<br>-----------------------------------------------------<br>waitUntil {({(isPlayer _x) and (!isNull _x) and (_x == _x)} count allUnits) == (count (call <b>A3A_fnc_playableUnits</b>))};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_modBlacklist</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initGarrisons</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_loadServer</b>;<br>-----------------------------------------------------<br>[petros,"hint","Membership is enabled but members list is empty. Current players will be added to the member list", "Membership"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[2,"Previous data loaded",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Membership enabled, adding current players to list",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_isMember</b>) and (side _x == teamPlayer)) exitWith {<br>-----------------------------------------------------<br>if (([_x] call <b>A3A_fnc_isMember</b>) and (side _x == teamPlayer)) exitWith {theBoss = _x};<br>-----------------------------------------------------<br>[2,"New session selected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNil "commanderX" || {isNull commanderX}) then {commanderX = (call <b>A3A_fnc_playableUnits</b>) select 0};<br>-----------------------------------------------------<br>[theBoss,"CORPORAL"] remoteExec ["<b>A3A_fnc_ranksMP</b>"];<br>-----------------------------------------------------<br>[2,"Accepting players",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_x call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>[2,"Initial arsenal unlocks completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_createPetros</b>;<br>-----------------------------------------------------<br>[petros,"hint","Server load finished", "Server Information"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>addMissionEventHandler ["HandleDisconnect",{_this call <b>A3A_fnc_onPlayerDisconnect</b>;false}];<br>-----------------------------------------------------<br>addMissionEventHandler ["PlayerDisconnected",{_this call <b>A3A_fnc_onHeadlessClientDisconnect</b>;false}];<br>-----------------------------------------------------<br>[2,"Setting serverInitDone as true",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "Waiting for HQ placement", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, "HQ Placed, continuing init", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>distanceXs = [] spawn <b>A3A_fnc_distance</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_resourcecheck</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_aggressionUpdateLoop</b>;<br>-----------------------------------------------------<br>private _lastPlayerCount = count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>private _playerCount = count (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>[] remoteExecCall ["<b>A3A_fnc_saveLoop</b>", 2];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_spawnDebuggingLoop</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_logPerformance</b>;<br>-----------------------------------------------------<br>[2,"initServer completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVar started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarCommon</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarServer</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_initVarClient</b>;<br>-----------------------------------------------------<br>["Server Information", "Variables Init Completed"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"initVar completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarClient started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarClient completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarCommon started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting initial variables",_fileName] call <b>A3A_fnc_log</b>;													//Sets a log level for feedback, 1=Errors, 2=Information, 3=DEBUG<br>-----------------------------------------------------<br>[2,"Generating sides",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Declaring item categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Starting mod detection",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>//[2, "IFA Detected", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "IFA detected, but it is no longer supported, please remove this mod", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating building arrays",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Compiling sounds and animations",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating unit identities",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Checking mission path",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _getMissionPath = [] spawn <b>A3A_fnc_initGetMissionPath</b>;<br>-----------------------------------------------------<br>["ERROR", "Stuck on compiling missionPath, re-launch the mission."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[1,"Stuck on compiling missionPath, re-launch the mission.",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Server Information", "Done compiling missionPath"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"Done compiling missionPath",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting map configuration",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarCommon completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarServer started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initialising general server variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>DECLARE_SERVER_VAR(disabledMods, call <b>A3A_fnc_initDisabledMods</b>);<br>-----------------------------------------------------<br>DECLARE_SERVER_VAR(difficultyCoef, if !(isMultiplayer) then {0} else {floor ((({side group _x == teamPlayer} count (call <b>A3A_fnc_playableUnits</b>)) - ({side group _x != teamPlayer} count (call <b>A3A_fnc_playableUnits</b>))) / 5)});<br>-----------------------------------------------------<br>[2,"Setting server only variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initialising item categories",__FILE__] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Setting mod configs",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initializing TFAR settings","initVar.sqf"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating civilians",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Reading templates",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Sanity-checking templates",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isNil "_var") exitWith { [1, "Missing template var " + _varName, _filename] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>if !(_x isEqualType "") exitWith { [1, "Bad template var " + _varName, _filename] call <b>A3A_fnc_log</b> };<br>-----------------------------------------------------<br>[1, format ["Missing classnames: %1", _missingVars], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Miscased classnames: %1", _badCaseVars], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Creating civilian vehicles lists",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_configClass call <b>A3A_fnc_getModOfConfigClass</b> in disabledMods) then {false} else {true};<br>-----------------------------------------------------<br>[2,"Identifying unit types",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initializing hardcoded categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_categoryOverrides</b>;<br>-----------------------------------------------------<br>[2,"Scanning config entries for items",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[A3A_fnc_equipmentIsValidForCurrentModset] call <b>A3A_fnc_configSort</b>;<br>-----------------------------------------------------<br>[<b>A3A_fnc_equipmentIsValidForCurrentModset</b>] call A3A_fnc_configSort;<br>-----------------------------------------------------<br>[2,"Categorizing vehicle classes",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_vehicleSort</b>;<br>-----------------------------------------------------<br>[2,"Categorizing equipment classes",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_equipmentSort</b>;<br>-----------------------------------------------------<br>[2,"Sorting grouped class categories",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_itemSort</b>;<br>-----------------------------------------------------<br>[2,"Building loot lists",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_loot</b>;<br>-----------------------------------------------------<br>[2,"Identifying vehicle types",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_aceModCompat</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_rhsModCompat</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_ifaModCompat</b>;<br>-----------------------------------------------------<br>[2,"Creating pricelist",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Initialising Garrison Variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_initPreference</b>;<br>-----------------------------------------------------<br>[2,"Initialising Reinforcement Variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Sending server variables",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initVarServer completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"initZones started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_prepareMarkerArrays</b>;<br>-----------------------------------------------------<br>[2, format ["No roads found for marker %1, generating...", _nameX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Bad population count data for %1", _nameX], _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_x, false] spawn <b>A3A_fnc_blackout</b>;<br>-----------------------------------------------------<br>blackListDest = (markersX - controlsX - ["Synd_HQ"] - citiesX) select {!((position ([getMarkerPos _x] call <b>A3A_fnc_findNearestGoodRoad</b>)) inArea _x)};<br>-----------------------------------------------------<br>[petros, "hint","Zones Init Completed"] remoteExec ["<b>A3A_fnc_commsMP</b>", -2]<br>-----------------------------------------------------<br>[2,"initZones completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 0.5; (visibleMap or visibleGPS) and ([player] call <b>A3A_fnc_hasRadio</b>)};<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>//[_placementMarker, "Placements"] call <b>A3A_fnc_logArray</b>;<br>-----------------------------------------------------<br>[_x select 0, _x select 1] spawn <b>A3A_fnc_initSpawnPlaces</b>;<br>-----------------------------------------------------<br>gameMenu = (findDisplay 46) displayAddEventHandler ["KeyDown",<b>A3A_fnc_keys</b>];<br>-----------------------------------------------------<br>if (count _this == 0) then {["Server Information", "Reinitialised:<br/><br/>Special Keys<br/><br/>Statistics Report"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_radioTowerSide = [_city] call <b>A3A_fnc_getSideRadioTowerInfluence</b>;<br>-----------------------------------------------------<br>case teamPlayer: {[-1,_suppBoost,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>case Occupants: {[1,-1,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>case Invaders: {[-1,-1,_city] spawn <b>A3A_fnc_citySupportChange</b>};<br>-----------------------------------------------------<br>["TaskSucceeded", ["", format ["%1 joined %2",[_city, false] call <b>A3A_fnc_location</b>,nameTeamPlayer]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{_nul = [_city,_x] spawn <b>A3A_fnc_deleteControls</b>} forEach controlsX;<br>-----------------------------------------------------<br>_base = [_city] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[[_city,_base],"A3A_fnc_convoy"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_city,_base],"<b>A3A_fnc_convoy</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["%1 joined %2",[_city, false] call <b>A3A_fnc_location</b>,nameOccupants]]] remoteExec ["BIS_fnc_showNotification",teamPlayer];<br>-----------------------------------------------------<br>[[-10, 45], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_FIAradio</b>;<br>-----------------------------------------------------<br>_updated = [] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>[petros,"taxRep",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[petros,"taxRep",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_economicsAI</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_promotePlayer</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>difficultyCoef = floor ((({side group _x == teamPlayer} count (call <b>A3A_fnc_playableUnits</b>)) - ({side group _x != teamPlayer} count (call <b>A3A_fnc_playableUnits</b>))) / 5);<br>-----------------------------------------------------<br>if ((!bigAttackInProgress) and (random 100 < 50)) then {[] call <b>A3A_fnc_missionRequestAUTO</b>};<br>-----------------------------------------------------<br>//[[],"A3A_fnc_reinforcementsAI"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>//[[],"<b>A3A_fnc_reinforcementsAI</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_reinforcementsAI</b>;<br>-----------------------------------------------------<br>[[_potential select 0,_potential select 1],"A3A_fnc_REP_Antenna"] call <b>A3A_fnc_scheduler</b>;<br>-----------------------------------------------------<br>[[_potential select 0,_potential select 1],"<b>A3A_fnc_REP_Antenna</b>"] call A3A_fnc_scheduler;<br>-----------------------------------------------------<br>_nameX = [_x] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>if([_vehicle] call <b>A3A_fnc_vehAvailable</b>) then<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Large intel on %1 is selected as trap, spawning explosives", _marker], _fileName, true] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_intel, "Intel_Large"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _intel];<br>-----------------------------------------------------<br>[_intel, "Intel_Medium"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_intel];<br>-----------------------------------------------------<br>["Intel", "Intel documents taken"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _intelText = ["Medium", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[5,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[petros,"hint","The screen says:<br/><br/>Prepare to die!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x];<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([200, 0, _intel, teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[[_marker, _side, _attackType, _isLargeAttack],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_marker, _side, _attackType, _isLargeAttack],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>private _playerList = [20, 0, _intel, teamPlayer] call <b>A3A_fnc_distanceUnits</b>;<br>-----------------------------------------------------<br>if({[_x] call <b>A3A_fnc_canFight</b>} count _playerList == 0) exitWith<br>-----------------------------------------------------<br>[petros,"hint","No one in range of the intel, reseting download!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([300, 0, _intel, Invaders] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>} forEach ([300, 0, _intel, Occupants] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[petros,"intelError", _errorText] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>[petros,"hintS", format ["Download at %1%2",((round ((_pointSum/_neededPoints) * 10000))/ 100), "%"], "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]<br>-----------------------------------------------------<br>private _intelText = ["Large", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[petros,"hint","You managed to download the intel!", "Search Intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x];<br>-----------------------------------------------------<br>[10,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_intel,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[5, theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_intel, "Intel_Large"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian], _intel];<br>-----------------------------------------------------<br>([_caller] call <b>A3A_fnc_canFight</b>) &&                        //Caller is still able to fight<br>-----------------------------------------------------<br>([_caller] call <b>A3A_fnc_canFight</b>) &&                //Can fight<br>-----------------------------------------------------<br>["Intel", "Search cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_squadLeader, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_squadLeader];<br>-----------------------------------------------------<br>["Intel", "Search completed, intel found!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _intelText = ["Small", _side] call <b>A3A_fnc_selectIntel</b>;<br>-----------------------------------------------------<br>[_intelText] remoteExec ["<b>A3A_fnc_showIntel</b>", [teamPlayer, civilian]];<br>-----------------------------------------------------<br>[5,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([50,0,_caller,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>["Intel", "Search completed, but you found nothing!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_squadLeader, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_squadLeader];<br>-----------------------------------------------------<br>[1, "No intel type given!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "No side given!", _fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_CAR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_AIR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_HELI] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>_text = format ["%1 currently has access to<br/>%2", _sideName, ([_side, ACCESS_ARMOR] call <b>A3A_fnc_getVehicleIntel</b>)];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_cleanConvoyMarker</b>;<br>-----------------------------------------------------<br>[_newWeapon] remoteExec ["<b>A3A_fnc_unlockEquipment</b>", 2];<br>-----------------------------------------------------<br>[0, _money] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_official = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_pilot = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_pilot = [_grp, _typeX, _positionX, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_nul = [_x,""] call <b>A3A_fnc_NATOinit</b>; _x allowFleeing 0} forEach units _grp;<br>-----------------------------------------------------<br>["AS",[format ["A %4 officer is inspecting %1. Go there and kill him before %2:%3.",_nameDest,numberToDate [2035,_dateLimitNum] select 3,numberToDate [2035,_dateLimitNum] select 4,_naming],"Kill the Officer",_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,600] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[2400, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[0,300] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[1800, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>["TaskFailed", ["", format ["Officer killed at %1",[_nameDest, false] call <b>A3A_fnc_location</b>]]] remoteExec ["BIS_fnc_showNotification",_sideX];<br>-----------------------------------------------------<br>["AS",[format ["A %4 officer is inspecting %1. Go there and kill him before %2:%3.",_nameDest,numberToDate [2035,_dateLimitNum] select 3,numberToDate [2035,_dateLimitNum] select 4,_naming],"Kill the Officer",_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,-60] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>[-600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_markerX,-30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["AS",[format ["We have spotted a %3 SpecOp team patrolling around an %1. Ambush them and we will have one less problem. Do this before %2. Be careful, they are tough boys.",_nameDest,_displayTime],"SpecOps",_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["AS",[format ["We have spotted a %3 SpecOp team patrolling around an %1. Ambush them and we will have one less problem. Do this before %2. Be careful, they are tough boys.",_nameDest,_displayTime,_naming],"SpecOps",_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,400] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[1200, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[0,200] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[600, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[0, 0], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_radiusX = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_traitor = [_groupTraitor, NATOOfficer2, _posTraitor, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_sol1 = [_groupTraitor, NATOBodyG, _posSol1, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_sol2 = [_groupTraitor, NATOBodyG, _posSol2, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>{_nul = [_x,""] call <b>A3A_fnc_NATOinit</b>; _x allowFleeing 0} forEach units _groupTraitor;<br>-----------------------------------------------------<br>[_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_positionX,Occupants, NATOSquad] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>waitUntil {sleep 1; (traitorIntel) || {(dateToNumber date > _dateLimitNum) or {(not alive _traitor) or {({_traitor knowsAbout _x > 1.4} count ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0)}}}};<br>-----------------------------------------------------<br>if ({_traitor knowsAbout _x > 1.4} count ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) then<br>-----------------------------------------------------<br>["AS",[format ["A traitor has scheduled a meeting with %3 in %1. Kill him before he provides enough intel to give us trouble. Do this before %2. We don't where exactly this meeting will happen. You will recognise the building by the nearby Offroad and %3 presence.",_nameDest,_displayTime,nameOccupants],"Kill the Traitor",_markerX],_traitor,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["AS1",[format ["We arranged a meeting in %1 with a %3 contact who may have vital information about their Headquarters position. Protect him until %2.",_nameDest,_displayTime,nameTeamPlayer],"Protect Contact",_markerX],getPos _houseX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>{[petros,"hint","Someone found some intel on the traitors family, he will not cause any problems any more!"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([500,0,_traitor,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{[petros,"hint","Someone found some intel on the traitors family, he will not cause any problems any more!"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([500,0,_traitor,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[_traitor] call <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>[_traitor, "remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_traitor];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[15 * _factor, 120], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,300 * _factor] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[10 * _factor,_x] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ([_radiusX,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>[5 * _factor,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["AS",[format ["A traitor has scheduled a meeting with %3 in %1. Kill him before he provides enough intel to give us trouble. Do this before %2. We don't where exactly this meeting will happen. You will recognise the building by the nearby Offroad and %3 presence.",_nameDest,_displayTime,nameOccupants],"Kill the Traitor",_markerX],_traitor,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["AS1",[format ["We arranged a meeting in %1 with a %3 contact who may have vital information about their Headquarters position. Protect him until %2.",_nameDest,_displayTime,nameTeamPlayer],"Protect Contact",_markerX],getPos _houseX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>if (_difficultX) then {[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>} else {[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>};<br>-----------------------------------------------------<br>[-1*(round(_hrT/3)),-1*(round(_resourcesFIAT/3))] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[Occupants],"A3A_fnc_attackHQ"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[Occupants],"<b>A3A_fnc_attackHQ</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>_nul = [1200,"AS"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [10,"AS1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>[_groupTraitor] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_typesVeh = _typesVeh select {[_x] call <b>A3A_fnc_vehAvailable</b>};<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _heliCrew;<br>-----------------------------------------------------<br>[_heli, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_heli,"Air Attack"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX = [_posOrigin, _sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _heli; _x moveInCargo _heli; _soldiers pushBack _x; [_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>//[_heli,"Air Transport"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>[_heli,_groupX,_positionX,_posOrigin] spawn <b>A3A_fnc_airdrop</b>;<br>-----------------------------------------------------<br>[_heli,_groupX,_positionX,_posOrigin,_groupHeli] spawn <b>A3A_fnc_fastrope</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;({[_x] call <b>A3A_fnc_canFight</b>} count _soldiers < {!([_x] call <b>A3A_fnc_canFight</b>)} count _soldiers) or (_positionX distance getMarkerPos respawnTeamPlayer > 999) or (!alive petros)};<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill %1. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill Maru. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[_sideX],[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ",[format ["Enemy knows our HQ coordinates. They have sent a SpecOp Squad in order to kill %1. Intercept them and kill them. Or you may move our HQ 1Km away so they will loose track",name petros],format ["Defend %1",name petros],respawnTeamPlayer],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DEF_HQ1",[format ["We know %2 HQ coordinates. We have sent a SpecOp Squad in order to kill his leader %1. Help the SpecOp team",name petros,nameTeamPlayer],format ["Kill %1",name petros],respawnTeamPlayer],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[10, 60], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[5, 60], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,300] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[-5,5,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>_nul = [1200,"DEF_HQ"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"DEF_HQ1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_x] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>if (_mrkDest in outposts) then {if (((count (garrison getVariable [_mrkDest, []]))/2) >= [_mrkDest] call <b>A3A_fnc_garrisonSize</b>) then {_convoyTypes pushBack "Reinforcements"}};<br>-----------------------------------------------------<br>if (((count (garrison getVariable [_mrkDest, []]))/2) >= [_mrkDest] call <b>A3A_fnc_garrisonSize</b>) then {_convoyTypes pushBack "Reinforcements"};<br>-----------------------------------------------------<br>private _displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>private _nameDest = [_mrkDest] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>private _nameOrigin = [_mrkOrigin] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_mrkOrigin,30] call <b>A3A_fnc_addTimeForIdle</b>;<br>-----------------------------------------------------<br>private _spawnRoad = [getMarkerPos _mrkOrigin] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_posOrig = [[_posOrig] call <b>A3A_fnc_findNearestNavPoint</b>] call A3A_fnc_getNavPos;<br>-----------------------------------------------------<br>_posOrig = [[_posOrig] call A3A_fnc_findNearestNavPoint] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>private _route = [_posOrig, _posDest] call <b>A3A_fnc_findPath</b>;<br>-----------------------------------------------------<br>private _vehPool = [_sideX, ["Air"]] call <b>A3A_fnc_getVehiclePoolForQRFs</b>;<br>-----------------------------------------------------<br>if (side _group != civilian) then { [_x] call <b>A3A_fnc_NATOinit</b> };<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_veh, _markName] spawn <b>A3A_fnc_inmuneConvoy</b>;			// NOTE: should not be called unless moving within 60s<br>-----------------------------------------------------<br>private _typeGroup = [_typeVehEsc,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>private _unit = [_grpPOW, SDKUnarmed, _posOrigin, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"refugee"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>private _typeGroup = [_typeVehObj,_sideX] call <b>A3A_fnc_cargoSeats</b>;<br>-----------------------------------------------------<br>private _groupEsc = [_posOrigin,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>;_x assignAsCargo _veh;_x moveInCargo _veh;} forEach units _groupEsc;<br>-----------------------------------------------------<br>[_adjustCA, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>", 2];<br>-----------------------------------------------------<br>[_adjustBoss, theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_aggroMod, _aggroTime], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>", 2]<br>-----------------------------------------------------<br>[[0, 0], [_aggroMod, _aggroTime]] remoteExec ["<b>A3A_fnc_prestige</b>", 2]<br>-----------------------------------------------------<br>[3, _eventText, "aggroEvent"] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_vehObj,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_vehObj,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,5*_bonus,_posDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_vehObj,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_vehObj,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[_countX,_countX*300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_posOrigin] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{[_countX,_x] call <b>A3A_fnc_playerScoreAdd</b>} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[0,10*_bonus,_posOrigin] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[_typesX,_sideX,_mrkDest,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,5000*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[getPosASL _vehObj,_sideX,"",false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>[0,15*_bonus,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _vehObj < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,-10*_bonus,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[15*_bonus,0,_mrkDest] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>["CONVOY",[_textX,_taskTitle,_mrkDest],_posDest,_taskState] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["CONVOY1",[format ["A convoy from %1 to %3, it's about to depart at %2. Protect it from any possible attack.",_nameOrigin,_displayTime,_nameDest],"Protect Convoy",_mrkDest],_posDest,_taskState1] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [600,"CONVOY"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"CONVOY1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groups;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_VEHdespawner</b> } forEach _vehiclesX;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["CON",[_textX,_taskName,_markerX],_positionX,"FAILED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-1200, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["CON",[_textX,_taskName,_markerX],_positionX,"SUCCEEDED"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,400] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-10,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[1200, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[20,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[20,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[0,200] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[600, _markerSide] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call A3A_fnc_playerScoreAdd}} forEach ([500,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach ([500,0,_positionX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>[10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"CON"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>["DES",[format ["We need to destroy or take a Radio Tower in %1. This will interrupt %3 Propaganda Nework. Do it before %2.",_nameDest,_displayTime,nameOccupants],"Destroy Radio Tower",_mrkFinal],_positionX,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[-5, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[0, 0], [-5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>["DES",[format ["We need to destroy or take a Radio Tower in %1. This will interrupt %3 Propaganda Nework. Do it before %2.",_nameDest,_displayTime,nameOccupants],"Destroy Radio Tower",_mrkFinal],_positionX,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[-5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[15, 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [15, 90]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[600*_bonus, _side] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _positionX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameXbase = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_veh] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_veh,"Escort"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>_groupX = [_positionX, _sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{_x assignAsCargo _veh; _x moveInCargo _veh; _soldiers pushBack _x; [_x] join _groupVeh; [_x] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>[_vehT] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>//[_vehT,"Recover Truck"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrewT;<br>-----------------------------------------------------<br>["DES",[format ["We have downed air vehicle. It is a good chance to destroy it before it is recovered. Do it before a recovery team from the %1 reaches the place. MOVE QUICKLY",_nameXbase],"Destroy Air",_mrkFinal],_posCrashMrk,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [15, 90]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[[15, 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>[1800*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _heli < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["DES1",[format ["The rebels managed to shot down a helicopter. A recovery team departing from the %1 is inbound to recover it. Cover them while they perform the whole operation",_nameXbase],"Helicopter Down",_mrkFinal],_posCrash,"FAILED","Defend"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DES",[format ["We have downed air vehicle. It is a good chance to destroy it before it is recovered. Do it before a recovery team from the %1 reaches the place. MOVE QUICKLY",_nameXbase],"Destroy Air",_mrkFinal],_posCrashMrk,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>["DES1",[format ["The rebels managed to shot down a helicopter. A recovery team departing from the %1 is inbound to recover it. Cover them while they perform the whole operation",_nameXbase],"Helicopter Down",_mrkFinal],_posCrash,"SUCCEEDED","Defend"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-600*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nul = [0,"DES1"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;(!([distanceSPWN,1,_x,teamPlayer] call <b>A3A_fnc_distanceUnits</b>))};<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, _typeX, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,""] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;({leader _groupX knowsAbout _x > 1.4} count ([distanceSPWN,0,leader _groupX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) or (dateToNumber date > _dateLimitNum) or (not alive _veh) or ({(_x getVariable ["spawner",false]) and (side group _x == teamPlayer)} count crew _veh > 0)};<br>-----------------------------------------------------<br>if ({leader _groupX knowsAbout _x > 1.4} count ([distanceSPWN,0,leader _groupX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) > 0) then {_groupX addVehicle _veh;};<br>-----------------------------------------------------<br>["DES",[format ["We know an enemy armor (%3) is stationed in a %1. It is a good chance to steal or destroy it before it causes more damage. Do it before %2.",_nameDest,_displayTime,getText (configFile >> "CfgVehicles" >> (_typeVehX) >> "displayName")],"Steal or Destroy Armor",_markerX],_positionX,"SUCCEEDED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>[[10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[0,5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2]<br>-----------------------------------------------------<br>[1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["DES",[format ["We know an enemy armor (%3) is stationed in a %1. It is a good chance to steal or destroy it before it causes more damage. Do it before %2.",_nameDest,_displayTime,getText (configFile >> "CfgVehicles" >> (_typeVehX) >> "displayName")],"Steal or Destroy Armor",_markerX],_positionX,"FAILED","Destroy"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-5*_bonus,-100*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[5*_bonus,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"DES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_road = [_positionX] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>[_truckX] spawn <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[_truckX, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [_pos,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>_groupX1 = [_pos,_sideX,_typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX1;<br>-----------------------------------------------------<br>[getPosASL _vehicle, _owningSide, "", false] spawn <b>A3A_fnc_patrolCA</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"SUCCEEDED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _truckX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We've spotted an Ammotruck in an %1. Go there and destroy or steal it before %2.",_nameDest,_displayTime],"Steal or Destroy Ammotruck",_markerX],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1200*_bonus, _sideX] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>[_groupX1] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_city] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>["Bank Mission", _textX] remoteExecCall ["<b>A3A_fnc_customHint</b>", _this select 2];<br>-----------------------------------------------------<br>[_truckX,"Mission Vehicle"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>_groupX = if (_difficultX) then {[_positionX,Occupants, groupsNATOSentry] call <b>A3A_fnc_spawnGroup</b>} else {[_positionX,Occupants, groupsNATOGen] call <b>A3A_fnc_spawnGroup</b>};<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"FAILED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",true],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",true],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[10*_bonus,-20*_bonus,_markerX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>} forEach ([distanceSPWN,0,_positionX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (_truckX distance _positionX > 6) then {{[petros,"hint","Don't get the truck far from the bank or count will restart", "Bank Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([200,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)};<br>-----------------------------------------------------<br>if (_truckX distance _positionX > 6) then {{[petros,"hint","Don't get the truck far from the bank or count will restart", "Bank Mission"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([200,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)};<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"hint","Drive the Truck back to base to finish this mission", "Bank Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"hint","Drive the Truck back to base to finish this mission", "Bank Mission"] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"SUCCEEDED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,5000*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[20 * _bonus, 120], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _truckX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_truckX] call <b>A3A_fnc_empty</b>;<br>-----------------------------------------------------<br>["LOG",[format ["We know Gendarmes is guarding a large amount of money in the bank of %1. Take this truck and go there before %2, hold the truck close to tha bank's main entrance for 2 minutes and the money will be transferred to the truck. Bring it back to HQ and the money will be ours.",_nameDest,_displayTime],"Bank Robbery",_mrkFinal],_positionX,"FAILED","Interact"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[1800*_bonus, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{ [_x] spawn <b>A3A_fnc_groupDespawner</b> } forEach _groups;<br>-----------------------------------------------------<br>[2, format ["Creating Salvage mission"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Salvage Mission Positions: %1, %2, %3", _mrk1Pos, _mrk2Pos, _mrk3Pos], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>private _nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_SalvageRope</b>", 0, true];<br>-----------------------------------------------------<br>[3, format ["Mission created, waiting for players to get near"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["players in spawning range, starting spawning"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_crateContents call <b>A3A_fnc_fillLootCrate</b>;<br>-----------------------------------------------------<br>[3, format ["Box spawned"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Spawning patrol boat and crew"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_veh, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>private _vehCrewGroup = [_positionX,_sideX, _typeGroup] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach _vehCrew;<br>-----------------------------------------------------<br>[3, format ["Waiting for salvage mission end"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["LOG",[ _text, _title,[_mrk1, _mrk2, _mrk3]],_positionX,"FAILED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[2, format ["Mission Failed"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["LOG",[ _text, _title,[_mrk1, _mrk2, _mrk3]],_positionX,"SUCCEEDED","rearm"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[0,300*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _box < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[2, format ["Mission Succeeded"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[3, format ["set delete task timer"], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_vehCrewGroup] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>["Logistics Mission", _text] remoteExecCall ["<b>A3A_fnc_customHint</b>",_this select 2];	//This need a rework<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[_truckX,"Supply Box"] spawn <b>A3A_fnc_inmuneConvoy</b>;<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"FAILED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[5*_bonus,-5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_positionX,Occupants,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>} forEach ([300,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>while {(_countX > 0) and (_truckX distance _positionX < 40) and ({[_x] call A3A_fnc_canFight} count ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) == count ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0) and (dateToNumber date < _dateLimitNum) and (isNull attachedTo _truckX)} do<br>-----------------------------------------------------<br>while {(_countX > 0) and (_truckX distance _positionX < 40) and ({[_x] call <b>A3A_fnc_canFight</b>} count ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits) == count ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0) and (dateToNumber date < _dateLimitNum) and (isNull attachedTo _truckX)} do<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]}} forEach ([80,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits);<br>-----------------------------------------------------<br>{if (isPlayer _x) then {[petros,"countdown",_formatX] remoteExec ["A3A_fnc_commsMP",_x]}} forEach ([80,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>);<br>-----------------------------------------------------<br>if (((_truckX distance _positionX > 40) or (not([80,1,_truckX,teamPlayer] call A3A_fnc_distanceUnits)) or ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits != 0)) and (alive _truckX)) then {{[petros,"hint","Stay close to the crate, and clean all BLUFOR presence in the surroundings or count will restart", "Logistics Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",_x]} forEach ([100,0,_truckX,teamPlayer] call A3A_fnc_distanceUnits)};<br>-----------------------------------------------------<br>if (((_truckX distance _positionX > 40) or (not([80,1,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) or ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits != 0)) and (alive _truckX)) then {{[petros,"hint","Stay close to the crate, and clean all BLUFOR presence in the surroundings or count will restart", "Logistics Mission"] remoteExec ["A3A_fnc_commsMP",_x]} forEach ([100,0,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)};<br>-----------------------------------------------------<br>waitUntil {sleep 1; ((_truckX distance _positionX < 40) and ([80,1,_truckX,teamPlayer] call <b>A3A_fnc_distanceUnits</b>) and ({(side _x == Occupants) and (_x distance _truckX < 50)} count allUnits == 0)) or (dateToNumber date > _dateLimitNum) or (isNull _truckX)};<br>-----------------------------------------------------<br>[petros,"hint","Supplies Delivered", "Logistics Mission"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"SUCCEEDED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>{if (_x distance _positionX < 500) then {[10*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[-1*(20-skillFIA),15*_bonus,_markerX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[[-25, 90], [-10, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>["LOG",[_taskDescription,"City Supplies",_markerX],_positionX,"FAILED","Heal"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[5*_bonus,-5*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_emptybox] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>_nul = [1200,"LOG"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>if ([_typeX] call BIS_fnc_taskExists) exitWith {if (!_silencio) then {[petros,"globalChat","I already gave you a mission of this type"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]}};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no assasination missions for you. Move our HQ closer to the enemy or finish some other assasination missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Assasination Missions require cities, Patrolled Jungles or Airports closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_AS_Official"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_AS_Traitor"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"<b>A3A_fnc_AS_Official</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_AS_Traitor"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_AS_Official"] remoteExec ["A3A_fnc_scheduler",2]} else {if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_AS_Traitor</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_AS_SpecOP"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no Conquest missions for you. Move our HQ closer to the enemy or finish some other conquest missions in order to have better intel."] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Conquest Missions require roadblocks or outposts closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[[_siteX],"A3A_fnc_CON_Outpost"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_siteX],"<b>A3A_fnc_CON_Outpost</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[petros,"globalChat","I have no destroy missions for you. Move our HQ closer to the enemy or finish some other destroy missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Destroy Missions require Airbases or Radio Towers closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_DES_Heli"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}};<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"<b>A3A_fnc_DES_Heli</b>"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>//		if (_siteX in airportsX) then {if (random 10 < 8) then {[[_siteX],"<b>A3A_fnc_DES_Vehicle</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_DES_Heli"] remoteExec ["A3A_fnc_scheduler",2]}};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"A3A_fnc_DES_Vehicle"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in airportsX) then {[[_siteX],"<b>A3A_fnc_DES_Vehicle</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in antennas) then {[[_siteX],"DES_antenna"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]}<br>-----------------------------------------------------<br>if ([_pos,_posbase] call <b>A3A_fnc_isTheSameIsland</b>) then {_potentials pushBack _siteX};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no logistics missions for you. Move our HQ closer to the enemy or finish some other logistics missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Logistics Missions require Outposts, Cities or Banks closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_LOG_Supplies"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_LOG_Supplies</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in outposts) then {[[_siteX],"A3A_fnc_LOG_Ammo"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in outposts) then {[[_siteX],"<b>A3A_fnc_LOG_Ammo</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in banks) then {[[_siteX],"A3A_fnc_LOG_Bank"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in banks) then {[[_siteX],"<b>A3A_fnc_LOG_Bank</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in Seaports) then {[[_siteX],"A3A_fnc_LOG_Salvage"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in Seaports) then {[[_siteX],"<b>A3A_fnc_LOG_Salvage</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>[petros,"globalChat","I have no rescue missions for you. Move our HQ closer to the enemy or finish some other rescue missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Rescue Missions require Cities or Airports closer than 4Km from your HQ.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_RES_Refugees"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]} else {[[_siteX],"A3A_fnc_RES_Prisoners"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"A3A_fnc_RES_Refugees"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"<b>A3A_fnc_RES_Prisoners</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>if (_siteX in citiesX) then {[[_siteX],"<b>A3A_fnc_RES_Refugees</b>"] remoteExec ["A3A_fnc_scheduler",2]} else {[[_siteX],"A3A_fnc_RES_Prisoners"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>_base = [_siteX] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[petros,"globalChat","I have no Convoy missions for you. Move our HQ closer to the enemy or finish some other missions in order to have better intel"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Convoy Missions require Airports or Cities closer than 5Km from your HQ, and they must have an idle friendly base in their surroundings.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>_base = [_siteX] call <b>A3A_fnc_findBasesForConvoy</b>;<br>-----------------------------------------------------<br>[[_siteX,_base],"A3A_fnc_convoy"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[_siteX,_base],"<b>A3A_fnc_convoy</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>[petros,"globalChat","There is a big battle around, I don't think the enemy will send any convoy"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>[petros,"hint","Convoy Missions require a calmed status around the island, and now it is not the proper time.", "Missions"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss];<br>-----------------------------------------------------<br>if ((count _potentials > 0) and (!_silencio)) then {[petros,"globalChat","I have a mission for you"] remoteExec ["<b>A3A_fnc_commsMP</b>",theBoss]};<br>-----------------------------------------------------<br>_nul = [_typeX,true] call <b>A3A_fnc_missionRequest</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_road = [getPos _antennaDead] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_nul = [_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, NATOCrew, _pos, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,""] call <b>A3A_fnc_NATOinit</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[15, 90], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1200, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[[15, 90], [5, 60]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[1200, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance _veh < 500) then {[10,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[5,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>//[5,0,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[-600, Occupants] remoteExec ["<b>A3A_fnc_timingCA</b>",2];<br>-----------------------------------------------------<br>[-10,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[_antennaDead] remoteExec ["<b>A3A_fnc_rebuildRadioTower</b>", 2];<br>-----------------------------------------------------<br>_nul = [30,"REP"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_unit = [_grpPOW, SDKUnarmed, (_posHouse select _i), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"prisonerX"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>["RES",[format ["A group of POWs is awaiting for execution in %1. We must rescue them before %2. Bring them to HQ",_nameDest,_displayTime],"POW Rescue",_markerX],_positionX,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[format ["A group of POWs is awaiting for execution in %1. We must rescue them before %2. Bring them to HQ",_nameDest,_displayTime],"POW Rescue",_markerX],_positionX,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[0,10*_bonus,_positionX] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-(_countX * 1.5), 90], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>_nul = [1200,"RES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_radiusX = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>_displayTime = [_dateLimit] call <b>A3A_fnc_dateToTimeString</b>;//Converts the time portion of the date array to a string for clarity in hints<br>-----------------------------------------------------<br>_unit = [_groupPOW, SDKUnarmed, _posHouse select _i, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_unit,"refugee"] remoteExec ["<b>A3A_fnc_flagaction</b>",[teamPlayer,civilian],_unit];<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_reDress</b>;<br>-----------------------------------------------------<br>_airportsX = airportsX select {(sidesX getVariable [_x,sideUnknown] == Invaders) and ([_x,true] call <b>A3A_fnc_airportCanAttack</b>)};<br>-----------------------------------------------------<br>[[getPosASL _houseX,_airportX,"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2];<br>-----------------------------------------------------<br>[[getPosASL _houseX,_airportX,"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2];<br>-----------------------------------------------------<br>_nul = [_veh, Occupants] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>_groupX = [getPos _houseX,Occupants, NATOSquad] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_groupX = [getPos _houseX,Occupants,[policeOfficer,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt,policeGrunt]] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_dog = [_groupX, "Fin_random_F",_positionX,[],0,"FORM"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>[_dog] spawn <b>A3A_fnc_guardDog</b>;<br>-----------------------------------------------------<br>{[_x,""] call <b>A3A_fnc_NATOinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>_groupX1 = [_houseX buildingExit 0, Occupants, groupsNATOGen] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[[-10, 60], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"FAILED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[-10*_bonus,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>["RES",[_textX,"Refugees Evac",_nameDest],_posTsk,"SUCCEEDED","run"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>[_hr,_resourcesFIA*_bonus] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>{if (_x distance getMarkerPos respawnTeamPlayer < 500) then {[_countX*_bonus,_x] call <b>A3A_fnc_playerScoreAdd</b>}} forEach (allPlayers - (entities "HeadlessClient_F"));<br>-----------------------------------------------------<br>[round (_countX*_bonus/2),theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>if (!isNull _groupX1) then { [_groupX1] spawn <b>A3A_fnc_groupDespawner</b> };<br>-----------------------------------------------------<br>[_groupX] spawn <b>A3A_fnc_groupDespawner</b>;<br>-----------------------------------------------------<br>_nul = [1200,"RES"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>_nameDest = [_markerX] call <b>A3A_fnc_localizar</b>;<br>-----------------------------------------------------<br>[2,format ["Disabled DLC: %1",_disabledMods],_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Not attempting to assign new boss - player %1 is the boss", theBoss],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _members = (call <b>A3A_fnc_playableUnits</b>) select { [_x] call A3A_fnc_isMember };<br>-----------------------------------------------------<br>private _members = (call A3A_fnc_playableUnits) select { [_x] call <b>A3A_fnc_isMember</b> };<br>-----------------------------------------------------<br>[3, format ["Attempting to assign new boss, checking %1 members for next Boss.", count _members],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player %1 is eligible", _x],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _dataX = [_x] call <b>A3A_fnc_numericRank</b>;<br>-----------------------------------------------------<br>[3, format ["Current boss rank: %1, player rank: %2", _bossRank, _playerRank],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["Player %1 is not eligible", _x],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Player chosen for Boss: %1", _nextBoss],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_nextBoss] call <b>A3A_fnc_theBossTransfer</b>;<br>-----------------------------------------------------<br>[2, "Couldn't select a new boss - no eligible candidates.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!isNil "theBoss" && {!isNull theBoss}) then { [] call <b>A3A_fnc_theBossTransfer</b> };<br>-----------------------------------------------------<br>if (_resourcesPlayer < 100) exitWith {["Donate Money", "You have less than 100 â‚¬ to donate"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[0,100] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["Donate Money", "You have donated 100 â‚¬ to the cause. This will raise your status among our forces"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (!isPlayer _target) exitWith {["Donate Money", "You must be looking to a player in order to give him money"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>[100] remoteExec ["<b>A3A_fnc_resourcesPlayer</b>", _target];<br>-----------------------------------------------------<br>["Donate Money", format ["You have donated 100 â‚¬ to %1", name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[3, format ["Attempting to make %1 the boss", _player], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (_player getVariable ["eligible",false] && (side (group _player) == teamPlayer) && [_player] call <b>A3A_fnc_isMember</b>) exitWith {<br>-----------------------------------------------------<br>[3, "Player is eligible, making them the boss", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_player] call <b>A3A_fnc_theBossTransfer</b>;<br>-----------------------------------------------------<br>[3, "Player is not eligible, unable to make them the boss", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!(serverCommandAvailable "#logout") and (!isServer)) exitWith {["Membership", "Only Server Admins or hosters can add a new member"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(membershipEnabled) exitWith {["Membership", "Server Member feature is disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isNil "membersX") exitWith {["Membership", "Membership feature not yet initialised. Please try again later"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!isPlayer _target) exitWith {["Membership", "You are not pointing to anyone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_this select 0 == "add") and ([_target] call <b>A3A_fnc_isMember</b>)) exitWith {["Membership", "The player is already a member of this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ((_this select 0 == "add") and ([_target] call A3A_fnc_isMember)) exitWith {["Membership", "The player is already a member of this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_this select 0 == "remove") and  !([_target] call <b>A3A_fnc_isMember</b>)) exitWith {["Membership", "The player is not a member of this server"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ((_this select 0 == "remove") and  !([_target] call A3A_fnc_isMember)) exitWith {["Membership", "The player is not a member of this server"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Membership", format ["%1 has been added to the Server Members List",name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Membership", "You have been added to the Server Members list"] remoteExec ["<b>A3A_fnc_customHint</b>", _target];<br>-----------------------------------------------------<br>["Membership", format ["%1 has been removed from the Server Members List",name _target]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Membership", "You have been removed from the Server Members list"] remoteExec ["<b>A3A_fnc_customHint</b>", _target];<br>-----------------------------------------------------<br>if !(membershipEnabled) exitWith {["Membership", "Server Member feature is disabled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_playerX] call <b>A3A_fnc_isMember</b>) then {_textX = format ["%1%2<br/>",_textX,name _playerX]} else {_countN = _countN + 1};<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>["Membership", _textX] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[petros,"income",_textX] remoteExec ["<b>A3A_fnc_commsMP</b>",_playerX];<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",_playerX];<br>-----------------------------------------------------<br>if (_pointsX != 1) then {[0,(_pointsX * 5)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]} else {[0,20-(tierWar * 2)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]};<br>-----------------------------------------------------<br>[3, format ["Working on player ranks"],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _dataX = [_player] call <b>A3A_fnc_numericRank</b>;<br>-----------------------------------------------------<br>[_player,_newRank] remoteExec ["<b>A3A_fnc_ranksMP</b>"];<br>-----------------------------------------------------<br>[-1*(50*_multiplier),_player] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>} forEach ((call <b>A3A_fnc_playableUnits</b>) select {(side (group _x) == teamPlayer)});<br>-----------------------------------------------------<br>[3, _textX, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[petros,"hint",_textX, "Promotion"] remoteExec ["<b>A3A_fnc_commsMP</b>"];<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < 100) exitWith {["Money Grab", "FIA has not enough resources to grab"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[-2,theBoss] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[100] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["Money Grab", format ["You grabbed 100 â‚¬ from the %1 Money Pool.<br/><br/>This will affect your prestige and status among %1 forces",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ([_newBoss] call <b>A3A_fnc_makePlayerBossIfEligible</b>) then {<br>-----------------------------------------------------<br>["Commander", _text] remoteExec ["<b>A3A_fnc_customHint</b>", _playerX];<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_assignBossIfNone</b>;<br>-----------------------------------------------------<br>[3, format ["Removing %1 from Boss roles.", theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!_silent) then {[petros,"hint",_textX, "New Commander"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>[3, "Found previous HC groups, transferring.", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, "No previous HC groups found, scanning all groups.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3, format ["New boss %1 set.", theBoss], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (!_silent) then {[petros,"hint",_textX, "New Commander"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0]};<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>if (!_silent) then { [petros,"tier",""] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]] };<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_updatePreference</b>;<br>-----------------------------------------------------<br>//[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>_mainMarker = [_pos] call <b>A3A_fnc_getClosestMainMarker</b>;<br>-----------------------------------------------------<br>_startNav = [_startPos] call <b>A3A_fnc_findNearestNavPoint</b>;<br>-----------------------------------------------------<br>_endNav = [_endPos] call <b>A3A_fnc_findNearestNavPoint</b>;<br>-----------------------------------------------------<br>_targetNavPos = [_startNav] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_startNavPos = [_endNav] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_openList pushBack [_endNav, 0, [_startNavPos, _targetNavPos] call <b>A3A_fnc_calculateH</b>, "End"];<br>-----------------------------------------------------<br>_nextNodes = [_next select 0] call <b>A3A_fnc_getNavConnections</b>;<br>-----------------------------------------------------<br>_nextPos = [_next select 0] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_conPos = [_conName] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>_h = [_conPos, _targetNavPos] call <b>A3A_fnc_calculateH</b>;<br>-----------------------------------------------------<br>_lastPos = [_lastNav select 0] call <b>A3A_fnc_getNavPos</b>;<br>-----------------------------------------------------<br>[2, "Started loading nav grid", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Road database at %1 could not be loaded", _path], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _mainMarkers = [_position] call <b>A3A_fnc_getMainMarkers</b>;<br>-----------------------------------------------------<br>[_index, _x] call <b>A3A_fnc_setNavOnMarker</b>;<br>-----------------------------------------------------<br>[2, "Finished loading nav grid", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>Doesn't do the checking itself, refer to <b>A3A_fnc_punishment_FF</b>.<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim] remoteExec ["<b>A3A_fnc_punishment</b>",2,false]; // How it should be called from another <b>A3A_fnc_punishment</b>_FF.<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim] remoteExec ["A3A_fnc_punishment",2,false]; // How it should be called from another <b>A3A_fnc_punishment_FF</b>.<br>-----------------------------------------------------<br>[cursorObject, 0, 0] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                 // Ping with FF Warning<br>-----------------------------------------------------<br>[cursorObject,120, 1] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                // Punish, 120 additional seconds<br>-----------------------------------------------------<br>[player,10, 1] remoteExec ["<b>A3A_fnc_punishment</b>",2];                                       // Test Self Punish, 10 additional seconds<br>-----------------------------------------------------<br>[cursorObject,"forgive"] remoteExec [<b>A3A_fnc_punishment_release</b>,2]; // Forgive all sins<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit due to FF"] remoteExec ["<b>A3A_fnc_customHint</b>",_instigator,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[2, format ["%1 | %2", _actionTaken, _playerInfo], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>["FF Warning", _message + _comradeStats] remoteExec ["<b>A3A_fnc_customHint</b>", _instigator, false]; // This may or may not work for remoteControlled units depending on deSync.<br>-----------------------------------------------------<br>if (isPlayer _victim) then {["FF Notification", format["%1 hurt you!",name _instigator]] remoteExec ["<b>A3A_fnc_customHint</b>", _victim, false];};<br>-----------------------------------------------------<br>[_UID,_timeTotal] call <b>A3A_fnc_punishment_sentence_server</b>; // Scope is within scheduled space.<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_addActionForgive</b>",0,false];<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_offenceTotal","_name"];<br>-----------------------------------------------------<br>[_arguments,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2,false];<br>-----------------------------------------------------<br>[_arguments,true] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>[_UID] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_offenceTotal"];<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[_instigator, 0, 0] remoteExecCall ["<b>A3A_fnc_punishment</b>",2,false];<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>; // Return values from key "test" and "420" with default as 0, in UID "123"<br>-----------------------------------------------------<br>[_UID,[]] call <b>A3A_fnc_punishment_dataGet</b>;    // Return all [key,value]s in UID "123"<br>-----------------------------------------------------<br>["",[]] call <b>A3A_fnc_punishment_dataGet</b>;      // Return all UID strings<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>; // Gets namespace for getVariable and setVariable<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>; // Removes keys "test" and "frost" in UID "123"<br>-----------------------------------------------------<br>[_UID,[]] call <b>A3A_fnc_punishment_dataRem</b>;    // Removes UID "123" and all it's keys from _punishment_dataNamespace<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>; // In UID "123": Sets values of key "test" to "frost" and "420" to 69<br>-----------------------------------------------------<br>[1, "INVALID PARAMS | No keys pairs", _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _UID=""%1""", _UID], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>private _data_namespace = call <b>A3A_fnc_punishment_dataNamespace</b>;<br>-----------------------------------------------------<br>Refer to <b>A3A_fnc_punishment</b>.sqf for actual punishment logic.<br>-----------------------------------------------------<br>[_instigator, 60, 0.4, _unit] remoteExec ["<b>A3A_fnc_punishment_FF</b>",_instigator,false]; // How it should be called from another function.<br>-----------------------------------------------------<br>[player, 0, 0, objNull] call <b>A3A_fnc_punishment_FF</b>;             // Test self with no victim<br>-----------------------------------------------------<br>[player, 0, 0, cursorObject] call <b>A3A_fnc_punishment_FF</b>;        // Test self with victim<br>-----------------------------------------------------<br>[player,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2]; // Self forgive all sins<br>-----------------------------------------------------<br>[[_instigator,_source], 60, 0.4, _unit] remoteExec ["<b>A3A_fnc_punishment_FF</b>",[_source,_instigator] select (isPlayer _instigator),false]; // How it should be called from an EH.<br>-----------------------------------------------------<br>[[objNull,player], 0, 0, objNull] call <b>A3A_fnc_punishment_FF</b>;      // Test self with no victim<br>-----------------------------------------------------<br>[[objNull,player], 0, 0, cursorObject] call <b>A3A_fnc_punishment_FF</b>; // Test self with victim<br>-----------------------------------------------------<br>if (isPlayer _victim) then {["FF Notification", format["%1 hurt you!",name _instigator]] remoteExec ["<b>A3A_fnc_customHint</b>", _victim, false];};<br>-----------------------------------------------------<br>["FF Notification", _exempMessage+ _comradeStats + _customMessage] remoteExec ["<b>A3A_fnc_customHint</b>", _instigator, false];<br>-----------------------------------------------------<br>[2, format ["%1 | %2", _exemptionDetails, _playerStats], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[2,_killStats,_filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[2, format ["COLLISION | %1 [%2]'s %3%4", name _instigator, getPlayerUID _instigator, _vehicle, _victimStats], _filename] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[_instigator,_timeAdded,_offenceAdded,_victim,_customMessage] remoteExecCall ["<b>A3A_fnc_punishment</b>",2,false];<br>-----------------------------------------------------<br>[player] call <b>A3A_fnc_punishment_FF_addEH</b>; // Recommended to add to "onPlayerRespawn.sqf"<br>-----------------------------------------------------<br>[cursorObject,true] remoteExec ["<b>A3A_fnc_punishment_FF_addEH</b>",cursorObject,false];<br>-----------------------------------------------------<br>[1,"No unit given",_fileName] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>if ([_instigator] call <b>A3A_fnc_punishment_notPlayer</b> && {[_killer] call <b>A3A_fnc_punishment_notPlayer</b>}) exitWith {}; // A certain company that develops a specific game called ArmaIII hasn't mastered the EH yet. So it's full objNull if a hippo crosses a stream when the day is divisible by the second fortnight of the month during a full moon on a warm summers day while the mosquitoes bit down on Richard Parker as he struggles during the October revolution.<br>-----------------------------------------------------<br>[[_instigator,_killer], 60, 0.4, _unit] remoteExecCall ["<b>A3A_fnc_punishment_FF</b>",[_killer,_instigator] select (isPlayer _instigator),false];<br>-----------------------------------------------------<br>if ([_instigator] call <b>A3A_fnc_punishment_notPlayer</b> && {[_source] call <b>A3A_fnc_punishment_notPlayer</b>}) exitWith {};<br>-----------------------------------------------------<br>[[_instigator,_source], 60, 0.4, _unit] remoteExecCall ["<b>A3A_fnc_punishment_FF</b>",[_source,_instigator] select (isPlayer _instigator),false];<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,"Put",_explosive] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_punishment_notPlayer</b> || {!(_unit isEqualTo player)}) exitWith {};<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[getPlayerUID player] remoteExecCall ["<b>A3A_fnc_punishment_checkStatus</b>",2,false];<br>-----------------------------------------------------<br>[3,format["Punishment Event Handlers Added to: %1",name _unit],_fileName] remoteExecCall ["<b>A3A_fnc_log</b>",2,false];<br>-----------------------------------------------------<br>[_unit,_weapon,_projectile] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[_unit,"Put",_explosive] call <b>A3A_fnc_punishment_FF_checkNearHQ</b>;<br>-----------------------------------------------------<br>[_unit, 60, 0.4, objNull, "You cannot throw grenades or place explosives within 75m of base."] call <b>A3A_fnc_punishment_FF</b>;<br>-----------------------------------------------------<br>[2, format ["EXPLOSIVE DISCHARGE HQ | %1 [%2] distance from Petros: %3", name _unit, getPlayerUID _unit, _distancePetros], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_notifyAdmin</b>",0,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>["FF Notification", format ["%1 has been found guilty of FF.<br/><br/>If you believe this is a mistake, you can forgive him with a scroll-menu action on his body.<br/><br/>He is at the bottom left corner of the map.",_name]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if ( [_instigator] call <b>A3A_fnc_punishment_notPlayer</b> ) exitWith {};<br>-----------------------------------------------------<br>[_UID,"add"] call ["<b>A3A_fnc_punishment_oceanGulag</b>",2,false];<br>-----------------------------------------------------<br>[_UID,"remove"] call ["<b>A3A_fnc_punishment_oceanGulag</b>",2,false];<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_punishment_platform","_initialPosASL"];<br>-----------------------------------------------------<br>[2, format ["DETAINEE MIA | UID:%1 matches no in-game player. Cleaning up.", _UID], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) params ["_initialPosASL"];<br>-----------------------------------------------------<br>[_UID,["punishment_platform","initialPosASL"]] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _operation=""%1""", _operation], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,"forgive"] remoteExec ["<b>A3A_fnc_punishment_release</b>",2]; // Forgive all sins and release from Ocean Gulag.<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID,"remove"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>[_UID,_keys] call <b>A3A_fnc_punishment_dataRem</b>;<br>-----------------------------------------------------<br>[2, format ["RELEASE | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["FF Notification", "Enough then."] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[2, format ["FORGIVE | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["FF Notification", "An admin looks with pity upon your soul.<br/>You have been forgiven."] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>[1, format ["INVALID PARAMS | _source=""%1""", _source], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_removeActionForgive</b>",0,false];<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[_UID] call <b>A3A_fnc_punishment_addActionForgive</b>;<br>-----------------------------------------------------<br>[_UID,_timeLeft] remoteExec ["<b>A3A_fnc_punishment_sentence_client</b>",_detainee,false];<br>-----------------------------------------------------<br>["FF Notification", format ["Please do not teamkill. Play with the turtles for %1 more seconds.<br/>Use Refresh Admin Action if the admin just logged in.<br/>Swimming in water may cause injury.",_timeLeft], true] remoteExec ["<b>A3A_fnc_customHint</b>", _detainee, false];<br>-----------------------------------------------------<br>[_UID,_timeTotal] remoteExec ["<b>A3A_fnc_punishment_sentence_server</b>",2,false];<br>-----------------------------------------------------<br>[1, "NOT SERVER", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,_keyPairs] call <b>A3A_fnc_punishment_dataSet</b>;<br>-----------------------------------------------------<br>private _data_instigator = [_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>;<br>-----------------------------------------------------<br>[2, format ["DISCONNECTED/DIED WHILE PUNISHED | %1", _playerStats], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_UID,"remove"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_addActionForgive</b>",0,false];<br>-----------------------------------------------------<br>[_UID] remoteExec ["<b>A3A_fnc_punishment_notifyAdmin</b>",0,false];<br>-----------------------------------------------------<br>[_UID,_countX] remoteExec ["<b>A3A_fnc_punishment_sentence_client</b>",_detainee,false];<br>-----------------------------------------------------<br>[_UID,"add"] call <b>A3A_fnc_punishment_oceanGulag</b>;<br>-----------------------------------------------------<br>_sentenceEndTime = ([_UID,_keyPairs] call <b>A3A_fnc_punishment_dataGet</b>) select 0; // Polls for updates from admin forgive<br>-----------------------------------------------------<br>[_UID,"punishment_warden"] call <b>A3A_fnc_punishment_release</b>;<br>-----------------------------------------------------<br>[_UID,"punishment_warden_manual"] call <b>A3A_fnc_punishment_release</b>;<br>-----------------------------------------------------<br>private _friendlyPlayers = ({(side group _x == teamPlayer)} count (call <b>A3A_fnc_playableUnits</b>));<br>-----------------------------------------------------<br>private _enemyPlayers = count (call <b>A3A_fnc_playableUnits</b>) - _friendlyPlayers;<br>-----------------------------------------------------<br>[2,"Player kicked as they are not Jipping",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"Player kicked as PvP slots are disabled",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>case (!([_unit] call <b>A3A_fnc_isMember</b>)): {<br>-----------------------------------------------------<br>[2,"PvP player kicked because they are not a member.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked because there are wayyyyyy too many PvP players..",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked as there are not enough normal players.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player kicked as there is no Rebel Commander.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"PvP player logged in, doing server side checks if the player has been rebel recently.",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] remoteExec ["<b>A3A_fnc_playerHasBeenPvPCheck</b>",2];<br>-----------------------------------------------------<br>if (isNull _veh) exitWith {["Airstrike", "You are not looking to any vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh distance getMarkerPos respawnTeamPlayer > 50) exitWith {["Airstrike", "Vehicle must be closer than 50 meters to the flag"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({isPlayer _x} count crew _veh > 0) exitWith {["Airstrike", "In order to sell, vehicle must be empty."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Airstrike", "You are not owner of this vehicle and you cannot sell it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(_veh isKindOf "Air")) exitWith {["Airstrike", "Only Air Vehicles can be used to increase Airstrike points"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_exit) exitWith {["Airstrike", "Backpack drones cannot be used to increase Airstrike points"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Airstrike", format ["Air Support increased in %1 points",_pointsX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",theBoss];<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Recruit Squad", "Only the Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (markerAlpha respawnTeamPlayer == 0) exitWith {["Recruit Squad", "You cannot recruit a new squad while you are moving your HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Recruit Squad", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Recruit Squad", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Recruit Squad", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Recruit Squad", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if (((side _x == Invaders) or (side _x == Occupants)) and (_x distance petros < 500) and ([_x] call <b>A3A_fnc_canFight</b>) and !(isPlayer _x)) exitWith {_enemyNear = true};<br>-----------------------------------------------------<br>if (_enemyNear) exitWith {["Recruit Squad", "You cannot recruit squads with enemies near your HQ"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeGroup == "not_supported") then {_exit = true; ["Recruit Squad", "The group or vehicle type you requested is not supported in your modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (hasIFA and ((_typeGroup == SDKMortar) or (_typeGroup == SDKMGStatic)) and !debug) then {_exit = true; ["Recruit Squad", "The group or vehicle type you requested is not supported in your modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeGroup == staticATteamPlayer) then {["Recruit Squad", "AT Trucks are disabled in RHS - GREF"] call <b>A3A_fnc_customHint</b>; _exit = true};<br>-----------------------------------------------------<br>if (_withBackpck == "MG") then {_costs = _costs + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>if (_withBackpck == "Mortar") then {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_costs = _costs + (2*(server getVariable staticCrewTeamPlayer)) + ([_typeGroup] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_costs = _costs + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>)<br>-----------------------------------------------------<br>if ((_withBackpck != "") and hasIFA) exitWith {["Recruit Squad", "Your current modset doesn't support packing/unpacking static weapons"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_hr < _costHR) then {_exit = true; ["Recruit Squad", format ["You do not have enough HR for this request (%1 required)",_costHR]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_resourcesFIA < _costs) then {_exit = true; ["Recruit Squad", format ["You do not have enough money for this request (%1 â‚¬ required)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[- _costHR, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_road = [_pos] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>_roadDirection = _road call <b>A3A_fnc_getRoadDirection</b>;<br>-----------------------------------------------------<br>_groupX = [_pos, teamPlayer, _formatX,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>_groupX = [_pos, teamPlayer, _formatX,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>private _driver = [_groupX, staticCrewTeamPlayer, _pos, [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>private _gunner = [_groupX, staticCrewTeamPlayer, _pos, [], 5, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>//			[_launcher] call <b>A3A_fnc_AIVEHinit</b>;			// don't need separate despawn/killed handlers<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>{[_x] call <b>A3A_fnc_FIAinit</b>} forEach units _groupX;<br>-----------------------------------------------------<br>["Recruit Squad", format ["Group %1 at your command.<br/><br/>Groups are managed from the High Command bar (Default: CTRL+SPACE)<br/><br/>If the group gets stuck, use the AI Control feature to make them start moving. Mounted Static teams tend to get stuck (solving this is WiP)<br/><br/>To assign a vehicle for this group, look at some vehicle, and use Vehicle Squad Mngmt option in Y menu", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if !(_bypassAI) then {_groupX spawn <b>A3A_fnc_attackDrillAI</b>};<br>-----------------------------------------------------<br>_costs = [_typeVehX] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>[_purchasedVehicle, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[0, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Recruit Squad", "Vehicle Purchased"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Add Vehicle", "Unable to buy vehicle, you are already placing something"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["Add Vehicle", "You cannot buy vehicles while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Add Vehicle", "You cannot buy vehicles with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["Add Vehicle", "You cannot buy vehicles with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_typeVehX == "not_supported") exitWith {["Add Vehicle", "The vehicle you requested is not supported in your current modset"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>vehiclePurchase_cost = [_typeVehX] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>if (_resourcesFIA < vehiclePurchase_cost) exitWith {["Add Vehicle", format ["You do not have enough money for this vehicle: %1 â‚¬ required",vehiclePurchase_cost]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(player inArea vehiclePurchase_nearestMarker) exitWith {["Add Vehicle", "You need to be close to the flag to be able to purchase a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_typeVehX, "BUYFIA", _extraMessage] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>if (count hcSelected player != 1) exitWith {["Add Squad Vehicle", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((groupID _groupX == "Watch") or (groupID _groupX == "MineF")) exitwith {["Add Squad Vehicle", "This group has a vehicle already and their mission depends on it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((!alive _veh) or (!canMove _veh)) exitWith {["Add Squad Vehicle", "The selected vehicle is destroyed or cannot move"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({(alive _x) and (_x in _veh)} count allUnits > 0) exitWith {["Add Squad Vehicle", "Selected vehicle is not empty"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_veh isKindOf "StaticWeapon") exitWith {["Add Squad Vehicle", "You cannot assign a Static Weapon to a Squad"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_esStatic) exitWith {["Add Squad Vehicle", "Static Weapon Squads cannot change of vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ({alive _x} count units _groupX > _maxCargo) exitWith {["Add Squad Vehicle", "The vehicle selected has no room for this squad"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Add Squad Vehicle", format ["Vehicle Assigned to %1 Squad", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_markerX] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_groupX = [_originX, teamPlayer, _formatX,false,true] call <b>A3A_fnc_spawnGroup</b>;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinit</b>; _soldiers pushBack _x} forEach units _groupX;<br>-----------------------------------------------------<br>if (!(isNil "placingVehicle") && {placingVehicle}) exitWith {["Build Info", "You can't build while placing something."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",objNull]) exitWith {["Build Info", "You cannot construct anything while controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player] call <b>A3A_fnc_canFight</b> && !([player] call _engineerIsBusy)) then {<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b> && !([_x] call _engineerIsBusy)) exitWith {<br>-----------------------------------------------------<br>["Build Info", _abortMessage] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_leave) exitWith {["Build Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>build_handleDamageHandler = player addEventHandler ["HandleDamage",{[] call <b>A3A_fnc_vehPlacementCancel</b>;nil;}];<br>-----------------------------------------------------<br>[_classX, "BUILDSTRUCTURE", ""] call <b>A3A_fnc_vehPlacementBegin</b>;<br>-----------------------------------------------------<br>["Build Info", "Walk to the selected position to start building"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Build Info", "You didn't move to the position, construction has timed out."] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_nul = [0, - build_cost] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[-build_cost] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>if (([_engineer] call <b>A3A_fnc_canFight</b>) and !(_engineer getVariable ["helping",false]) and !(_engineer getVariable ["rearming",false]) and (_engineer getVariable ["constructing",false])) then<br>-----------------------------------------------------<br>waitUntil  {sleep 5; !([build_engineerSelected] call <b>A3A_fnc_canFight</b>) or (build_engineerSelected getVariable ["helping",false]) or (build_engineerSelected getVariable ["rearming",false]) or (build_engineerSelected distance _positionX > 4) or (time > _timeOut)};<br>-----------------------------------------------------<br>if (time <= _timeOut) exitWith {["Build Info", "Construction cancelled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((not([distanceSPWN,1,_veh,teamPlayer] call <b>A3A_fnc_distanceUnits</b>)) and (_veh distance getMarkerPos respawnTeamPlayer > 100)) then<br>-----------------------------------------------------<br>_costs = (2*(server getVariable (SDKExp select 0))) + ([vehSDKTruck] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>[-2,(-1*_costs)] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), (getMarkerPos respawnTeamPlayer), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_unit = [_groupX, (SDKExp select 0), (getMarkerPos respawnTeamPlayer), [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_road = [getMarkerPos respawnTeamPlayer] call <b>A3A_fnc_findNearestGoodRoad</b>;<br>-----------------------------------------------------<br>{[_x] spawn <b>A3A_fnc_FIAinit</b>; [_x] orderGetIn true} forEach units _groupX;<br>-----------------------------------------------------<br>[_truckX, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[petros,"hint","Engineer Team deploying mines.", "Minefields"] remoteExec ["<b>A3A_fnc_commsMP</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"SUCCEEDED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>[2,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"FAILED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>["Mines",[format ["An Engineer Team has been deployed at your command with High Command Option. Once they reach the position, they will start to deploy %1 mines in the area. Cover them in the meantime.",_quantity],"Minefield Deploy",_mrk],_positionTel,"FAILED","Map"] call <b>A3A_fnc_taskUpdate</b>;<br>-----------------------------------------------------<br>_nul = [0,"Mines"] spawn <b>A3A_fnc_deleteTask</b>;<br>-----------------------------------------------------<br>{if (_x distance _unit < _dist) exitWith {_return = true}} forEach (allUnits select {((side group _x == Occupants) or (side group _x == Invaders)) and ([_x] call <b>A3A_fnc_canFight</b>)});<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedMachineGuns] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedGrenadeLaunchers] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedSMGs] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedRifles] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[_unit,unlockedSMGs] call <b>A3A_fnc_randomRifle</b>;<br>-----------------------------------------------------<br>[1, format["Unknown unit class: %1", _unitClass], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[4, format["Class %1, type %2, loadout %3", _unitClass, _recruitType, str (getUnitLoadout _unit)], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_initRevive</b>;<br>-----------------------------------------------------<br>[_unit, [0,1] select (leader _unit != player)] call <b>A3A_fnc_equipRebel</b>;<br>-----------------------------------------------------<br>[_victim] spawn <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>if (captive player) then {[_unit] spawn <b>A3A_fnc_undercoverAI</b>};<br>-----------------------------------------------------<br>if (([player] call <b>A3A_fnc_hasRadio</b>) && (_unit call A3A_fnc_getRadio != "")) exitWith {_unit groupChat format ["This is %1, radiocheck OK",name _unit]};<br>-----------------------------------------------------<br>if (([player] call A3A_fnc_hasRadio) && (_unit call <b>A3A_fnc_getRadio</b> != "")) exitWith {_unit groupChat format ["This is %1, radiocheck OK",name _unit]};<br>-----------------------------------------------------<br>["", format ["%1 lost communication, he will come back with you if possible", name _unit]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Skill Add", "Only our Commander has access to this function"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (skillFIA > 20) exitWith {["Skill Add", "Your troops have the maximum training"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (skillFIA > (tierWar*2)) exitWith {["Skill Add", "You cannot upgrade training in the current War Level"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_resourcesFIA < _costs) exitWith {["Skill Add", format ["You do not have enough money to afford additional training. %1 â‚¬ needed",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Skill Add", format ["%2 Skill Level has been Upgraded<br/>Current level is %1",skillFIA,nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>if (_hr < 1) exitWith {["Garrisons", "You lack of HR to make a new recruitment"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (_costs > _resourcesFIA) exitWith {["Garrisons", format ["You do not have enough money for this kind of unit (%1 â‚¬ needed)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_typeX == staticCrewTeamPlayer) and (_markerX in outpostsFIA)) exitWith {["Garrisons", "You cannot add mortars to a Roadblock garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (surfaceIsWater _positionX) exitWith {["Garrisons", "This Garrison is still updating, please try again in a few seconds"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_positionX,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garrisons", "You cannot Recruit Garrison Units with enemies near the zone"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([_positionX,500] call A3A_fnc_enemyNearCheck) exitWith {["Garrisons", "You cannot Recruit Garrison Units with enemies near the zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_nul = [-1,-_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[_markerX] call <b>A3A_fnc_mrkUpdate</b>;*/<br>-----------------------------------------------------<br>[_typeX,teamPlayer,_markerX,1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>["Garrisons", format ["Soldier recruited.%1",[_markerX] call <b>A3A_fnc_garrisonInfo</b>]] call A3A_fnc_customHint;<br>-----------------------------------------------------<br>["Garrisons", format ["Soldier recruited.%1",[_markerX] call A3A_fnc_garrisonInfo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_typeX == "add") then {["Garrison", "Select a zone to add garrisoned troops"] call <b>A3A_fnc_customHint</b>;} else {["Garrison", "Select a zone to remove it's Garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (getMarkerPos _nearX distance _positionTel > 40) exitWith {["Garrison", "You must click near a marked zone"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Garrison", format ["That zone does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if ([_positionX,500] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["Garrison", "You cannot manage this garrison while there are enemies nearby"] call A3A_fnc_customHint; _nul=CreateDialog "build_menu"};<br>-----------------------------------------------------<br>if ([_positionX,500] call A3A_fnc_enemyNearCheck) exitWith {["Garrison", "You cannot manage this garrison while there are enemies nearby"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu"};<br>-----------------------------------------------------<br>if ((count _garrison == 0) and !(_nearX in outpostsFIA)) exitWith {["Garrison", "The place has no garrisoned troops to remove"] call <b>A3A_fnc_customHint</b>; _nul=CreateDialog "build_menu";};<br>-----------------------------------------------------<br>if (_x == staticCrewTeamPlayer) then {if (_outpostFIA) then {_costs = _costs + ([vehSDKLightArmed] call <b>A3A_fnc_vehiclePrice</b>)} else {_costs = _costs + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)}};<br>-----------------------------------------------------<br>[_hr,_costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>//[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Garrison removed<br/><br/>Recovered Money: %1 â‚¬<br/>Recovered HR: %2",_costs,_hr]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Info%1",[_nearX] call <b>A3A_fnc_garrisonInfo</b>]] call A3A_fnc_customHint;<br>-----------------------------------------------------<br>["Garrison", format ["Info%1",[_nearX] call A3A_fnc_garrisonInfo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_ChildControl  ctrlSetTooltip format ["Cost: %1 â‚¬",(server getVariable staticCrewTeamPlayer) + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)];<br>-----------------------------------------------------<br>if (bombRuns < 1) exitWith {["Air Support", "You lack of enough Air Support to make this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([player] call <b>A3A_fnc_hasRadio</b>)) exitWith {if !(hasIFA) then {["Air Support", "You need a radio in your inventory to be able to give orders to other squads"] call A3A_fnc_customHint;} else {["Air Support", "You need a Radio Man in your group to be able to give orders to other squads"] call A3A_fnc_customHint;}};<br>-----------------------------------------------------<br>if (!([player] call A3A_fnc_hasRadio)) exitWith {if !(hasIFA) then {["Air Support", "You need a radio in your inventory to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;} else {["Air Support", "You need a Radio Man in your group to be able to give orders to other squads"] call <b>A3A_fnc_customHint</b>;}};<br>-----------------------------------------------------<br>if ({sidesX getVariable [_x,sideUnknown] == teamPlayer} count airportsX == 0) exitWith {["Air Support", "You need to control an airport in order to fulfill this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Air Support", "Select the spot from which the plane will start to drop the bombs"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Air Support", "Select the map position to which the plane will exit to calculate plane's route vector"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>_wp1 setWaypointStatements ["true", format ["if !(local this) exitWith {}; [this, '%1'] spawn <b>A3A_fnc_airbomb</b>", _typeX]];<br>-----------------------------------------------------<br>if (sidesX getVariable [_markerX,sideUnknown] != _sideX) exitWith {["Transportation", format ["You need to be close to a zone belonging to %1 in order to request a vehicle",_nameX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((!(_markerX in airportsX)) and (!(_markerX in seaports)) and (!(_markerX in outposts))) exitWith {["Transportation", "You need to be close to an Airbase, Seaport or Outpost of your side in order to request a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(player inArea _markerX)) exitWith {["Transportation", "You need to be close to an Airbase, Seaport or Outpost in order to request a vehicle"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Transportation", "Vehicle available"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[lastVehicleSpawned, _sideX] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[3,"PostMortem Called",_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (isnull _victim)exitwith{[1,"Function failed called with null param.",_filename] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[3,format["Group for victim :: %1, no group found! Removing from Statics list.",_victim],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,cleanSTR, _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup complete for %1 victim.", _victim],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[3,format["Cleanup complete for %1 group.", _group],_filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([player] call <b>A3A_fnc_isMember</b>) exitWith {["AI Recruitment", "Only Server Members can recruit AI units"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if !([player] call A3A_fnc_isMember) exitWith {["AI Recruitment", "Only Server Members can recruit AI units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (recruitCooldown > time) exitWith {["AI Recruitment", format ["You need to wait %1 seconds to be able to recruit units again",round (recruitCooldown - time)]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != player getVariable ["owner",player]) exitWith {["AI Recruitment", "You cannot buy units while you are controlling AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([player,300] call <b>A3A_fnc_enemyNearCheck</b>) exitWith {["AI Recruitment", "You cannot Recruit Units with enemies nearby"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if ([player,300] call A3A_fnc_enemyNearCheck) exitWith {["AI Recruitment", "You cannot Recruit Units with enemies nearby"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["AI Recruitment", "You cannot recruit units as you are not your group leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_hr < 1) exitWith {["AI Recruitment", "You do not have enough HR for this request"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_costs > _resourcesFIA) exitWith {["AI Recruitment", format ["You do not have enough money for this kind of unit (%1 â‚¬ needed)",_costs]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((count units group player) + (count units stragglers) > 9) exitWith {["AI Recruitment", "Your squad is full or you have too many scattered units with no radio contact"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _unit = [group player, _typeUnit, position player, [], 0, "NONE"] call <b>A3A_fnc_createUnit</b>;<br>-----------------------------------------------------<br>_nul = [-1, - _costs] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [-1, 0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[- _costs] call <b>A3A_fnc_resourcesPlayer</b>;<br>-----------------------------------------------------<br>["AI Recruitment", "Soldier Recruited.<br/><br/>Remember: if you use the group menu to switch groups you will lose control of your recruited AI"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_FIAinit</b>;<br>-----------------------------------------------------<br>if (!alive _staticX) exitWith {["Steal Static", "You cannot steal a destroyed static weapon"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (alive gunner _staticX) exitWith {["Steal Static", "You cannot steal a static weapon when someone is using it"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((alive assignedGunner _staticX) and (!isPlayer (assignedGunner _staticX))) exitWith {["Steal Static", "The gunner of this static weapon is still alive"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (activeGREF and ((typeOf _staticX == staticATteamPlayer) or (typeOf _staticX == staticAAteamPlayer))) exitWith {["Steal Static", "This weapon cannot be dissassembled"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Steal Static", "You have to conquer this zone in order to be able to steal this Static Weapon"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_groundWeaponHolder] call <b>A3A_fnc_postmortem</b>;<br>-----------------------------------------------------<br>["Steal Static", "Weapon Stolen. It won't despawn when you assemble it again"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (count hcSelected player == 0) exitWith {["Vehicle Info", "You must select one group on the HC bar"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_textX != "") then {["Vehicle Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>_textX = format ["%1 Status<br/><br/>Alive members: %2<br/>Able to combat: %3<br/>Current task: %4<br/>Combat Mode:%5<br/>",groupID _groupX,{alive _x} count _unitsX,{[_x] call <b>A3A_fnc_canFight</b>} count _unitsX,_groupX getVariable ["taskX","Patrol"],behaviour (leader _groupX)];<br>-----------------------------------------------------<br>if ({[_x] call <b>A3A_fnc_isMedic</b>} count _unitsX > 0) then {_textX = format ["%1Operative Medic<br/>",_textX]} else {_textX = format ["%1No operative Medic<br/>",_textX]};<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "ATMan"} count _unitsX > 0) then {_textX = format ["%1With AT capabilities<br/>",_textX]};<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "AAMan"} count _unitsX > 0) then {_textX = format ["%1With AA capabilities<br/>",_textX]};<br>-----------------------------------------------------<br>if (!(isNull(_groupX getVariable ["mortarsX",objNull])) or ({_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticMortar"} count _unitsX > 0)) then<br>-----------------------------------------------------<br>if ({_x call <b>A3A_fnc_typeOfSoldier</b> == "StaticGunner"} count _unitsX > 0) then<br>-----------------------------------------------------<br>["Vehicle Info", format ["%1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is already dead",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !([_medicX] call <b>A3A_fnc_canFight</b>) exitWith {if (_player) then {["Revive", "You are not able to revive anyone"] call A3A_fnc_customHint;};_healed};<br>-----------------------------------------------------<br>if !([_medicX] call A3A_fnc_canFight) exitWith {if (_player) then {["Revive", "You are not able to revive anyone"] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>(!([_medicX] call <b>A3A_fnc_isMedic</b> && "Medikit" in (items _medicX))) &&<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["You or %1 need a First Aid Kit or Medikit to be able to revive",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 has a First Aid Kit but you do not have enough space in your inventory to use it",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((([_cured] call <b>A3A_fnc_fatalWound</b>)) and !([_medicX] call A3A_fnc_isMedic)) exitWith<br>-----------------------------------------------------<br>if ((([_cured] call A3A_fnc_fatalWound)) and !([_medicX] call <b>A3A_fnc_isMedic</b>)) exitWith<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is injured by a fatal wound, only a medic can revive him",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 is being carried or transported and you cannot heal him",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["%1 no longer needs your help",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (surfaceIsWater (position _cured)) exitWith {if (_player) then {["Revive", format ["You cannot heal %1 in the water",name _cured]] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>_timer = if ([_cured] call <b>A3A_fnc_fatalWound</b>) then<br>-----------------------------------------------------<br>if ((!isMultiplayer and (isPlayer _cured)) or ([_medicX] call <b>A3A_fnc_isMedic</b>)) then<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and (time <= (_medicX getVariable ["timeToHeal",time])) and !(_medicX getVariable ["cancelRevive",false]) and (alive _cured) and (_cured getVariable ["incapacitated",false]) and (_medicX == vehicle _medicX)) then<br>-----------------------------------------------------<br>if (([_medicX] call <b>A3A_fnc_canFight</b>) and !(_medicX getVariable ["cancelRevive",false]) and (_medicX == vehicle _medicX) and (alive _cured)) then<br>-----------------------------------------------------<br>if ([_medicX] call <b>A3A_fnc_isMedic</b>) then {_cured setDamage 0.25} else {_cured setDamage 0.5};<br>-----------------------------------------------------<br>["Revive", "Revive cancelled"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_player) then {["Revive", format ["We lost %1",name _cured]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!([_medicX] call <b>A3A_fnc_canFight</b>) or (_medicX != vehicle _medicX) or (_medicX distance _cured > 3)) exitWith {if (_player) then {["Revive", "Revive cancelled"] call A3A_fnc_customHint;};_healed};<br>-----------------------------------------------------<br>if (!([_medicX] call A3A_fnc_canFight) or (_medicX != vehicle _medicX) or (_medicX distance _cured > 3)) exitWith {if (_player) then {["Revive", "Revive cancelled"] call <b>A3A_fnc_customHint</b>;};_healed};<br>-----------------------------------------------------<br>if (_player) then {["Revive", "Revive unsuccesful"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!alive _carryX) exitWith {["Carry/Drag", format ["%1 is dead",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(_carryX getVariable ["incapacitated",false]) exitWith {["Carry/Drag", format ["%1 no longer needs your help",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !(isNull attachedTo _carryX) exitWith {["Carry/Drag", format ["%1 is being carried or transported and you cannot carry him",name _carryX]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>[_carryX,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_carryX];<br>-----------------------------------------------------<br>waitUntil {sleep 0.5; (!alive _carryX) or !([_carrierX] call <b>A3A_fnc_canFight</b>) or !(_carryX getVariable ["incapacitated",false]) or ({!isNull _x} count attachedObjects _carrierX == 0) or (time > _timeOut) or (vehicle _carrierX != _carrierX)};<br>-----------------------------------------------------<br>[_carryX,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_carryX];<br>-----------------------------------------------------<br>//if (_damage > 0.6) then {[_unit,_unit,_injurer] spawn <b>A3A_fnc_chargeWithSmoke</b>};<br>-----------------------------------------------------<br>if (_damage > 0.6) then {[_unit,_injurer] spawn <b>A3A_fnc_unitGetToCover</b>};<br>-----------------------------------------------------<br>[_marker, side group _injurer, side group _unit] remoteExec ["<b>A3A_fnc_underAttack</b>", 2];<br>-----------------------------------------------------<br>[_unit,_fromside] spawn <b>A3A_fnc_unconscious</b>;<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>{[_x,_injurer] call <b>A3A_fnc_unitGetToCover</b>} forEach units _groupX;<br>-----------------------------------------------------<br>if (_damage > 0.6) then {[_unit,_injurer] spawn <b>A3A_fnc_unitGetToCover</b>};<br>-----------------------------------------------------<br>[_marker, teamPlayer, side group _unit] remoteExec ["<b>A3A_fnc_underAttack</b>", 2];<br>-----------------------------------------------------<br>private _index = (units (group _unit)) findIf {[_x] call <b>A3A_fnc_canFight</b>};<br>-----------------------------------------------------<br>[_unit,_injurer] spawn <b>A3A_fnc_unconsciousAAF</b>;<br>-----------------------------------------------------<br>[_unit] remoteExecCall ["<b>A3A_fnc_punishment_FF_addEH</b>",_unit,false];<br>-----------------------------------------------------<br>_unit addEventHandler ["HandleDamage", <b>A3A_fnc_handleDamage</b>];<br>-----------------------------------------------------<br>_nul = [0,-1,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[- _hr, - _resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>if ([_x] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>[player] spawn <b>A3A_fnc_respawn</b>;<br>-----------------------------------------------------<br>[_unit,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>//[_unit,"carry"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal1"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>//[_unit,"carry"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>_helpX = [_unit] call <b>A3A_fnc_askHelp</b>;<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>if (isNull _helped) then {[_unit] call <b>A3A_fnc_askHelp</b>;};<br>-----------------------------------------------------<br>if (isMultiplayer) then {[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit]};<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_unit,"heal"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_group,_injurer] spawn <b>A3A_fnc_AIreactOnKill</b>;<br>-----------------------------------------------------<br>[_unit] call <b>A3A_fnc_askHelp</b>;<br>-----------------------------------------------------<br>[_unit,"remove"] remoteExec ["<b>A3A_fnc_flagaction</b>",0,_unit];<br>-----------------------------------------------------<br>[_this, "Intel_Small"] remoteExec ["<b>A3A_fnc_flagaction</b>", [teamPlayer,civilian], _this];<br>-----------------------------------------------------<br>[1,_injurer] call <b>A3A_fnc_playerScoreAdd</b>;<br>-----------------------------------------------------<br>[-1,1,getPos _unit] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[_unit] spawn <b>A3A_fnc_surrenderAction</b>;<br>-----------------------------------------------------<br>private _runways = call <b>A3A_fnc_runwayInfo</b>;<br>-----------------------------------------------------<br>if (isRemoteExecutedJIP) then {[3, format ["Salvage Rope Action added on JIP client: %1", player], _filename, true] call <b>A3A_fnc_log</b>;};<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>_varValue = [_varName] call <b>A3A_fnc_returnSavedStat</b>;<br>-----------------------------------------------------<br>[_varName,_varValue] call <b>A3A_fnc_loadStat</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if !([_playerId] call <b>A3A_fnc_playerHasSave</b>) exitWith {<br>-----------------------------------------------------<br>[2, format ["No save found for player ID %1", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerId, _unit] call <b>A3A_fnc_resetPlayer</b>;<br>-----------------------------------------------------<br>[2, format ["Loading player data for ID %1 into unit %2", _playerId, _unit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>private _loadout = [_playerId, "loadoutPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_isMember</b>) then<br>-----------------------------------------------------<br>private _saveScore = [_playerId, "scorePlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _saveRank = [_playerId, "rankPlayer"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _money = [_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>private _garage = [_playerId, "personalGarage"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[_unit, _garage] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", _unit];<br>-----------------------------------------------------<br>[2, format ["Player %1: Score %2, rank %3, money %4, garage count %5", _playerId, _score, _rank, _money, count _garage], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["savedPlayers"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["outpostsFIA"] call <b>A3A_fnc_getStatVariable</b>; publicVariable "outpostsFIA";<br>-----------------------------------------------------<br>["mrkSDK"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["mrkCSAT"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["difficultyX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["gameMode"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedSites"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["minesX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownOccupants"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownInvaders"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["countCA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["antennas"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["hr"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["dateX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["weather"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeOPFOR"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeBLUFOR"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["resourcesFIA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["garrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["usesWurzelGarrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["skillFIA"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["distanceSPWN"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["civPerc"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["maxUnits"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["membersX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["vehInGarage"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedBuildings"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["idlebases"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["idleassets"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["killZones"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["controlsSDK"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["bombRuns"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["jna_dataList"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[_x, true] call <b>A3A_fnc_unlockEquipment</b>;<br>-----------------------------------------------------<br>call <b>A3A_fnc_checkRadiosUnlocked</b>;<br>-----------------------------------------------------<br>["aggressionOccupants"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionInvaders"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>["chopForest"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["posHQ"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["nextTick"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>["staticsX"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>{_x setPos getMarkerPos respawnTeamPlayer} forEach ((call <b>A3A_fnc_playableUnits</b>) select {side _x == teamPlayer});<br>-----------------------------------------------------<br>//	[] call <b>A3A_fnc_updatePreference</b>;<br>-----------------------------------------------------<br>[true] call <b>A3A_fnc_tierCheck</b>;<br>-----------------------------------------------------<br>[airportsX, "Airport", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[resourcesX, "Other", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;	//New system<br>-----------------------------------------------------<br>[factories, "Other", [0,0,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[outposts, "Outpost", [1,1,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>[seaports, "Other", [1,0,0]] spawn <b>A3A_fnc_createGarrison</b>;<br>-----------------------------------------------------<br>["wurzelGarrison"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>",[teamPlayer,civilian]];<br>-----------------------------------------------------<br>["tasks"] call <b>A3A_fnc_getStatVariable</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>[_x] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>_nul = [_x] call <b>A3A_fnc_createControls</b>;<br>-----------------------------------------------------<br>if (_varName == 'prestigeNATO') then {[[_varValue, 120], [0, 0]] call <b>A3A_fnc_prestige</b>};<br>-----------------------------------------------------<br>if (_varName == 'prestigeCSAT') then {[[0, 0], [_varValue, 120]] call <b>A3A_fnc_prestige</b>};<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>[true] spawn <b>A3A_fnc_calculateAggression</b>;<br>-----------------------------------------------------<br>[(_x select 0)] call <b>A3A_fnc_updateReinfState</b>;<br>-----------------------------------------------------<br>{if ([antennas,_x] call BIS_fnc_nearestPosition == _antenna) then {[_x,false] spawn <b>A3A_fnc_blackout</b>}} forEach citiesX;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_buildHQ</b>;<br>-----------------------------------------------------<br>{_x setPos _posHQ} forEach ((call <b>A3A_fnc_playableUnits</b>) select {side _x == teamPlayer});<br>-----------------------------------------------------<br>[_veh, teamPlayer] call <b>A3A_fnc_AIVEHinit</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_rebelAttack</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_attackHQ</b>;<br>-----------------------------------------------------<br>[_x,true] call <b>A3A_fnc_missionRequest</b>;<br>-----------------------------------------------------<br>[_playerId] remoteExec ["<b>A3A_fnc_playerHasSave</b>", 2];<br>-----------------------------------------------------<br>private _money = [_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Resetting player data for ID %1, unit %2", _playerId, _unit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if ([_playerId] call <b>A3A_fnc_playerHasSave</b>) then {<br>-----------------------------------------------------<br>_money = _money min ([_playerId, "moneyX"] call <b>A3A_fnc_retrievePlayerStat</b>);<br>-----------------------------------------------------<br>[_unit, []] call <b>A3A_fnc_setPersonalGarage</b>;<br>-----------------------------------------------------<br>[] remoteExec ["<b>A3A_fnc_statistics</b>", _unit];<br>-----------------------------------------------------<br>[_playerVarName] call <b>A3A_fnc_returnSavedStat</b>;<br>-----------------------------------------------------<br>_varSaveName = [_varName] call <b>A3A_fnc_varNameToSaveName</b>;<br>-----------------------------------------------------<br>_spanishVarName = [_varName] call <b>A3A_fnc_translateVariable</b>;<br>-----------------------------------------------------<br>diag_log format ["%1: [Antistasi] | ERROR | <b>A3A_fnc_returnSavedStat</b> | Variable %2 does not exist.",servertime, _varName];<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>if (savingServer) exitWith {["Save Game", "Server data save is still in progress"] remoteExecCall ["<b>A3A_fnc_customHint</b>",theBoss]};<br>-----------------------------------------------------<br>[2, "Starting persistent save", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[getPlayerUID _x, _x, true] call <b>A3A_fnc_savePlayer</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>["attackCountdownOccupants", attackCountdownOccupants] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["attackCountdownInvaders", attackCountdownInvaders] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["gameMode", gameMode] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["difficultyX", skillMult] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["bombRuns", bombRuns] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["smallCAmrk", smallCAmrk] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["membersX", membersX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["antennas", _antennasDeadPositions] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>//["mrkNATO", (markersX - controlsX) select {sidesX getVariable [_x,sideUnknown] == Occupants}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["mrkSDK", (markersX - controlsX - outpostsFIA) select {sidesX getVariable [_x,sideUnknown] == teamPlayer}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["mrkCSAT", (markersX - controlsX) select {sidesX getVariable [_x,sideUnknown] == Invaders}] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["posHQ", [getMarkerPos respawnTeamPlayer,getPos fireX,[getDir boxX,getPos boxX],[getDir mapX,getPos mapX],getPos flagX,[getDir vehicleBox,getPos vehicleBox]]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["dateX", date] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["skillFIA", skillFIA] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedSites", destroyedSites] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["distanceSPWN", distanceSPWN] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["civPerc", civPerc] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["chopForest", chopForest] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["maxUnits", maxUnits] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["nextTick", nextTick - time] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["weather",[fogParams,rain]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["destroyedBuildings",_destroyedPositions] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionOccupants", [aggressionLevelOccupants, aggressionStackOccupants]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["aggressionInvaders", [aggressionLevelInvaders, aggressionStackInvaders]] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>case MortStaticSDKB: {_resourcesBackground = _resourcesBackground + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case AAStaticSDKB: {_resourcesBackground = _resourcesBackground + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case MGStaticSDKB: {_resourcesBackground = _resourcesBackground + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case ATStaticSDKB: {_resourcesBackground = _resourcesBackground + ([staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_resourcesBackground = _resourcesBackground + ([_typeVehX] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>if (count attachedObjects _veh != 0) then {{_resourcesBackground = _resourcesBackground + ([typeOf _x] call <b>A3A_fnc_vehiclePrice</b>)} forEach attachedObjects _veh};<br>-----------------------------------------------------<br>["resourcesFIA", _resourcesBackground] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["hr", _hrBackground] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["vehInGarage", _vehInGarage] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["staticsX", _arrayEst] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[] call <b>A3A_fnc_arsenalManage</b>;<br>-----------------------------------------------------<br>["jna_dataList", _jna_dataList] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeOPFOR", _prestigeOPFOR] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["prestigeBLUFOR", _prestigeBLUFOR] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["garrison",_garrison] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["wurzelGarrison", _wurzelGarrison] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["usesWurzelGarrison", true] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["minesX", _arrayMines] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["outpostsFIA", _arrayOutpostsFIA] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["tasks",_typesX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["idlebases",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["idleassets",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["killZones",_dataX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>["controlsSDK",_controlsX] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[petros,"hint",_saveHintText, "Save"] remoteExec ["<b>A3A_fnc_commsMP</b>", 0];<br>-----------------------------------------------------<br>[2, "Persistent Save Completed", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, "Miscalled server-only function", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player of unit %1 due to missing UID", _playerUnit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player %1 due to missing unit", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[1, format ["Not saving player %1 due to missing variables. What happened here?", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Not saving player %1 due to them being on the wrong team.", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Not saving player %1 due to canSave being false.", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2, format ["Saving player %1 on side %2", _playerId, side group _playerUnit], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["savedPlayers", savedPlayers] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>[2, format ["Stripping saved loadout of player %1 due to saving while dead or unconcious", _playerId], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", (getUnitLoadout _playerUnit) call <b>A3A_fnc_stripGearFromLoadout</b>] call A3A_fnc_savePlayerStat;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", (getUnitLoadout _playerUnit) call A3A_fnc_stripGearFromLoadout] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "loadoutPlayer", getUnitLoadout _playerUnit] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>private _garage = [_playerUnit] call <b>A3A_fnc_getPersonalGarage</b>;<br>-----------------------------------------------------<br>[_playerId, "scorePlayer", _playerUnit getVariable "score"] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "rankPlayer", rank _playerUnit] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[_playerId, "personalGarage", [_playerUnit] call <b>A3A_fnc_getPersonalGarage</b>] call A3A_fnc_savePlayerStat;<br>-----------------------------------------------------<br>[_playerId, "personalGarage", [_playerUnit] call A3A_fnc_getPersonalGarage] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>private _vehPrice = [typeof _veh] call <b>A3A_fnc_vehiclePrice</b>;<br>-----------------------------------------------------<br>[_playerId, "moneyX", _totalMoney] call <b>A3A_fnc_savePlayerStat</b>;<br>-----------------------------------------------------<br>[2, format ["Saved player %1: %2 rank, %3 money, %4 vehicles", _playerId, rank _playerUnit, _totalMoney, count _garage], _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_playerVarName, _varValue] call <b>A3A_fnc_setStatVariable</b>;<br>-----------------------------------------------------<br>_varSaveName = [_varName] call <b>A3A_fnc_varNameToSaveName</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while you are controlling AI"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You are Undercover already"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You are not in a civilian vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "This vehicle has been reported to the enemy. Change or renew your vehicle in the Garage to go Undercover"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have been reported in the last 30 minutes therefore you cannot go Undercover"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover while enemies are spotting you"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot go Undercover near Airports, Outposts or Roadblocks"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>//_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>_size = [_base] call <b>A3A_fnc_sizeMarker</b>;<br>-----------------------------------------------------<br>[] spawn <b>A3A_fnc_statistics</b>;<br>-----------------------------------------------------<br>["Undercover", "You have been reported or spotted by the enemy"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You entered a non civilian vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You entered in a reported vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "Explosives have been spotted on your vehicle"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You went too far away from any roads and have been spotted"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while showing:<br/><br/>A weapon is visible<br/>Wearing a vest<br/>Wearing a helmet<br/>Wearing NVGs<br/>Wearing a mil uniform<br/><br/>The enemy added you to their Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while healing a compromised resistance member"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You cannot stay Undercover while healing a compromised resistance member<br/><br/>The enemy added you to their Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You left your vehicle and you are still on the Wanted List"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have gotten too close to an enemy Base, Outpost or Roadblock"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "You have gotten too close to an enemy Airbase no-fly zone"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Undercover", "The Installation Garrison has recognised you"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>copyToClipboard str (call <b>A3A_fnc_generateRoadsDB</b>)<br>-----------------------------------------------------<br>[1, "Message", _filename] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>["Game Options", format ["Arma 3 - Antistasi<br/><br/>Version: %1",antistasiVersion]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", format ["Arma 3 - Antistasi<br/><br/>Version: %1",antistasiVersion]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>['Game Options', str (_this select 1)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", str _count] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Game Options", str _count] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>private _hasRadio =	player call <b>A3A_fnc_getRadio</b> != "";<br>-----------------------------------------------------<br>waitUntil {sleep 1; player call <b>A3A_fnc_getRadio</b> != "" && call TFAR_fnc_haveSWRadio};<br>-----------------------------------------------------<br>_backpack set [0,((_backpack select 0) call <b>A3A_fnc_basicBackpack</b>)];<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_item !="") AND !([player] call <b>A3A_fnc_isMember</b>) AND !_type) exitWith{<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_amount !=0) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if((_numberOfMags <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) exitWith{<br>-----------------------------------------------------<br>if([player] call <b>A3A_fnc_isMedic</b>)then{<br>-----------------------------------------------------<br>_item = _x call <b>A3A_fnc_basicBackpack</b>;<br>-----------------------------------------------------<br>_thing addAction ["Action", <b>JN_fnc_arsenal_handleAction</b>];<br>-----------------------------------------------------<br>[2,"JNA init started",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"JNA server detected",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[2,"JNA loading player data",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br><b>JN_fnc_arsenal_handleAction</b>,<br>-----------------------------------------------------<br>[2,"JNA init completed",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>_isMember = [player] call <b>A3A_fnc_isMember</b>;<br>-----------------------------------------------------<br>if ((_amount <= _min) AND (_amount != -1) AND (_amount !=0) AND !([player] call <b>A3A_fnc_isMember</b>)) then{_grayout = true};<br>-----------------------------------------------------<br>if((_amount <= _min) AND (_amount != -1) AND !([player] call <b>A3A_fnc_isMember</b>)) exitWith{<br>-----------------------------------------------------<br>if!(_message isEqualTo "")exitWith {["Garage", _message] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Garage", (_name + " stored in garage")] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_object] spawn <b>A3A_fnc_VEHdespawner</b>;<br>-----------------------------------------------------<br>[] call <b>JN_fnc_logistics_init</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Bring vehicle closer"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (([_cargo] call <b>A3A_fnc_canFight</b>) or !(isNull (_cargo getVariable ["helped",objNull])) or !(isNull attachedTo _cargo)) then<br>-----------------------------------------------------<br>["Cargo Load", format ["%1 is being helped or no longer needs your help",name _cargo]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Cannot load cargo: passengers have occupied cargo space!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "This vehicle can not carry this cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "There is no space for this cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Cargo Load", "Can not load this type of cargo!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Starting setup, please stand by!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Found %1 marker as start points!", count _roadMarker]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Setup completed, starting script now!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Something went wrong, result is empty, please tell Wurzel that case happened!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Junction data<br/>Exits: %1<br/>Links: %2<br/>Time: %3", count _exitPoints, count _linkPoints, _debug], true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", format ["Open segments: %1<br/> Inner Loop: %2<br/> Outer Loop: %3<br/>", str (count openSearchSegments), _innerLoop, _outerLoop], true] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Roads finished, writing data array now and deleting marker!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", (str _conNav)] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Nav Grid", "Data prepared, setting up finished nav grid"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Roads Lib", "Error while loading the roadslib!"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Roads Lib", _debugString] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["FileHigh: %1<br/>FileLow: %2", _highestFileIndex, _lowestFileIndex]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["StreetHigh: %1<br/>StreetLow: %2", _highestStreetIndex, _lowestStreetIndex]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Find Offset", format ["High Offset: %1<br/>Low Offset: %2<br/>Equal: %3", _difHighest, _difLowest, str (_difHighest == _difLowest)]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>while {!([player] call <b>A3A_fnc_isMember</b>)} do<br>-----------------------------------------------------<br>_playerMembers = (call <b>A3A_fnc_playableUnits</b>) select {([_x] call A3A_fnc_isMember) and (side group _x == teamPlayer)};<br>-----------------------------------------------------<br>_playerMembers = (call A3A_fnc_playableUnits) select {([_x] call <b>A3A_fnc_isMember</b>) and (side group _x == teamPlayer)};<br>-----------------------------------------------------<br>["Member Distance", "You have to get closer to the HQ or the closest server member in %1 seconds. <br/><br/> After this timeout you will be teleported to your HQ"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_possibleVehicle] call <b>A3A_fnc_teleportVehicleToBase</b>;<br>-----------------------------------------------------<br>["Unit Traits", format ["You have selected %1",_textX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", "Select the zone on which sending the selected troops as garrison"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if !(_positionTel inArea _nearX) exitWith {["Garrison", "You must click near a marked zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (not(sidesX getVariable [_nearX,sideUnknown] == teamPlayer)) exitWith {["Garrison", format ["That zone does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((_nearX in outpostsFIA) and !(isOnRoad getMarkerPos _nearX)) exitWith {["Garrison", "You cannot manage garrisons on this kind of zone"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if _alreadyInGarrison exitWith {["Garrison", "The units selected already are in a garrison"] call <b>A3A_fnc_customHint</b>};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Garrison", "Static crewman, prisoners, refugees or dead units cannot be added to any garrison"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ((groupID _groupX == "MineF") or (groupID _groupX == "Watch") or (isPlayer(leader _groupX))) exitWith {["Garrison", "You cannot garrison player led, Watchpost, Roadblocks or Minefield building squads"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Garrison", "Adding units to garrison"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Garrison", format ["Adding %1 squad to garrison", groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[_nearX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[_unitsX,teamPlayer,_nearX,0] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_markerX] call <b>A3A_fnc_mrkUpdate</b>;<br>-----------------------------------------------------<br>[typeOf _victim,teamPlayer,_markerX,-1] remoteExec ["<b>A3A_fnc_garrisonUpdate</b>",2];<br>-----------------------------------------------------<br>[_victim] remoteExec ["<b>A3A_fnc_postmortem</b>",2];<br>-----------------------------------------------------<br>_nul = [0,20] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>_nul = [0.25,0,getPos _victim] remoteExec ["<b>A3A_fnc_citySupportChange</b>",2];<br>-----------------------------------------------------<br>[[-1, 30], [0, 0]] remoteExec ["<b>A3A_fnc_prestige</b>",2];<br>-----------------------------------------------------<br>if (side _killer == Invaders) then {[[0, 0], [-1, 30]] remoteExec ["<b>A3A_fnc_prestige</b>",2]};<br>-----------------------------------------------------<br>["Garrison", format ["Group %1 is back to HC control because the zone which was pointed to garrison has been lost",groupID _groupX]] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (player != theBoss) exitWith {["Control Squad", "Only Commander has the ability to control HC units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (_punishmentoffenceTotal >= 1) exitWith {["Control Squad", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if !([_unit] call <b>A3A_fnc_canFight</b>) exitWith {["Control Squad", "You cannot control an unconscious or dead unit"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if !([_unit] call A3A_fnc_canFight) exitWith {["Control Squad", "You cannot control an unconscious or dead unit"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Control Squad", "Returned to original Unit as it received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Control Squad", "Returned to original Unit as controlled AI received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1;["Control Squad", format ["Time to return control to AI: %1", _timeX]] call <b>A3A_fnc_customHint</b>; _timeX = _timeX - 1; (_timeX < 0) or (isPlayer theBoss)};<br>-----------------------------------------------------<br>["Control Squad", ""] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (_unit == Petros) exitWith {["Control Unit", "You cannot control Petros"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["Control Unit", "You cannot control AI if you are not the squad leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (isPlayer _unit) exitWith {["Control Unit", "You cannot control another player"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (!(alive _unit) or (_unit getVariable ["incapacitated",false]))  exitWith {["Control Unit", "You cannot control an unconscious, a dead unit"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (side _unit != teamPlayer) exitWith {["Control Unit", format ["You cannot control a unit which does not belong to %1",nameTeamPlayer]] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>private _punishmentoffenceTotal = [getPlayerUID player, [ ["offenceTotal",0] ]] call <b>A3A_fnc_punishment_dataGet</b> select 0;<br>-----------------------------------------------------<br>if (_punishmentoffenceTotal >= 1) exitWith {["Control Unit", "Nope. Not happening."] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_owner!=player) exitWith {["Control Unit", "You cannot control AI while you are controlling another AI"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit as it received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>["Control Unit", "Returned to original Unit as controlled AI received damage"] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>waitUntil {sleep 1; ["Control Unit", format ["Time to return control to AI: %1", _timeX]] call <b>A3A_fnc_customHint</b>; _timeX = _timeX - 1; (_timeX == -1) or (isPlayer (leader group player))};<br>-----------------------------------------------------<br>["Control Unit", ""] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>if (player != leader group player) exitWith {["Dismiss Group", "You cannot dismiss anyone if you are not the squad leader"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_units findIf {!([_x] call <b>A3A_fnc_canFight</b>)} != -1) exitWith {["Dismiss Group", "You cannot disband supressed, undercover or unconscious units"] call A3A_fnc_customHint;};<br>-----------------------------------------------------<br>if (_units findIf {!([_x] call A3A_fnc_canFight)} != -1) exitWith {["Dismiss Group", "You cannot disband supressed, undercover or unconscious units"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if ([_unit] call <b>A3A_fnc_canFight</b>) then<br>-----------------------------------------------------<br>if (!isMultiplayer) then {_nul = [_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];} else {_nul = [_hr,0] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2]; [_resourcesFIA] call A3A_fnc_resourcesPlayer};<br>-----------------------------------------------------<br>if (!isMultiplayer) then {_nul = [_hr,_resourcesFIA] remoteExec ["A3A_fnc_resourcesFIA",2];} else {_nul = [_hr,0] remoteExec ["A3A_fnc_resourcesFIA",2]; [_resourcesFIA] call <b>A3A_fnc_resourcesPlayer</b>};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Dismiss Squad", "You cannot dismiss player led, Watchpost, Roadblocks or Minefield building squads"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>if (_leave) exitWith {["Dismiss Squad", "You cannot dismiss NATO groups"] call <b>A3A_fnc_customHint</b>;};<br>-----------------------------------------------------<br>case MortStaticSDKB: {_resourcesFIA = _resourcesFIA + ([SDKMortar] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case AAStaticSDKB: {_resourcesFIA = _resourcesFIA + ([staticAAteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case MGStaticSDKB: {_resourcesFIA = _resourcesFIA + ([SDKMGStatic] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>case ATStaticSDKB: {_resourcesFIA = _resourcesFIA + ([staticATteamPlayer] call <b>A3A_fnc_vehiclePrice</b>)};<br>-----------------------------------------------------<br>_resourcesFIA = _resourcesFIA + ([(typeOf _veh)] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_resourcesFIA = _resourcesFIA + ([(typeOf _subVeh)] call <b>A3A_fnc_vehiclePrice</b>);<br>-----------------------------------------------------<br>_nul = [_hr,_resourcesFIA] remoteExec ["<b>A3A_fnc_resourcesFIA</b>",2];<br>-----------------------------------------------------<br>[2,"Loading advanced towing",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>[_cargo, side group _player, true] remoteExec ["<b>A3A_fnc_vehKilledOrCaptured</b>", 2];<br>-----------------------------------------------------<br>["Advanced Towing", _msg] call <b>A3A_fnc_customHint</b>;<br>-----------------------------------------------------<br>[2,"Loaded advanced towing",_fileName] call <b>A3A_fnc_log</b>;<br>-----------------------------------------------------<br>} forEach (call <b>A3A_fnc_playableUnits</b>);<br>-----------------------------------------------------<br>if (side (leader _grp) != teamPlayer) then {[[_attackPos,(side(leader _grp)),"",false],"A3A_fnc_patrolCA"] remoteExec ["<b>A3A_fnc_scheduler</b>",2]};<br>-----------------------------------------------------<br>if (side (leader _grp) != teamPlayer) then {[[_attackPos,(side(leader _grp)),"",false],"<b>A3A_fnc_patrolCA</b>"] remoteExec ["A3A_fnc_scheduler",2]};<br>-----------------------------------------------------<br>["3CB_SOV_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_SOV_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKM_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Teamleader_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Medic_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_MachineGunner_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_Marksman_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_BAF_AT_MTP"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Teamleader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_MachineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_Marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["3CB_TKA_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_afrf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_gref_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_teamLeader"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_medic"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_machineGunner"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_marksman"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["rhs_usaf_AT"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_enoch"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_teamLeader_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_medic_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_machineGunner_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_marksman_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_opfor_AT_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_TeamLeader_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_Medic_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_MachineGunner_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_Marksman_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["Vanilla_AAF_AT1_Altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_altis"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_tanoa"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_teamLeader_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_medic_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_machineGunner_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_marksman_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>["vanilla_blufor_AT_WDL"] call <b>A3A_fnc_getLoadout</b>,<br>-----------------------------------------------------<br>